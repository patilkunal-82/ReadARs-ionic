(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{W9vR:function(n,l,e){"use strict";e.r(l);var o=e("CcnG"),t=function(){return function(){}}(),u=e("oBZk"),r=e("ZZ/e"),i=e("gIcY"),s=e("Ip0R"),a=e("mrSG"),c=e("azqb"),b=e("d5rD"),p=e("lGQG"),d=e("Pn9U"),h=e("Yttj"),g=e("t8sF"),m=e("iWj2"),f=function(){function n(n,l,e,o,t,u,r,i,s,a,b,p){this._modalController=n,this._alertController=l,this.booksService=e,this.fb=o,this._camera=t,this._webview=u,this.file=r,this.plt=i,this.filePath=s,this.authService=a,this.webview=b,this.toastCtrl=p,this.dataReader=new FileReader,this.images=[],this.booklanguage=c.d,this.bookgenre=c.c,this.submitted=null,this.showForm=!0,this.panelOpenState=!1,this.username=void 0,this.formErrors={bookname:"",booklanguage:"",bookgenre:"",bookowneraddress:"",bookownertelnum:"",bookrating:"",bookauthor:""},this.validationMessages={bookname:{required:"Book Name is required.",minlength:"Book Name must be at least 1 character long.",maxlength:"BookName cannot be more than 40 characters long."},booklanguage:{required:"Book Language is required.",minlength:"Book Language must be at least 2 characters long.",maxlength:"Book Language cannot be more than 25 characters long."},bookgenre:{required:"Book Language is required.",minlength:"Book Language must be at least 2 characters long.",maxlength:"Book Language cannot be more than 25 characters long."},bookowneraddress:{required:"Address is required."},bookownertelnum:{required:"Contact number is required.",pattern:"Contact number must contain only numbers."},booauthor:{required:"Author Name is required.",minlength:"Author Name must be at least 1 character long.",maxlength:"Author Name cannot be more than 40 characters long."}}}return n.prototype.ngOnInit=function(){var n=this;this.createForm(),this.authService.loadUserCredentials(),this.subscription=this.authService.getUsername().subscribe(function(l){console.log(l),n.username=l}),this.booksService.getBooks().subscribe(function(l){n.books=l},function(l){return n.errMess=l}),document.querySelector("ion-button").addEventListener("click",this.onSubmit)},n.prototype.onFileChanged=function(n){console.log(n),this.selectedFile=n.target.files[0],console.log("Event",n),console.log("Event target files",n.target.files),console.log("selected file contnets",this.selectedFile),console.log("selected file name",this.selectedFile.name),this.uploadData=new FormData,this.uploadData.append("imageFile",this.selectedFile,this.selectedFile.name),this.dataReader.readAsArrayBuffer(n.target.files[0])},n.prototype.presentToast=function(n){return a.a(this,void 0,void 0,function(){return a.c(this,function(l){switch(l.label){case 0:return[4,this.toastCtrl.create({message:n,duration:2e3,position:"middle"})];case 1:return l.sent().present(),[2]}})})},n.prototype.createForm=function(){var n=this;this.addBookFormGroup=this.fb.group({bookname:["",[i.o.required,i.o.minLength(1),i.o.maxLength(40)]],booklanguage:["",[i.o.required,i.o.minLength(2),i.o.maxLength(25)]],bookgenre:["",[i.o.required,i.o.minLength(2),i.o.maxLength(25)]],bookowneraddress:["",[i.o.required]],bookownertelnum:["",[i.o.required,i.o.pattern]],bookrating:"5",bookauthor:["",[i.o.required,i.o.minLength(1),i.o.maxLength(200)]],bookcoverimage:""}),this.addBookFormGroup.valueChanges.subscribe(function(l){return n.onValueChanged(l)})},n.prototype.onValueChanged=function(n){if(this.addBookFormGroup){var l=this.addBookFormGroup;for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]="";var o=l.get(e);if(o&&o.dirty&&!o.valid){var t=this.validationMessages[e];for(var u in o.errors)o.errors.hasOwnProperty(u)&&(this.formErrors[e]+=t[u]+" ")}}}},n.prototype.onSubmit=function(){return a.a(this,void 0,void 0,function(){var n=this;return a.c(this,function(l){switch(l.label){case 0:return[4,this._alertController.create({header:"Add Book",message:"Select your option..",buttons:[{text:"Add this",handler:function(){n.addbook=n.addBookFormGroup.value,n.addbook.bookcurrentstatus="available",console.log(n.addbook),n.showForm=!1,n.booksService.addBook(n.addbook).subscribe(function(l){console.log("response received-BOOK ADDED"),n.submitted=l,n.booksService.uploadImage(n.submitted._id,n.uploadData).subscribe(function(l){console.log(l),n.presentToast("Book Added Successfully"),n.ngOnInit(),n.receivedImageData=l,n.base64Data=n.receivedImageData.pic,n.convertedImage="data:image/jpeg;base64,"+n.base64Data}),n.addbook=null,setTimeout(function(){n.submitted=null,n.showForm=!0},5e3)},function(n){return console.log(n.status,n.message)}),n.addBookFormGroup.reset({bookname:"",booklanguage:"",bookgenre:"",bookowneraddress:"",bookownertelnum:"",bookrating:"5",bookcoverimage:""}),n.capturedImage=void 0,n.addbookDetailsFormDirective.resetForm(),n.closeModal()}},{text:"Add this & 1 more",handler:function(){n.addbook=n.addBookFormGroup.value,n.addbook.bookcurrentstatus="available",console.log(n.addbook),n.showForm=!1,n.booksService.addBook(n.addbook).subscribe(function(l){console.log("response received"),n.submitted=l,console.log(n.submitted),n.booksService.uploadImage(n.submitted._id,n.uploadData).subscribe(function(l){console.log(l),n.presentToast("Book Added Successfully"),n.ngOnInit(),n.receivedImageData=l,n.base64Data=n.receivedImageData.pic,n.convertedImage="data:image/jpeg;base64,"+n.base64Data}),n.addbook=null,setTimeout(function(){n.submitted=null,n.showForm=!0},5e3)},function(n){return console.log(n.status,n.message)}),n.addBookFormGroup.reset({bookname:"",booklanguage:"",bookgenre:"",bookowneraddress:"",bookownertelnum:"",bookrating:"5",bookcoverimage:""}),n.capturedImage=void 0,n.addbookDetailsFormDirective.resetForm()}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.selectImageSource=function(){return a.a(this,void 0,void 0,function(){var n,l,e=this;return a.c(this,function(o){switch(o.label){case 0:return n={quality:100,destinationType:this._camera.DestinationType.FILE_URI,encodingType:this._camera.EncodingType.PNG,mediaType:this._camera.MediaType.PICTURE,targetHeight:180,targetWidth:100,correctOrientation:!0,sourceType:this._camera.PictureSourceType.CAMERA},l={quality:100,destinationType:this._camera.DestinationType.FILE_URI,encodingType:this._camera.EncodingType.PNG,mediaType:this._camera.MediaType.PICTURE,targetHeight:180,targetWidth:100,correctOrientation:!0,sourceType:this._camera.PictureSourceType.SAVEDPHOTOALBUM},[4,this._alertController.create({header:"Select Source",message:"Pick a source for your image",buttons:[{text:"Camera",handler:function(){e._camera.getPicture(n).then(function(n){console.log(n);var l=n.substring(n.lastIndexOf("/")+1),o=n.substring(0,n.lastIndexOf("/")+1);console.log("image name",l),console.log("image path",o),console.log("before read as data url"),e.file.readAsDataURL(o,l).then(function(n){return e.capturedImage=n}),console.log("after read as data url"),e.file.resolveLocalFilesystemUrl(n).then(function(n){console.log("inside resolve local file system url"),n.file(function(n){return e.readFile(n)})}).catch(function(n){console.log("error reading file")})},function(n){console.log(n)})}},{text:"Gallery",handler:function(){e._camera.getPicture(l).then(function(n){var l=n.substring(n.lastIndexOf("/")+1),o=n.substring(0,n.lastIndexOf("/")+1);e.file.readAsDataURL(o,l).then(function(n){return e.capturedImage=n}),e.file.resolveLocalFilesystemUrl(n).then(function(n){console.log("inside resolve local file system url"),n.file(function(n){return e.readFile(n)})}).catch(function(n){console.log("error reading file")})},function(n){console.log(n)})}}]})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2]}})})},n.prototype.readFile=function(n){var l=this,e=new FileReader;console.log("file type",n.type),console.log("file type",n.name),e.onloadend=function(){if(l.uploadData=new FormData,e.result){var o=new Blob([e.result],{type:n.type});l.uploadData.append("imageFile",o,n.name)}},e.readAsArrayBuffer(n)},n.prototype.closeModal=function(){console.log("inside close modal"),this._modalController.dismiss()},n}(),k=o.nb({encapsulation:0,styles:[[".book-img[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid gray;margin:5px auto}.displaycard[_ngcontent-%COMP%]{margin:5px;padding:5px}ion-button[_ngcontent-%COMP%]{--background:#F4F6F7}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}.center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block!important}"]],data:{}});function y(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["style","color:darkgrey;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.component.formErrors.bookname)})}function v(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"ion-icon",[["src","../assets/icon/camera-outline.svg"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.selectImageSource()&&o),o},u.nb,u.r)),o.ob(1,49152,null,0,r.C,[o.h,o.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/camera-outline.svg")},null)}function C(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,6,"ion-img",[["formControlName","bookcoverimage"],["height","100"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,u.ob,u.s)),o.ob(1,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(3,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[8,null],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(5,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(6,49152,null,0,r.D,[o.h,o.k],{src:[0,"src"]},null)],function(n,l){var e=l.component;n(l,1,0,""),n(l,3,0,"bookcoverimage"),n(l,6,0,e.capturedImage)},function(n,l){n(l,0,0,o.yb(l,1).required?"":null,o.yb(l,5).ngClassUntouched,o.yb(l,5).ngClassTouched,o.yb(l,5).ngClassPristine,o.yb(l,5).ngClassDirty,o.yb(l,5).ngClassValid,o.yb(l,5).ngClassInvalid,o.yb(l,5).ngClassPending)})}function x(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,u.Db,u.I)),o.ob(1,49152,null,0,r.nb,[o.h,o.k],{value:[0,"value"]},null),(n()(),o.Gb(2,0,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function I(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["style","color:darkgrey;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.component.formErrors.bookgenre)})}function w(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,u.Db,u.I)),o.ob(1,49152,null,0,r.nb,[o.h,o.k],{value:[0,"value"]},null),(n()(),o.Gb(2,0,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function O(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["style","color:darkgrey;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.component.formErrors.booklanguage)})}function B(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["style","color:darkgrey;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.component.formErrors.bookauthor)})}function E(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["style","color:darkgrey;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.component.formErrors.bookrating)})}function A(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["style","color:darkgrey;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.component.formErrors.bookowneraddress)})}function F(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["style","color:darkgrey;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.component.formErrors.bookownertelnum)})}function S(n){return o.Ib(0,[o.Eb(402653184,1,{addbookDetailsFormDirective:0}),(n()(),o.pb(1,0,null,null,10,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,u.mb,u.q)),o.ob(2,49152,null,0,r.B,[o.h,o.k],{translucent:[0,"translucent"]},null),(n()(),o.pb(3,0,null,0,8,"ion-toolbar",[],null,null,null,u.Qb,u.U)),o.ob(4,49152,null,0,r.Bb,[o.h,o.k],null,null),(n()(),o.pb(5,0,null,0,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n             color: #FDFEFE  ; font-weight: bolder; font-size: 15px; text-align: start;"],["text-center",""]],null,null,null,u.Pb,u.T)),o.ob(6,49152,null,0,r.zb,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Add 1 or more books.. "])),(n()(),o.pb(8,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,u.ab,u.e)),o.ob(9,49152,null,0,r.l,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,1,"ion-icon",[["size","medium"],["src","../assets/icon/close-outline.svg"],["style","color: whitesmoke;"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.closeModal()&&o),o},u.nb,u.r)),o.ob(11,49152,null,0,r.C,[o.h,o.k],{size:[0,"size"],src:[1,"src"]},null),(n()(),o.pb(12,0,null,null,143,"ion-content",[],null,null,null,u.ib,u.m)),o.ob(13,49152,null,0,r.u,[o.h,o.k],null,null),(n()(),o.pb(14,0,null,0,141,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0;return"submit"===l&&(t=!1!==o.yb(n,16).onSubmit(e)&&t),"reset"===l&&(t=!1!==o.yb(n,16).onReset()&&t),t},null,null)),o.ob(15,16384,null,0,i.q,[],null,null),o.ob(16,540672,[[1,4],["fform",4]],0,i.e,[[8,null],[8,null]],{form:[0,"form"]},null),o.Db(2048,null,i.a,null,[i.e]),o.ob(18,16384,null,0,i.k,[[4,i.a]],null,null),(n()(),o.pb(19,0,null,null,13,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(20,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(21,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.tb,u.x)),o.ob(22,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Book Name:"])),(n()(),o.pb(24,0,null,0,8,"ion-input",[["formControlName","bookname"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,27)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,27)._handleInputEvent(e.target.value)&&t),t},u.qb,u.u)),o.ob(25,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(27,16384,null,0,r.Ob,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Ob]),o.ob(29,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(31,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(32,49152,null,0,r.G,[o.h,o.k],{required:[0,"required"],type:[1,"type"]},null),(n()(),o.gb(16777216,null,null,1,null,y)),o.ob(34,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(35,0,null,null,11,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(36,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(37,0,null,0,5,"ion-label",[["color","medium"]],null,null,null,u.tb,u.x)),o.ob(38,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Book Cover "])),(n()(),o.gb(16777216,null,0,1,null,v)),o.ob(41,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.Gb(-1,0,[": "])),(n()(),o.pb(43,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Ob,u.S)),o.ob(44,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,C)),o.ob(46,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(47,0,null,null,15,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(48,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(49,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.tb,u.x)),o.ob(50,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Book Genre:"])),(n()(),o.pb(52,0,null,0,10,"ion-select",[["formControlName","bookgenre"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,55)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,55)._handleChangeEvent(e.target.value)&&t),t},u.Eb,u.H)),o.ob(53,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(55,16384,null,0,r.Nb,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Nb]),o.ob(57,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(59,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(60,49152,null,0,r.mb,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,x)),o.ob(62,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.gb(16777216,null,null,1,null,I)),o.ob(64,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(65,0,null,null,15,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(66,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(67,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.tb,u.x)),o.ob(68,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Book Language:"])),(n()(),o.pb(70,0,null,0,10,"ion-select",[["formControlName","booklanguage"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,73)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,73)._handleChangeEvent(e.target.value)&&t),t},u.Eb,u.H)),o.ob(71,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(73,16384,null,0,r.Nb,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Nb]),o.ob(75,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(77,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(78,49152,null,0,r.mb,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,w)),o.ob(80,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.gb(16777216,null,null,1,null,O)),o.ob(82,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(83,0,null,null,13,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(84,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(85,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.tb,u.x)),o.ob(86,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Book's Author:"])),(n()(),o.pb(88,0,null,0,8,"ion-input",[["formControlName","bookauthor"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,91)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,91)._handleInputEvent(e.target.value)&&t),t},u.qb,u.u)),o.ob(89,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(91,16384,null,0,r.Ob,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Ob]),o.ob(93,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(95,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(96,49152,null,0,r.G,[o.h,o.k],{required:[0,"required"],type:[1,"type"]},null),(n()(),o.gb(16777216,null,null,1,null,B)),o.ob(98,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(99,0,null,null,13,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(100,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(101,0,null,0,2,"ion-text",[["color","medium"]],null,null,null,u.Mb,u.Q)),o.ob(102,49152,null,0,r.wb,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Your Rating for the book:"])),(n()(),o.pb(104,0,null,0,8,"ion-range",[["formControlName","bookrating"],["max","5"],["min","1"],["name","rating"],["pin","true"],["required",""],["snaps",""],["tickInterval","1"],["value","5"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,107)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,107)._handleChangeEvent(e.target.value)&&t),t},u.wb,u.A)),o.ob(105,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(107,16384,null,0,r.Nb,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Nb]),o.ob(109,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(111,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(112,49152,null,0,r.bb,[o.h,o.k],{name:[0,"name"],min:[1,"min"],max:[2,"max"],pin:[3,"pin"],snaps:[4,"snaps"],value:[5,"value"]},null),(n()(),o.gb(16777216,null,null,1,null,E)),o.ob(114,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(115,0,null,null,13,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(116,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(117,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.tb,u.x)),o.ob(118,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Your address:"])),(n()(),o.pb(120,0,null,0,8,"ion-input",[["formControlName","bookowneraddress"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,123)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,123)._handleInputEvent(e.target.value)&&t),t},u.qb,u.u)),o.ob(121,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(123,16384,null,0,r.Ob,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Ob]),o.ob(125,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(127,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(128,49152,null,0,r.G,[o.h,o.k],{required:[0,"required"],type:[1,"type"]},null),(n()(),o.gb(16777216,null,null,1,null,A)),o.ob(130,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(131,0,null,null,13,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(132,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(133,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.tb,u.x)),o.ob(134,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Your contact number:"])),(n()(),o.pb(136,0,null,0,8,"ion-input",[["formControlName","bookownertelnum"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,139)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,139)._handleInputEvent(e.target.value)&&t),t},u.qb,u.u)),o.ob(137,16384,null,0,i.n,[],{required:[0,"required"]},null),o.Db(1024,null,i.g,function(n){return[n]},[i.n]),o.ob(139,16384,null,0,r.Ob,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Ob]),o.ob(141,671744,null,0,i.d,[[3,i.a],[6,i.g],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(143,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(144,49152,null,0,r.G,[o.h,o.k],{required:[0,"required"],type:[1,"type"]},null),(n()(),o.gb(16777216,null,null,1,null,F)),o.ob(146,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(147,0,null,null,8,"ion-row",[],null,null,null,u.Bb,u.F)),o.ob(148,49152,null,0,r.ib,[o.h,o.k],null,null),(n()(),o.pb(149,0,null,0,4,"ion-col",[],null,null,null,u.hb,u.l)),o.ob(150,49152,null,0,r.t,[o.h,o.k],null,null),(n()(),o.pb(151,0,null,0,2,"ion-button",[["class","center"],["expand","full"],["margin-top",""],["shape","round"],["style","color:#1B4F72"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.onSubmit()&&o),o},u.Z,u.d)),o.ob(152,49152,null,0,r.k,[o.h,o.k],{disabled:[0,"disabled"],expand:[1,"expand"],shape:[2,"shape"]},null),(n()(),o.Gb(-1,0,["Submit"])),(n()(),o.pb(154,0,null,0,1,"ion-col",[],null,null,null,u.hb,u.l)),o.ob(155,49152,null,0,r.t,[o.h,o.k],null,null)],function(n,l){var e=l.component;n(l,2,0,!0),n(l,11,0,"medium","../assets/icon/close-outline.svg"),n(l,16,0,e.addBookFormGroup),n(l,22,0,"medium"),n(l,25,0,""),n(l,29,0,"bookname"),n(l,32,0,"","text"),n(l,34,0,e.formErrors.bookname),n(l,38,0,"medium"),n(l,41,0,!e.capturedImage),n(l,46,0,e.capturedImage),n(l,50,0,"medium"),n(l,53,0,""),n(l,57,0,"bookgenre"),n(l,62,0,e.bookgenre),n(l,64,0,e.formErrors.bookgenre),n(l,68,0,"medium"),n(l,71,0,""),n(l,75,0,"booklanguage"),n(l,80,0,e.booklanguage),n(l,82,0,e.formErrors.booklanguage),n(l,86,0,"medium"),n(l,89,0,""),n(l,93,0,"bookauthor"),n(l,96,0,"","text"),n(l,98,0,e.formErrors.bookauthor),n(l,102,0,"medium"),n(l,105,0,""),n(l,109,0,"bookrating"),n(l,112,0,"rating","1","5","true","","5"),n(l,114,0,e.formErrors.bookrating),n(l,118,0,"medium"),n(l,121,0,""),n(l,125,0,"bookowneraddress"),n(l,128,0,"","text"),n(l,130,0,e.formErrors.bookowneraddress),n(l,134,0,"medium"),n(l,137,0,""),n(l,141,0,"bookownertelnum"),n(l,144,0,"","text"),n(l,146,0,e.formErrors.bookownertelnum),n(l,152,0,e.addBookFormGroup.invalid,"full","round")},function(n,l){n(l,14,0,o.yb(l,18).ngClassUntouched,o.yb(l,18).ngClassTouched,o.yb(l,18).ngClassPristine,o.yb(l,18).ngClassDirty,o.yb(l,18).ngClassValid,o.yb(l,18).ngClassInvalid,o.yb(l,18).ngClassPending),n(l,24,0,o.yb(l,25).required?"":null,o.yb(l,31).ngClassUntouched,o.yb(l,31).ngClassTouched,o.yb(l,31).ngClassPristine,o.yb(l,31).ngClassDirty,o.yb(l,31).ngClassValid,o.yb(l,31).ngClassInvalid,o.yb(l,31).ngClassPending),n(l,52,0,o.yb(l,53).required?"":null,o.yb(l,59).ngClassUntouched,o.yb(l,59).ngClassTouched,o.yb(l,59).ngClassPristine,o.yb(l,59).ngClassDirty,o.yb(l,59).ngClassValid,o.yb(l,59).ngClassInvalid,o.yb(l,59).ngClassPending),n(l,70,0,o.yb(l,71).required?"":null,o.yb(l,77).ngClassUntouched,o.yb(l,77).ngClassTouched,o.yb(l,77).ngClassPristine,o.yb(l,77).ngClassDirty,o.yb(l,77).ngClassValid,o.yb(l,77).ngClassInvalid,o.yb(l,77).ngClassPending),n(l,88,0,o.yb(l,89).required?"":null,o.yb(l,95).ngClassUntouched,o.yb(l,95).ngClassTouched,o.yb(l,95).ngClassPristine,o.yb(l,95).ngClassDirty,o.yb(l,95).ngClassValid,o.yb(l,95).ngClassInvalid,o.yb(l,95).ngClassPending),n(l,104,0,o.yb(l,105).required?"":null,o.yb(l,111).ngClassUntouched,o.yb(l,111).ngClassTouched,o.yb(l,111).ngClassPristine,o.yb(l,111).ngClassDirty,o.yb(l,111).ngClassValid,o.yb(l,111).ngClassInvalid,o.yb(l,111).ngClassPending),n(l,120,0,o.yb(l,121).required?"":null,o.yb(l,127).ngClassUntouched,o.yb(l,127).ngClassTouched,o.yb(l,127).ngClassPristine,o.yb(l,127).ngClassDirty,o.yb(l,127).ngClassValid,o.yb(l,127).ngClassInvalid,o.yb(l,127).ngClassPending),n(l,136,0,o.yb(l,137).required?"":null,o.yb(l,143).ngClassUntouched,o.yb(l,143).ngClassTouched,o.yb(l,143).ngClassPristine,o.yb(l,143).ngClassDirty,o.yb(l,143).ngClassValid,o.yb(l,143).ngClassInvalid,o.yb(l,143).ngClassPending)})}function _(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"app-addbook",[],null,null,null,S,k)),o.ob(1,114688,null,0,f,[r.Hb,r.b,b.a,i.b,d.a,h.a,g.a,r.Kb,m.a,p.a,h.a,r.Pb],null,null)],function(n,l){n(l,1,0)},null)}var D=o.lb("app-addbook",f,_,{},{},[]),R=e("0mKY"),M=e("5IZ8"),T=function(){function n(n){this.rawFile=n;var l,e=(l=n)&&(l.nodeName||l.prop&&l.attr&&l.find)?n.value:n;this["_createFrom"+("string"==typeof e?"FakePath":"Object")](e)}return n.prototype._createFromFakePath=function(n){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+n.slice(n.lastIndexOf(".")+1).toLowerCase(),this.name=n.slice(n.lastIndexOf("/")+n.lastIndexOf("\\")+2)},n.prototype._createFromObject=function(n){this.size=n.size,this.type=n.type,this.name=n.name},n}(),L=function(){function n(n,l,e){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=n,this.some=l,this.options=e,this.file=new T(l),this._file=l,n.options&&(this.method=n.options.method||"POST",this.alias=n.options.itemAlias||"file"),this.url=n.options.url}return n.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(n){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},n.prototype.cancel=function(){this.uploader.cancelItem(this)},n.prototype.remove=function(){this.uploader.removeFromQueue(this)},n.prototype.onBeforeUpload=function(){},n.prototype.onBuildForm=function(n){return{form:n}},n.prototype.onProgress=function(n){return{progress:n}},n.prototype.onSuccess=function(n,l,e){return{response:n,status:l,headers:e}},n.prototype.onError=function(n,l,e){return{response:n,status:l,headers:e}},n.prototype.onCancel=function(n,l,e){return{response:n,status:l,headers:e}},n.prototype.onComplete=function(n,l,e){return{response:n,status:l,headers:e}},n.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},n.prototype._onBuildForm=function(n){this.onBuildForm(n)},n.prototype._onProgress=function(n){this.progress=n,this.onProgress(n)},n.prototype._onSuccess=function(n,l,e){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(n,l,e)},n.prototype._onError=function(n,l,e){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(n,l,e)},n.prototype._onCancel=function(n,l,e){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(n,l,e)},n.prototype._onComplete=function(n,l,e){this.onComplete(n,l,e),this.uploader.options.removeAfterUpload&&this.remove()},n.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},n}(),q=function(){function n(){}return n.getMimeClass=function(n){var l="application";return-1!==this.mime_psd.indexOf(n.type)?l="image":n.type.match("image.*")?l="image":n.type.match("video.*")?l="video":n.type.match("audio.*")?l="audio":"application/pdf"===n.type?l="pdf":-1!==this.mime_compress.indexOf(n.type)?l="compress":-1!==this.mime_doc.indexOf(n.type)?l="doc":-1!==this.mime_xsl.indexOf(n.type)?l="xls":-1!==this.mime_ppt.indexOf(n.type)&&(l="ppt"),"application"===l&&(l=this.fileTypeDetection(n.name)),l},n.fileTypeDetection=function(n){var l={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},e=n.split(".");if(e.length<2)return"application";var o=e[e.length-1].toLowerCase();return void 0===l[o]?"application":l[o]},n.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],n.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],n.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],n.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],n.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],n}(),P=function(n){var l="function"==typeof Symbol&&n[Symbol.iterator],e=0;return l?l.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}},G=function(){function n(n){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(n){return n._file},formatDataFunctionIsAsync:!1},this.setOptions(n),this.response=new o.m}return n.prototype.setOptions=function(n){this.options=Object.assign(this.options,n),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var l=0;l<this.queue.length;l++)this.queue[l].url=this.options.url},n.prototype.addToQueue=function(n,l,e){var o,t,u=this,r=[];try{for(var i=P(n),s=i.next();!s.done;s=i.next())r.push(s.value)}catch(p){o={error:p}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}var a=this._getFilters(e),c=this.queue.length,b=[];r.map(function(n){l||(l=u.options);var e=new T(n);if(u._isValidFile(e,a,l)){var o=new L(u,n,l);b.push(o),u.queue.push(o),u._onAfterAddingFile(o)}else u._onWhenAddingFileFailed(e,a[u._failFilterIndex],l)}),this.queue.length!==c&&(this._onAfterAddingAll(b),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},n.prototype.removeFromQueue=function(n){var l=this.getIndexOfItem(n),e=this.queue[l];e.isUploading&&e.cancel(),this.queue.splice(l,1),this.progress=this._getTotalProgress()},n.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},n.prototype.uploadItem=function(n){var l=this.getIndexOfItem(n),e=this.queue[l],o=this.options.isHTML5?"_xhrTransport":"_iframeTransport";e._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[o](e))},n.prototype.cancelItem=function(n){var l=this.getIndexOfItem(n),e=this.queue[l];e&&e.isUploading&&(this.options.isHTML5?e._xhr:e._form).abort()},n.prototype.uploadAll=function(){var n=this.getNotUploadedItems().filter(function(n){return!n.isUploading});n.length&&(n.map(function(n){return n._prepareToUploading()}),n[0].upload())},n.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(n){return n.cancel()})},n.prototype.isFile=function(n){return function(n){return File&&n instanceof File}(n)},n.prototype.isFileLikeObject=function(n){return n instanceof T},n.prototype.getIndexOfItem=function(n){return"number"==typeof n?n:this.queue.indexOf(n)},n.prototype.getNotUploadedItems=function(){return this.queue.filter(function(n){return!n.isUploaded})},n.prototype.getReadyItems=function(){return this.queue.filter(function(n){return n.isReady&&!n.isUploading}).sort(function(n,l){return n.index-l.index})},n.prototype.destroy=function(){},n.prototype.onAfterAddingAll=function(n){return{fileItems:n}},n.prototype.onBuildItemForm=function(n,l){return{fileItem:n,form:l}},n.prototype.onAfterAddingFile=function(n){return{fileItem:n}},n.prototype.onWhenAddingFileFailed=function(n,l,e){return{item:n,filter:l,options:e}},n.prototype.onBeforeUploadItem=function(n){return{fileItem:n}},n.prototype.onProgressItem=function(n,l){return{fileItem:n,progress:l}},n.prototype.onProgressAll=function(n){return{progress:n}},n.prototype.onSuccessItem=function(n,l,e,o){return{item:n,response:l,status:e,headers:o}},n.prototype.onErrorItem=function(n,l,e,o){return{item:n,response:l,status:e,headers:o}},n.prototype.onCancelItem=function(n,l,e,o){return{item:n,response:l,status:e,headers:o}},n.prototype.onCompleteItem=function(n,l,e,o){return{item:n,response:l,status:e,headers:o}},n.prototype.onCompleteAll=function(){},n.prototype._mimeTypeFilter=function(n){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(n.type))},n.prototype._fileSizeFilter=function(n){return!(this.options.maxFileSize&&n.size>this.options.maxFileSize)},n.prototype._fileTypeFilter=function(n){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(q.getMimeClass(n)))},n.prototype._onErrorItem=function(n,l,e,o){n._onError(l,e,o),this.onErrorItem(n,l,e,o)},n.prototype._onCompleteItem=function(n,l,e,o){n._onComplete(l,e,o),this.onCompleteItem(n,l,e,o);var t=this.getReadyItems()[0];this.isUploading=!1,t?t.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},n.prototype._headersGetter=function(n){return function(l){return l?n[l.toLowerCase()]||void 0:n}},n.prototype._xhrTransport=function(n){var l,e,o,t,u,r=this,i=this,s=n._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(n),"number"!=typeof n._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)u=this.options.formatDataFunction(n);else{u=new FormData,this._onBuildItemForm(n,u);var a=function(){return u.append(n.alias,n._file,n.file.name)};this.options.parametersBeforeFiles||a(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(l){var e=r.options.additionalParameter[l];"string"==typeof e&&e.indexOf("{{file_name}}")>=0&&(e=e.replace("{{file_name}}",n.file.name)),u.append(l,e)}),this.options.parametersBeforeFiles&&a()}if(s.upload.onprogress=function(l){var e=Math.round(l.lengthComputable?100*l.loaded/l.total:0);r._onProgressItem(n,e)},s.onload=function(){var l=r._parseHeaders(s.getAllResponseHeaders()),e=r._transformResponse(s.response,l),o=r._isSuccessCode(s.status)?"Success":"Error";r["_on"+o+"Item"](n,e,s.status,l),r._onCompleteItem(n,e,s.status,l)},s.onerror=function(){var l=r._parseHeaders(s.getAllResponseHeaders()),e=r._transformResponse(s.response,l);r._onErrorItem(n,e,s.status,l),r._onCompleteItem(n,e,s.status,l)},s.onabort=function(){var l=r._parseHeaders(s.getAllResponseHeaders()),e=r._transformResponse(s.response,l);r._onCancelItem(n,e,s.status,l),r._onCompleteItem(n,e,s.status,l)},s.open(n.method,n.url,!0),s.withCredentials=n.withCredentials,this.options.headers)try{for(var c=P(this.options.headers),b=c.next();!b.done;b=c.next())s.setRequestHeader((h=b.value).name,h.value)}catch(g){l={error:g}}finally{try{b&&!b.done&&(e=c.return)&&e.call(c)}finally{if(l)throw l.error}}if(n.headers.length)try{for(var p=P(n.headers),d=p.next();!d.done;d=p.next()){var h;s.setRequestHeader((h=d.value).name,h.value)}}catch(m){o={error:m}}finally{try{d&&!d.done&&(t=p.return)&&t.call(p)}finally{if(o)throw o.error}}this.authToken&&s.setRequestHeader(this.authTokenHeader,this.authToken),s.onreadystatechange=function(){s.readyState==XMLHttpRequest.DONE&&i.response.emit(s.responseText)},this.options.formatDataFunctionIsAsync?u.then(function(n){return s.send(JSON.stringify(n))}):s.send(u),this._render()},n.prototype._getTotalProgress=function(n){if(void 0===n&&(n=0),this.options.removeAfterUpload)return n;var l=this.getNotUploadedItems().length,e=100/this.queue.length;return Math.round((l?this.queue.length-l:this.queue.length)*e+n*e/100)},n.prototype._getFilters=function(n){if(!n)return this.options.filters;if(Array.isArray(n))return n;if("string"==typeof n){var l=n.match(/[^\s,]+/g);return this.options.filters.filter(function(n){return-1!==l.indexOf(n.name)})}return this.options.filters},n.prototype._render=function(){},n.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},n.prototype._isValidFile=function(n,l,e){var o=this;return this._failFilterIndex=-1,!l.length||l.every(function(l){return o._failFilterIndex++,l.fn.call(o,n,e)})},n.prototype._isSuccessCode=function(n){return n>=200&&n<300||304===n},n.prototype._transformResponse=function(n,l){return n},n.prototype._parseHeaders=function(n){var l,e,o,t={};return n?(n.split("\n").map(function(n){o=n.indexOf(":"),l=n.slice(0,o).trim().toLowerCase(),e=n.slice(o+1).trim(),l&&(t[l]=t[l]?t[l]+", "+e:e)}),t):t},n.prototype._onWhenAddingFileFailed=function(n,l,e){this.onWhenAddingFileFailed(n,l,e)},n.prototype._onAfterAddingFile=function(n){this.onAfterAddingFile(n)},n.prototype._onAfterAddingAll=function(n){this.onAfterAddingAll(n)},n.prototype._onBeforeUploadItem=function(n){n._onBeforeUpload(),this.onBeforeUploadItem(n)},n.prototype._onBuildItemForm=function(n,l){n._onBuildForm(l),this.onBuildItemForm(n,l)},n.prototype._onProgressItem=function(n,l){var e=this._getTotalProgress(l);this.progress=e,n._onProgress(l),this.onProgressItem(n,l),this.onProgressAll(e),this._render()},n.prototype._onSuccessItem=function(n,l,e,o){n._onSuccess(l,e,o),this.onSuccessItem(n,l,e,o)},n.prototype._onCancelItem=function(n,l,e,o){n._onCancel(l,e,o),this.onCancelItem(n,l,e,o)},n}(),N=function(){function n(n){this.onFileSelected=new o.m,this.element=n}return n.prototype.getOptions=function(){return this.uploader.options},n.prototype.getFilters=function(){return{}},n.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},n.prototype.onChange=function(){var n=this.element.nativeElement.files,l=this.getOptions(),e=this.getFilters();this.uploader.addToQueue(n,l,e),this.onFileSelected.emit(n),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},n}(),U=function(){return function(){}}(),z=function(){function n(n,l){this._modalController=n,this.fb=l,this.uploaderAnchor=new G({}),this.uploaderContent=new G({}),this.hasBaseDropZoneOver=!1,this.formErrors={anchorpagenr:""},this.validationMessages={anchorpagenr:{required:"Anchor Book Page # is required.",minlength:"Must be at least 1 character long.",maxlength:"Cannot be more than 5 characters long."}}}return n.prototype.ngOnInit=function(){this.createForm()},n.prototype.submitNr=function(){this.pageNr=this.addAnchorPageNrGroup.value},n.prototype.createForm=function(){this.addAnchorPageNrGroup=this.fb.group({anchorpagenr:["",[i.o.required,i.o.minLength(1),i.o.maxLength(5)]]})},n.prototype.getAnchorFiles=function(){return this.uploaderAnchor.queue.map(function(n){return n.file})},n.prototype.getAnchorContentFiles=function(){return this.uploaderContent.queue.map(function(n){return n.file})},n.prototype.fileOverBase=function(n){this.hasBaseDropZoneOver=n},n.prototype.reorderFiles=function(n){var l=this.uploaderAnchor.queue.splice(n.detail.from,1)[0];this.uploaderAnchor.queue.splice(n.detail.to,0,l)},n}(),$=o.nb({encapsulation:0,styles:[[".drop-zone[_ngcontent-%COMP%]{background-color:#f6f6f6;border:3px dotted #dedddd;height:30vh;display:flex;align-items:center;justify-content:center;margin:20px 0}.file-input-container[_ngcontent-%COMP%]{text-align:center}.file-input-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#e9f7ef;border:1px solid #ccc;padding:5px;cursor:pointer;margin:5px}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.displaycard[_ngcontent-%COMP%]{margin:10px;padding:5px 1px 5px 5px}"]],data:{}});function j(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,6,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,2,"ion-label",[],null,null,null,u.tb,u.x)),o.ob(3,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(4,0,[" "," "])),(n()(),o.pb(5,0,null,0,1,"ion-reorder",[],null,null,null,u.Ab,u.D)),o.ob(6,49152,null,0,r.eb,[o.h,o.k],null,null)],null,function(n,l){n(l,4,0,null==l.context.$implicit?null:null==l.context.$implicit.file?null:l.context.$implicit.file.name)})}function H(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,6,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,2,"ion-label",[],null,null,null,u.tb,u.x)),o.ob(3,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(4,0,[" "," "])),(n()(),o.pb(5,0,null,0,1,"ion-reorder",[],null,null,null,u.Ab,u.D)),o.ob(6,49152,null,0,r.eb,[o.h,o.k],null,null)],null,function(n,l){n(l,4,0,null==l.context.$implicit?null:null==l.context.$implicit.file?null:l.context.$implicit.file.name)})}function V(n){return o.Ib(0,[o.Eb(402653184,1,{addAnchorPageNrGroupFormDirective:0}),(n()(),o.pb(1,0,null,null,54,"ion-content",[],null,null,null,u.ib,u.m)),o.ob(2,49152,null,0,r.u,[o.h,o.k],null,null),(n()(),o.pb(3,0,null,0,35,"ion-card",[["class","displaycard"]],null,null,null,u.fb,u.f)),o.ob(4,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(5,0,null,0,5,"div",[["class","file-input-container"]],null,null,null,null,null)),(n()(),o.pb(6,0,null,null,4,"label",[],null,null,null,null,null)),(n()(),o.pb(7,0,null,null,1,"input",[["ng2FileSelect",""],["single",""],["type","file"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==o.yb(n,8).onChange()&&t),t},null,null)),o.ob(8,16384,null,0,N,[o.k],{uploader:[0,"uploader"]},null),(n()(),o.pb(9,0,null,null,1,"span",[["style","font-size: small;"]],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Select anchor (max. 1)"])),(n()(),o.pb(11,0,null,0,2,"ion-label",[],null,null,null,u.tb,u.x)),o.ob(12,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(13,0,["Files: ",""])),(n()(),o.pb(14,0,null,0,5,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(15,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.pb(16,0,null,0,3,"ion-reorder-group",[["disabled","false"]],null,[[null,"ionItemReorder"]],function(n,l,e){var o=!0;return"ionItemReorder"===l&&(o=!1!==n.component.reorderFiles(e)&&o),o},u.zb,u.E)),o.ob(17,49152,null,0,r.fb,[o.h,o.k],{disabled:[0,"disabled"]},null),(n()(),o.gb(16777216,null,0,1,null,j)),o.ob(19,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.pb(20,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o.pb(21,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o.pb(22,0,null,0,16,"form",[["id","addAnchorPageNr"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0;return"submit"===l&&(t=!1!==o.yb(n,24).onSubmit(e)&&t),"reset"===l&&(t=!1!==o.yb(n,24).onReset()&&t),t},null,null)),o.ob(23,16384,null,0,i.q,[],null,null),o.ob(24,540672,[[1,4],["aform",4]],0,i.e,[[8,null],[8,null]],{form:[0,"form"]},null),o.Db(2048,null,i.a,null,[i.e]),o.ob(26,16384,null,0,i.k,[[4,i.a]],null,null),(n()(),o.pb(27,0,null,null,11,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(28,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(29,0,null,0,2,"ion-label",[["color","medium"],["style","font-size: smaller;"]],null,null,null,u.tb,u.x)),o.ob(30,49152,null,0,r.N,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Gb(-1,0,["Anchor's Book Page #:"])),(n()(),o.pb(32,0,null,0,6,"ion-input",[["formControlName","anchorpagenr"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,33)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,33)._handleInputEvent(e.target.value)&&t),t},u.qb,u.u)),o.ob(33,16384,null,0,r.Ob,[o.k],null,null),o.Db(1024,null,i.h,function(n){return[n]},[r.Ob]),o.ob(35,671744,null,0,i.d,[[3,i.a],[8,null],[8,null],[6,i.h],[2,i.s]],{name:[0,"name"]},null),o.Db(2048,null,i.i,null,[i.d]),o.ob(37,16384,null,0,i.j,[[4,i.i]],null,null),o.ob(38,49152,null,0,r.G,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.pb(39,0,null,0,16,"ion-card",[["class","displaycard"]],null,null,null,u.fb,u.f)),o.ob(40,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(41,0,null,0,5,"div",[["class","file-input-container"]],null,null,null,null,null)),(n()(),o.pb(42,0,null,null,4,"label",[],null,null,null,null,null)),(n()(),o.pb(43,0,null,null,1,"input",[["multiple",""],["ng2FileSelect",""],["type","file"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==o.yb(n,44).onChange()&&t),t},null,null)),o.ob(44,16384,null,0,N,[o.k],{uploader:[0,"uploader"]},null),(n()(),o.pb(45,0,null,null,1,"span",[["style","font-size: small;"]],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Select corresponding content"])),(n()(),o.pb(47,0,null,0,2,"ion-label",[],null,null,null,u.tb,u.x)),o.ob(48,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(49,0,["Files: ",""])),(n()(),o.pb(50,0,null,0,5,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(51,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.pb(52,0,null,0,3,"ion-reorder-group",[["disabled","false"]],null,[[null,"ionItemReorder"]],function(n,l,e){var o=!0;return"ionItemReorder"===l&&(o=!1!==n.component.reorderFiles(e)&&o),o},u.zb,u.E)),o.ob(53,49152,null,0,r.fb,[o.h,o.k],{disabled:[0,"disabled"]},null),(n()(),o.gb(16777216,null,0,1,null,H)),o.ob(55,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,8,0,e.uploaderAnchor),n(l,17,0,"false"),n(l,19,0,e.uploaderAnchor.queue),n(l,24,0,e.addAnchorPageNrGroup),n(l,30,0,"medium"),n(l,35,0,"anchorpagenr"),n(l,38,0,"text"),n(l,44,0,e.uploaderContent),n(l,53,0,"false"),n(l,55,0,e.uploaderContent.queue)},function(n,l){var e=l.component;n(l,13,0,null==e.uploaderAnchor?null:null==e.uploaderAnchor.queue?null:e.uploaderAnchor.queue.length),n(l,22,0,o.yb(l,26).ngClassUntouched,o.yb(l,26).ngClassTouched,o.yb(l,26).ngClassPristine,o.yb(l,26).ngClassDirty,o.yb(l,26).ngClassValid,o.yb(l,26).ngClassInvalid,o.yb(l,26).ngClassPending),n(l,32,0,o.yb(l,37).ngClassUntouched,o.yb(l,37).ngClassTouched,o.yb(l,37).ngClassPristine,o.yb(l,37).ngClassDirty,o.yb(l,37).ngClassValid,o.yb(l,37).ngClassInvalid,o.yb(l,37).ngClassPending),n(l,49,0,null==e.uploaderContent?null:null==e.uploaderContent.queue?null:e.uploaderContent.queue.length)})}var Q=function(){function n(n){this._modalController=n,this.uploaderAnchor=new G({}),this.uploaderContent=new G({}),this.hasBaseDropZoneOver=!1}return n.prototype.getAnchorFiles=function(){return this.uploaderAnchor.queue.map(function(n){return n.file})},n.prototype.getContentFiles=function(){return this.uploaderContent.queue.map(function(n){return n.file})},n.prototype.fileOverBase=function(n){this.hasBaseDropZoneOver=n},n.prototype.reorderFiles=function(n){var l=this.uploaderAnchor.queue.splice(n.detail.from,1)[0];this.uploaderAnchor.queue.splice(n.detail.to,0,l)},n}(),W=o.nb({encapsulation:0,styles:[[".drop-zone[_ngcontent-%COMP%]{background-color:#f6f6f6;border:3px dotted #dedddd;height:30vh;display:flex;align-items:center;justify-content:center;margin:20px 0}.file-input-container[_ngcontent-%COMP%]{text-align:center}.file-input-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#e9f7ef;border:1px solid #ccc;padding:5px;cursor:pointer;margin:5px}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.displaycard[_ngcontent-%COMP%]{margin:10px;padding:5px 1px 5px 5px}"]],data:{}});function K(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,6,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,2,"ion-label",[],null,null,null,u.tb,u.x)),o.ob(3,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(4,0,[" "," "])),(n()(),o.pb(5,0,null,0,1,"ion-reorder",[],null,null,null,u.Ab,u.D)),o.ob(6,49152,null,0,r.eb,[o.h,o.k],null,null)],null,function(n,l){n(l,4,0,null==l.context.$implicit?null:null==l.context.$implicit.file?null:l.context.$implicit.file.name)})}function Z(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,18,"ion-content",[],null,null,null,u.ib,u.m)),o.ob(1,49152,null,0,r.u,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,16,"ion-card",[["class","displaycard"]],null,null,null,u.fb,u.f)),o.ob(3,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,5,"div",[["class","file-input-container"]],null,null,null,null,null)),(n()(),o.pb(5,0,null,null,4,"label",[],null,null,null,null,null)),(n()(),o.pb(6,0,null,null,1,"input",[["multiple",""],["ng2FileSelect",""],["type","file"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==o.yb(n,7).onChange()&&t),t},null,null)),o.ob(7,16384,null,0,N,[o.k],{uploader:[0,"uploader"]},null),(n()(),o.pb(8,0,null,null,1,"span",[["style","font-size: small;"]],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Select content"])),(n()(),o.pb(10,0,null,0,2,"ion-label",[],null,null,null,u.tb,u.x)),o.ob(11,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(12,0,["Files: ",""])),(n()(),o.pb(13,0,null,0,5,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(14,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.pb(15,0,null,0,3,"ion-reorder-group",[["disabled","false"]],null,[[null,"ionItemReorder"]],function(n,l,e){var o=!0;return"ionItemReorder"===l&&(o=!1!==n.component.reorderFiles(e)&&o),o},u.zb,u.E)),o.ob(16,49152,null,0,r.fb,[o.h,o.k],{disabled:[0,"disabled"]},null),(n()(),o.gb(16777216,null,0,1,null,K)),o.ob(18,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,7,0,e.uploaderContent),n(l,16,0,"false"),n(l,18,0,e.uploaderContent.queue)},function(n,l){var e=l.component;n(l,12,0,null==e.uploaderContent?null:null==e.uploaderContent.queue?null:e.uploaderContent.queue.length)})}var X=e("cdBk"),Y=e("gRf5"),J=function(){function n(n,l,e,o,t,u,r,i,s,a){this._modalController=n,this.booksService=l,this._camera=e,this.file=o,this._alertController=t,this.imagePicker=u,this.transfer=r,this.imageLoaderService=i,this.toastController=s,this.loadingController=a,this.sliderConfig={slidesPerView:4,coverflowEffect:{rotate:30,stretch:0,depth:100,modifier:1,autoplay:!0},on:{beforeInit:function(){this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0},setTranslate:function(){for(var n=this.width,l=this.height,e=this.slides,o=this.$wrapperEl,t=this.slidesSizesGrid,u=this.params.coverflowEffect,r=this.isHorizontal(),i=this.translate,s=r?n/2-i:l/2-i,a=r?u.rotate:-u.rotate,c=u.depth,b=0,p=e.length;b<p;b+=1){var d=e.eq(b),h=t[b],g=(s-d[0].swiperSlideOffset-h/2)/h*u.modifier,m=r?a*g:0,f=r?0:a*g,k=-c*Math.abs(g),y=r?0:u.stretch*g,v=r?u.stretch*g:0;if(Math.abs(v)<.001&&(v=0),Math.abs(y)<.001&&(y=0),Math.abs(k)<.001&&(k=0),Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),d.transform("translate3d("+v+"px,"+y+"px,"+k+"px)  rotateX("+f+"deg) rotateY("+m+"deg)"),d[0].style.zIndex=1-Math.abs(Math.round(g)),u.slideShadows){var C=d.find(r?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),x=d.find(r?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===C.length&&(C=this.$('<div class="swiper-slide-shadow-'+(r?"left":"top")+'"></div>'),d.append(C)),0===x.length&&(x=this.$('<div class="swiper-slide-shadow-'+(r?"right":"bottom")+'"></div>'),d.append(x)),C.length&&(C[0].style.opacity=g>0?g:0),x.length&&(x[0].style.opacity=-g>0?-g:0)}}(this.support.pointerEvents||this.support.prefixedPointerEvents)&&(o[0].style.perspectiveOrigin=s+"px 50%")},setTransition:function(n){this.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n)}}},this.uploadData=new FormData,this.dataReader=new FileReader,this.uploadStatus="",this.files=[],this.anchorFiles=[],this.anchorContentFiles=[],this.updateFlag=!1,this.showComonentFlag=!1,this.showContentAddComponentFlag=!1,this.pageRefreshFlag=!1,this.imgAnchorURLsMap=new Map,this.imgContentURLsMap=new Map,this.imgAnchorContentURLsMap=new Map,this.bookAnchorContentURLsArray=[],this.anchorURL="",this.contentMap=new Map,this.mapAnchorContentMap=new Map,this.mapAnchorContentMapArray=[],this.mapAnchorContentMapArrayValues=[],this.addtlContents=[],this.selectedAnchorName=""}return n.prototype.ngOnInit=function(){var n=this;this.presentLoading(),this.booksService.getBook(this.bookId).subscribe(function(l){n.bookCopy=l,console.log("Book Copy in AR Book",n.bookCopy)},function(l){return n.errMess=l}),this.displayAnchorContentData()},n.prototype.presentLoading=function(){return a.a(this,void 0,void 0,function(){var n;return a.c(this,function(l){switch(l.label){case 0:return[4,this.loadingController.create({cssClass:"my-custom-class",message:"Loading...please wait",duration:3e3})];case 1:return[4,(n=l.sent()).present()];case 2:return l.sent(),[4,n.onDidDismiss()];case 3:return l.sent(),console.log("Loading dismissed!"),[2]}})})},n.prototype.displayAnchorContentData=function(){var n=this;this.booksService.getBookARContent(this.bookId).subscribe(function(l){n.imgURLs=l,n.booksService.getBookPlistXml(n.bookId).subscribe(function(l){if(l&&n.imgURLs){n.plistCopy=l,console.log("imgURLs",n.imgURLs),console.log("plist copy",n.plistCopy);var e=(new DOMParser).parseFromString(n.plistCopy.toString(),"text/xml");console.log("xmlDocument from s3",e);for(var o=[],t=[],u=[],r=[],i=(new Map,e.getElementsByTagName("key").length),s=e.getElementsByTagName("value").length,a=0;a<i;a++)o[a]=e.getElementsByTagName("key")[a].childNodes[0].nodeValue;for(a=0;a<s;a++)t[a]=e.getElementsByTagName("value")[a].childNodes[0].nodeValue;for(a=0;a<i;a++){o[a]=e.getElementsByTagName("key")[a].childNodes[0].nodeValue,u.push(o[a]);for(var c=0;c<s;c++)t[c].includes(o[a])&&u.push(t[c])}var b=new Map;for(a=0;a<u.length&&a<n.imgURLs.length;a++)b.set(u[a],n.imgURLs[a]);for(var p=0,d=Array.from(b.entries());p<d.length;p++)-1===(k=d[p])[0].indexOf("content")&&r.push(k[0]);for(console.log("Main Keys",r),a=0;a<r.length;a++){for(var h=new Map,g=new Map,m=0,f=Array.from(b.entries());m<f.length;m++){var k;(k=f[m])[0].includes(r[a])&&k[1].includes(r[a])&&k[0].includes("content")&&h.set(k[0],k[1]),k[0].includes(r[a])&&k[1].includes(r[a])&&-1===k[0].indexOf("content")&&g.set(k[0],k[1])}console.log("new content map",h),console.log("new anchor map",g),n.mapAnchorContentMap.set(r[a],[g,h])}console.log("mapAnchorContentMap",n.mapAnchorContentMap),n.mapAnchorContentMapArray=Array.from(n.mapAnchorContentMap.entries()),console.log("mapAnchorContentMapArray",n.mapAnchorContentMapArray);for(var y=0,v=n.mapAnchorContentMapArray;y<v.length;y++){var C=v[y];console.log("mapanchor content entry",C[0]),console.log(C[1][1].values()),n.mapAnchorContentMapArrayValues.push(Array.from(C[1][1].entries()))}console.log("mapAnchorContentMapArrayValues",n.mapAnchorContentMapArrayValues)}else console.log("plist is empty")})},function(l){return n.errMess=l})},n.prototype.presentToast=function(n){return a.a(this,void 0,void 0,function(){return a.c(this,function(l){switch(l.label){case 0:return[4,this.toastController.create({message:n,duration:3e3,position:"middle"})];case 1:return l.sent().present(),[2]}})})},n.prototype.onImageLoad=function(n){console.log("image ready")},n.prototype.anchorContentComponent=function(){console.log("inside anchor and Content Component"),this.showComonentFlag=!0},n.prototype.addContentToCurrentAnchor=function(n,l){var e=this;console.log("AnchorName",n),console.log("AnchorURL",l),this.selectedAnchorName=n,this.booksService.getBookPlistXml(this.bookId).subscribe(function(l){e.plistCopy=l,console.log("plist copy",e.plistCopy);var o=(new DOMParser).parseFromString(e.plistCopy.toString(),"text/xml");console.log("xmlDocument from s3",o);var t=o.getElementsByTagName("key").length;console.log("keyElLength",t);var u=o.getElementsByTagName("value").length;console.log("valElLength",u);for(var r=0;r<t;r++)o.getElementsByTagName("key")[r].childNodes[0].nodeValue===n&&(e.showContentAddComponentFlag=!0,e.showComonentFlag=!1)})},n.prototype.uploadContent=function(){var n=this;console.log("this.selected anchor name",this.selectedAnchorName),this.addtlContents=this.fileContentField.getContentFiles(),console.log("Additional Contents",this.addtlContents),this.booksService.getBookPlistXml(this.bookId).subscribe(function(l){n.plistCopy=l,console.log("plist copy",n.plistCopy);var e=(new DOMParser).parseFromString(n.plistCopy.toString(),"text/xml");console.log("xmlDocument from s3",e);var o=e.getElementsByTagName("key").length;console.log("keyElLength",o);var t=e.getElementsByTagName("value").length;console.log("valElLength",t);for(var u=[],r=0;r<o;r++)if(e.getElementsByTagName("key")[r].childNodes[0].nodeValue===n.selectedAnchorName)for(var i=0;i<t;i++){var s=e.getElementsByTagName("value")[i].childNodes[0].nodeValue;s.includes(n.selectedAnchorName)&&u.push(s)}var a=new Map;for(a.set(n.selectedAnchorName,[]),console.log("selected anchor name",n.selectedAnchorName),i=0;i<n.addtlContents.length;i++){var c=n.addtlContents[i].rawFile.type.indexOf("/"),b=n.addtlContents[i].rawFile.type.substring(0,c),p=n.selectedAnchorName+"content"+(u.length+i+1)+b;a.get(n.selectedAnchorName).push(p)}for(console.log("plistMap",a),r=0;r<n.addtlContents.length;r++)c=n.addtlContents[r].rawFile.type.indexOf("/"),b=n.addtlContents[r].rawFile.type.substring(0,c),n.uploadData.append("imageFile",n.addtlContents[r].rawFile,p=n.selectedAnchorName+"content"+(u.length+r+1)+b);var d=e.getElementsByTagName("plist")[0];console.log("root ",d);var h=e.getElementsByTagName("key");for(console.log("keys",h),r=0;r<h.length;r++){var g=h[r].childNodes[0].nodeValue;console.log("nodevalue",g);for(var m=0,f=Array.from(a.entries());m<f.length;m++){var k=f[m];if(k[0]===g)for(console.log("SUCCESS",k[0],g),console.log("keys[i]",h[r]),i=0;i<k[1].length;i++){var y=e.createElement("value");y.textContent=k[1][i],h[r].appendChild(y)}}}console.log("XML document before serializing",e);var v=(new XMLSerializer).serializeToString(e);console.log("xml serailizd doc",v);var C=new Blob([v],{type:"text/xml"});n.uploadData.append("xmlFile",C,n.bookId+"plist"),n.updateFlag=!0,n.bookCopy.bookarenabled=!0,n.booksService.updateBookARFlag(n.bookId,n.bookCopy).subscribe(function(l){console.log(l),n.booksService.uploadAnchorContentAndPlist(n.bookId,n.uploadData,n.updateFlag,n.bookCopy).subscribe(function(l){console.log(l),n.presentToast("Content Data Augmented Successfully!"),n._modalController.dismiss()})})})},n.prototype.upload=function(){var n=this;this.booksService.getBookPlistXml(this.bookId).subscribe(function(l){console.log("link to book plist found"),console.log("plist",l),l?(n.plistCopy=l,n.updateFlag=!0,n.prepareAnchorAndContentsDataAndUpload(n.updateFlag)):(n.updateFlag=!1,console.log("plist is empty"),n.prepareAnchorAndContentsDataAndUpload(n.updateFlag))})},n.prototype.prepareAnchorAndContentsDataAndUpload=function(n){var l=this,e=this.fileField.getAnchorFiles();console.log("Anchor from filefield",e);var o=this.fileField.getAnchorContentFiles();console.log("CONTENTS, CONTENT",o);var t=this.fileField.addAnchorPageNrGroup.value.anchorpagenr;if(console.log("Page Number",t),n){var u=(new DOMParser).parseFromString(this.plistCopy.toString(),"text/xml");console.log("xmlDocument from s3",u);var r=u.getElementsByTagName("key").length;console.log("keyElLength",r);var i="anchor"+r;(v=new Map).set(i,[]);for(var s=0;s<o.length;s++){var a=o[s].type.indexOf("/"),c=i+"content"+(s+1)+(p=o[s].type.substring(0,a));v.get(i).push(c)}console.log("plistMap",v),console.log("Anchor raw file",e[0].rawFile),this.uploadData.append("imageFile",e[0].rawFile,i);for(var b=0;b<o.length;b++){a=o[b].type.indexOf("/");var p=o[b].type.substring(0,a);this.uploadData.append("imageFile",o[b].rawFile,c=i+"content"+(b+1)+p)}var d=u.getElementsByTagName("plist")[0];console.log("root ",d);for(var h=0,g=Array.from(v.entries());h<g.length;h++){var m=g[h];console.log("Entries",m),(w=u.createElement("key")).textContent=m[0],d.appendChild(w),(O=u.createElement("anchorPageNr")).textContent=t,w.appendChild(O);var f=m[1];for(s=0;s<f.length;s++)(B=u.createElement("value")).textContent=f[s],w.appendChild(B)}var k=(new XMLSerializer).serializeToString(u);console.log("xml serailizd doc",k);var y=new Blob([k],{type:"text/xml"});this.uploadData.append("xmlFile",y,this.bookId+"plist")}else{var v;for(i="anchor0",(v=new Map).set(i,[]),s=0;s<o.length;s++)a=o[s].type.indexOf("/"),c=i+"content"+(s+1)+(p=o[s].type.substring(0,a)),v.get(i).push(c);for(console.log("plistMap",v),this.uploadData.append("imageFile",e[0].rawFile,i),b=0;b<o.length;b++)a=o[b].type.indexOf("/"),p=o[b].type.substring(0,a),this.uploadData.append("imageFile",o[b].rawFile,c=i+"content"+(b+1)+p);var C=document.implementation.createDocument("","",null);d=C.createElement("plist"),C.appendChild(d);for(var x=0,I=Array.from(v.entries());x<I.length;x++){var w,O;for(m=I[x],console.log("Entries",m),(w=C.createElement("key")).textContent=m[0],d.appendChild(w),(O=C.createElement("anchorPageNr")).textContent=t,w.appendChild(O),f=m[1],s=0;s<f.length;s++){var B;(B=C.createElement("value")).textContent=f[s],w.appendChild(B)}}k=(new XMLSerializer).serializeToString(C),console.log("xml serailizd doc",k),y=new Blob([k],{type:"text/xml"}),this.uploadData.append("xmlFile",y,this.bookId+"plist")}this.bookCopy.bookarenabled=!0,this.booksService.updateBookARFlag(this.bookId,this.bookCopy).subscribe(function(n){console.log(n),l.booksService.uploadAnchorContentAndPlist(l.bookId,l.uploadData,l.updateFlag,l.bookCopy).subscribe(function(n){console.log(n),l.presentToast("Anchor and Content Data Uploaded Successfully !"),l._modalController.dismiss()})})},n.prototype.closeModal=function(){console.log("inside close modal"),this.showComonentFlag=!1,this.showContentAddComponentFlag=!1},n.prototype.refreshBookList=function(n){var l=this;setTimeout(function(){l.clearCache(),n.target.complete()},3e3)},n.prototype.clearCache=function(){this.imageLoaderService.clearCache()},n.prototype.close=function(){this.showComonentFlag||this.showContentAddComponentFlag?this.closeModal():this._modalController.dismiss()},n}(),nn=o.nb({encapsulation:0,styles:[[".book-img[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid gray;margin:5px auto}.displaycard[_ngcontent-%COMP%]{margin:5px;padding:5px}.anchor-display[_ngcontent-%COMP%]{padding-left:5px;padding-bottom:10px;padding-top:5px}.anchorcontnet-display[_ngcontent-%COMP%]{padding:5px 2px}ion-list-header[_ngcontent-%COMP%]{padding-left:0;display:block;text-align:center}ion-button[_ngcontent-%COMP%], ion-chip[_ngcontent-%COMP%]{--background:#E9F7EF}ion-card-subtitle[_ngcontent-%COMP%]{text-align:center;font-weight:700}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}.image-container[_ngcontent-%COMP%]{min-height:200px;background-size:cover}@media (min-width:0px){.images[_ngcontent-%COMP%]{-webkit-column-count:2;-moz-column-count:2;column-count:2}}@media (min-width:420px){.images[_ngcontent-%COMP%]{-webkit-column-count:3;-moz-column-count:3;column-count:3}}@media (min-width:720px){.images[_ngcontent-%COMP%]{-webkit-column-count:4;-moz-column-count:4;column-count:4}}.one-image[_ngcontent-%COMP%]{margin:2px}.drop-zone[_ngcontent-%COMP%]{background-color:#f6f6f6;border:3px dotted #dedddd;height:30vh;display:flex;align-items:center;justify-content:center;margin:20px 0}.file-input-container[_ngcontent-%COMP%]{text-align:right}.file-input-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid #ccc;padding:6px 12px;cursor:pointer}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.my-custom-class[_ngcontent-%COMP%]{--background:#222;--spinner-color:#fff;color:#fff}"]],data:{}});function ln(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.anchorContentComponent()&&o),o},u.Z,u.d)),o.ob(1,49152,null,0,r.k,[o.h,o.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),o.pb(2,0,null,0,1,"ion-icon",[["src","../assets/icon/add-circle.svg"],["style","color: #145A32;"]],null,null,null,u.nb,u.r)),o.ob(3,49152,null,0,r.C,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(4,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  #17202A; margin-left: 5px; "]],null,null,null,null,null)),(n()(),o.Gb(-1,null,["New Anchor and Content"]))],function(n,l){n(l,1,0,"block","round"),n(l,3,0,"../assets/icon/add-circle.svg")},null)}function en(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,6,"ion-list-header",[],null,null,null,u.ub,u.z)),o.ob(1,49152,null,0,r.P,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,4,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(3,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,2,"ion-label",[["style","color: #17202A "]],null,null,null,u.tb,u.x)),o.ob(5,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Existing anchors & content "]))],null,null)}function on(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-thumbnail",[["class","anchorcontnet-display"]],null,null,null,u.Ob,u.S)),o.ob(1,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,e){var o=!0;return"load"===l&&(o=!1!==n.component.onImageLoad(e)&&o),o},R.b,R.a)),o.ob(3,114688,null,0,M.c,[o.k,o.D,M.b,M.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"})],function(n,l){n(l,3,0,"",l.parent.context.$implicit[1])},null)}function tn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-slide",[],null,null,null,u.Gb,u.K)),o.ob(1,49152,null,0,r.pb,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,on)),o.ob(3,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.context.$implicit[0].includes(l.parent.parent.context.$implicit[0]);n(l,3,0,e)},null)}function un(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,5,"ion-item-sliding",[],null,null,null,u.rb,u.w)),o.ob(1,49152,null,0,r.M,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,3,"ion-slides",[],null,null,null,u.Hb,u.L)),o.ob(3,49152,null,0,r.qb,[o.h,o.k],{options:[0,"options"]},null),(n()(),o.gb(16777216,null,0,1,null,tn)),o.ob(5,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.sliderConfig),n(l,5,0,l.context.$implicit)},null)}function rn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,25,"ion-card",[["style","box-shadow:darkolivegreen;"]],null,null,null,u.fb,u.f)),o.ob(1,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,16,"ion-card-header",[],null,null,null,u.cb,u.h)),o.ob(3,49152,null,0,r.o,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,2,"ion-card-title",[["style","font-size: small;"]],null,null,null,u.eb,u.j)),o.ob(5,49152,null,0,r.q,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Anchor "])),(n()(),o.pb(7,0,null,0,11,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(8,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(9,0,null,0,3,"ion-thumbnail",[["class","anchor-display"]],null,null,null,u.Ob,u.S)),o.ob(10,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.pb(11,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,e){var o=!0;return"load"===l&&(o=!1!==n.component.onImageLoad(e)&&o),o},R.b,R.a)),o.ob(12,114688,null,0,M.c,[o.k,o.D,M.b,M.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),o.pb(13,0,null,0,5,"ion-chip",[["button",""],["class","ion-text-left"],["shape","round"],["style","margin-left: 5px;"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.addContentToCurrentAnchor(n.context.$implicit[0],n.context.$implicit[1][0].get(n.context.$implicit[0]))&&o),o},u.gb,u.k)),o.ob(14,49152,null,0,r.s,[o.h,o.k],null,null),(n()(),o.pb(15,0,null,0,1,"ion-icon",[["src","../assets/icon/document-attach.svg"],["style","color: #145A32;"]],null,null,null,u.nb,u.r)),o.ob(16,49152,null,0,r.C,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(17,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  #17202A; margin-left: 2px; font-size: small;"]],null,null,null,null,null)),(n()(),o.Gb(-1,null,["New Content"])),(n()(),o.pb(19,0,null,0,2,"ion-card-title",[["style","font-size: small; margin-left: 15px;"]],null,null,null,u.eb,u.j)),o.ob(20,49152,null,0,r.q,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Existing content "])),(n()(),o.pb(22,0,null,0,3,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(23,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,un)),o.ob(25,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component,o=l.context.$implicit[1][0].get(l.context.$implicit[0]);n(l,12,0,"",o),n(l,16,0,"../assets/icon/document-attach.svg"),n(l,25,0,e.mapAnchorContentMapArrayValues)},null)}function sn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(1,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,rn)),o.ob(3,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.mapAnchorContentMapArray)},null)}function an(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-button",[["expand","full"],["margin-top",""],["shape","round"],["style","color: black"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.upload()&&o),o},u.Z,u.d)),o.ob(1,49152,null,0,r.k,[o.h,o.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),o.Gb(-1,0,["Upload Selected Anchor & Content"]))],function(n,l){n(l,1,0,"full","round")},null)}function cn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-button",[["expand","full"],["margin-top",""],["shape","round"],["style","color: black"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.uploadContent()&&o),o},u.Z,u.d)),o.ob(1,49152,null,0,r.k,[o.h,o.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),o.Gb(-1,0,["Upload Selected Content"]))],function(n,l){n(l,1,0,"full","round")},null)}function bn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"app-multi-file-upload",[],null,null,null,V,$)),o.ob(1,114688,[[1,4]],0,z,[r.Hb,i.b],null,null)],function(n,l){n(l,1,0)},null)}function pn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"app-multi-file-content-upload",[],null,null,null,Z,W)),o.ob(1,49152,[[2,4]],0,Q,[r.Hb],null,null)],null,null)}function dn(n){return o.Ib(0,[o.Eb(671088640,1,{fileField:0}),o.Eb(671088640,2,{fileContentField:0}),(n()(),o.pb(2,0,null,null,10,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,u.mb,u.q)),o.ob(3,49152,null,0,r.B,[o.h,o.k],{translucent:[0,"translucent"]},null),(n()(),o.pb(4,0,null,0,8,"ion-toolbar",[],null,null,null,u.Qb,u.U)),o.ob(5,49152,null,0,r.Bb,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n      color: #FDFEFE  ; font-weight: bolder; font-size: 15px; text-align: start;"],["text-center",""]],null,null,null,u.Pb,u.T)),o.ob(7,49152,null,0,r.zb,[o.h,o.k],null,null),(n()(),o.Gb(8,0,[" "," "])),(n()(),o.pb(9,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,u.ab,u.e)),o.ob(10,49152,null,0,r.l,[o.h,o.k],null,null),(n()(),o.pb(11,0,null,0,1,"ion-icon",[["size","medium"],["src","../assets/icon/close-outline.svg"],["style","color: whitesmoke;"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.close()&&o),o},u.nb,u.r)),o.ob(12,49152,null,0,r.C,[o.h,o.k],{size:[0,"size"],src:[1,"src"]},null),(n()(),o.pb(13,0,null,null,19,"ion-content",[],null,null,null,u.ib,u.m)),o.ob(14,49152,null,0,r.u,[o.h,o.k],null,null),(n()(),o.pb(15,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,e){var o=!0;return"ionRefresh"===l&&(o=!1!==n.component.refreshBookList(e)&&o),o},u.yb,u.B)),o.ob(16,49152,null,0,r.cb,[o.h,o.k],null,null),(n()(),o.pb(17,0,null,0,1,"ion-refresher-content",[["pullingText","pull for update"],["refreshingText","...updating"]],null,null,null,u.xb,u.C)),o.ob(18,49152,null,0,r.db,[o.h,o.k],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(n()(),o.gb(16777216,null,0,1,null,ln)),o.ob(20,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,en)),o.ob(22,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,sn)),o.ob(24,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,an)),o.ob(26,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,cn)),o.ob(28,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,bn)),o.ob(30,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,pn)),o.ob(32,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,!0),n(l,12,0,"medium","../assets/icon/close-outline.svg"),n(l,18,0,"pull for update","...updating"),n(l,20,0,!e.showComonentFlag&&!e.showContentAddComponentFlag),n(l,22,0,!e.showComonentFlag&&!e.showContentAddComponentFlag&&e.plistCopy),n(l,24,0,!e.showComonentFlag&&!e.showContentAddComponentFlag),n(l,26,0,e.showComonentFlag&&!e.showContentAddComponentFlag),n(l,28,0,!e.showComonentFlag&&e.showContentAddComponentFlag&&e.fileContentField),n(l,30,0,e.showComonentFlag&&!e.showContentAddComponentFlag),n(l,32,0,e.showContentAddComponentFlag&&!e.showComonentFlag)},function(n,l){n(l,8,0,l.component.bookName)})}function hn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"app-arbook",[],null,null,null,dn,nn)),o.ob(1,114688,null,0,J,[r.Hb,b.a,d.a,g.a,r.b,X.a,Y.a,M.b,r.Pb,r.Fb],null,null)],function(n,l){n(l,1,0)},null)}var gn=o.lb("app-arbook",J,hn,{},{},[]),mn=function(){function n(n){this._modalController=n}return n.prototype.ngOnInit=function(){},n.prototype.closeModal=function(){console.log("inside close modal"),this._modalController.dismiss()},n}(),fn=o.nb({encapsulation:0,styles:[["ion-button[_ngcontent-%COMP%]{--background:#F4F6F7}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}ion-card[_ngcontent-%COMP%]{border-radius:10px;border:#145a32}.center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block!important}"]],data:{}});function kn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,10,"ion-header",[],null,null,null,u.mb,u.q)),o.ob(1,49152,null,0,r.B,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,u.Qb,u.U)),o.ob(3,49152,null,0,r.Bb,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n             color: #FDFEFE  ; font-weight: bolder; font-size: 15px; text-align: start;"],["text-center",""]],null,null,null,u.Pb,u.T)),o.ob(5,49152,null,0,r.zb,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" HOWTO - Manage Books "])),(n()(),o.pb(7,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,u.ab,u.e)),o.ob(8,49152,null,0,r.l,[o.h,o.k],null,null),(n()(),o.pb(9,0,null,0,1,"ion-icon",[["size","medium"],["src","../assets/icon/close-outline.svg"],["style","color: whitesmoke;"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.closeModal()&&o),o},u.nb,u.r)),o.ob(10,49152,null,0,r.C,[o.h,o.k],{size:[0,"size"],src:[1,"src"]},null),(n()(),o.pb(11,0,null,null,98,"ion-content",[],null,null,null,u.ib,u.m)),o.ob(12,49152,null,0,r.u,[o.h,o.k],null,null),(n()(),o.pb(13,0,null,0,16,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(14,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(15,0,null,0,2,"ion-card-title",[["style","font-weight: bold; padding: 10px;"]],null,null,null,u.eb,u.j)),o.ob(16,49152,null,0,r.q,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Add New Book in the bookshelf "])),(n()(),o.pb(18,0,null,0,5,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(19,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" The dialogue provided for you to add your books in "])),(n()(),o.pb(21,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Booxar"])),(n()(),o.Gb(-1,0,[" bookshelf. "])),(n()(),o.pb(24,0,null,0,5,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(25,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" After successful entry, newly added book will be made available for others to borrow. You will start seeing it in the "])),(n()(),o.pb(27,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["'Bookshelf'"])),(n()(),o.Gb(-1,0,[" tab in the app. "])),(n()(),o.pb(30,0,null,0,65,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(31,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(32,0,null,0,2,"ion-card-title",[["style","font-weight: bold; padding: 10px;"]],null,null,null,u.eb,u.j)),o.ob(33,49152,null,0,r.q,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" My books - as Book Owner "])),(n()(),o.pb(35,0,null,0,5,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(36,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Dropdown list containing all the books logged in user has added in the bookshelf as "])),(n()(),o.pb(38,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,[" 'Book Owner'"])),(n()(),o.Gb(-1,0,[". "])),(n()(),o.pb(41,0,null,0,5,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(42,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Books, for which the logged in user is not the owner, will not be listed. User can filter the books as per the current status - "])),(n()(),o.pb(44,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["'Available', 'Borrowed', 'Reserved'"])),(n()(),o.Gb(-1,0,[". "])),(n()(),o.pb(47,0,null,0,48,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(48,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.pb(49,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Take Action"])),(n()(),o.Gb(-1,0,[": As a book owner you can perform following actions on the book. "])),(n()(),o.pb(52,0,null,0,4,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(53,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.pb(54,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,[" 1. Lend or Make Available "])),(n()(),o.Gb(-1,0,[": Scan the QR code presented by the book requester. If the QR code matches, requester or bnorrower authorization is successful. Lend the book to the borrower OR accept the book back from the borrower. "])),(n()(),o.pb(57,0,null,0,27,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(58,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.pb(59,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,[" 2. Enanble for AR (Augmented Reality)"])),(n()(),o.Gb(-1,0,[": The dialogues provided here enable the book owner to add Anchors and corresponding content to be augmented. "])),(n()(),o.pb(62,0,null,0,7,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(63,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.pb(64,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Anchors"])),(n()(),o.Gb(-1,0,[": Anchors are the makrers on top of which additional contextual content is augmented. i.e. when the app user points smart device on the anchors, augmented content is rendered. For the "])),(n()(),o.pb(67,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Booxar"])),(n()(),o.Gb(-1,0,[" app, Anchor can be existing images in the book. "])),(n()(),o.pb(70,0,null,0,4,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(71,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.pb(72,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Content"])),(n()(),o.Gb(-1,0,[": Conten is the media content you want to attach and upload so that it is augmented on the existing anchors in the book. When the app user points smart device on the anchors, this content is rendered. "])),(n()(),o.Gb(-1,0,[" Once "])),(n()(),o.pb(76,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Anchor"])),(n()(),o.Gb(-1,0,[" and "])),(n()(),o.pb(79,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Content"])),(n()(),o.Gb(-1,0,[" are uploaded for the book, the book is 'AR Enabled' and it starts appearing in the "])),(n()(),o.pb(82,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["ARBooks"])),(n()(),o.Gb(-1,0,[" tab of the app. "])),(n()(),o.pb(85,0,null,0,10,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(86,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.pb(87,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,[" 3. Delete"])),(n()(),o.Gb(-1,0,[": The dialogue provided for the "])),(n()(),o.pb(90,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["book owner"])),(n()(),o.Gb(-1,0,[" to remove the book from bookshelf. Once the book is removed, other app users will not see this book listed in the "])),(n()(),o.pb(93,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["Bookshelf"])),(n()(),o.Gb(-1,0,[" tab. "])),(n()(),o.pb(96,0,null,0,13,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(97,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(98,0,null,0,2,"ion-card-title",[["style","font-weight: bold; padding: 10px;"]],null,null,null,u.eb,u.j)),o.ob(99,49152,null,0,r.q,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" My books - as Book Requester "])),(n()(),o.pb(101,0,null,0,8,"ion-card-content",[],null,null,null,u.bb,u.g)),o.ob(102,49152,null,0,r.n,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" The dialogue provided for you to view the books you have "])),(n()(),o.pb(104,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,["reserved"])),(n()(),o.Gb(-1,0,[" or "])),(n()(),o.pb(107,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(-1,null,[" borrowed"])),(n()(),o.Gb(-1,0,[" from other book owners. If the book has been borrowed, it also lists the 'Return By' date. "]))],function(n,l){n(l,10,0,"medium","../assets/icon/close-outline.svg")},null)}function yn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"app-managebookshelp",[],null,null,null,kn,fn)),o.ob(1,114688,null,0,mn,[r.Hb],null,null)],function(n,l){n(l,1,0)},null)}var vn=o.lb("app-managebookshelp",mn,yn,{},{},[]),Cn=e("pMnS"),xn=e("zA0m"),In=["None","Tel","Email"],wn=e("JhVf"),On=e("fNyx"),Bn=e("S6gA"),En=e("+6W9"),An=e("9Z1F"),Fn=e("t/Na"),Sn=e("mI4i"),_n=e("lUK6"),Dn=function(){function n(n,l){this.http=n,this.processHTTPMsgService=l}return n.prototype.submitFeedback=function(n){var l={headers:new Fn.h({"Content-Type":"application/json"})};return this.http.post(Sn.a+"feedback/",n,l).pipe(Object(An.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeedback=function(){return this.http.get(Sn.a+"feedback").pipe(Object(An.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeaturedFeedback=function(){return this.http.get(Sn.a+"feedback?rating=5").pipe(Object(An.a)(this.processHTTPMsgService.handleError))},n.ngInjectableDef=o.S({factory:function(){return new n(o.W(Fn.c),o.W(_n.a))},token:n,providedIn:"root"}),n}(),Rn=e("LwiL"),Mn=function(n){return n[n.getQrCode=0]="getQrCode",n[n.getScannedCode=1]="getScannedCode",n[n.compareCodes=2]="compareCodes",n}({}),Tn=function(){function n(n,l,e,o,t,u,r,s,a,b,p,d,h,g,m,f,k,y,v,C,x,I){this._camera=n,this._alertController=l,this._modalController=e,this.authService=o,this.navCtrl=t,this.readarsService=u,this.baseURL=r,this.router=s,this.route=a,this.searchedMyData=b,this.fb=p,this.feedbackservice=d,this.booksService=h,this.reservedService=g,this.borrowedService=m,this.availableService=f,this.activatedRoute=k,this.barCodeScanner=y,this.imageLoaderService=v,this.toastCtrl=C,this.loadingController=x,this.actionSheetController=I,this.username=void 0,this.books=[],this.books1=[],this.reservedBooks=[],this.availableBooks=[],this.borrowedBooks=[],this.requestedReservedBooks=[],this.requestedBorrowedBooks=[],this.searchTerm="",this.descending=!1,this.column="booklanguage",this.bookIdsImages=new Map,this.bookIdImageMap=new Map,this.notMyBookIdImageMap=new Map,this.name="Angular",this.currentRouter=this.router.url,this.booklanguage=c.d,this.bookactions=c.a,this.bookcurrentstatus=c.b,this.bookrequestedstatus=c.e,this.contactType=In,this.submitted=null,this.showForm=!0,this.showAvailable=!1,this.showReserved=!1,this.showBorrowed=!1,this.showAll=!1,this.showNotMyBooks=!1,this.showRequestedReservedBooks=!1,this.showRequestedBorrowedBooks=!1,this.noBorrowedReservedExists=!1,this.panelOpenState=!1,this.nobooksEXIST=!1,this.nobooksREQUESTEDRESERVEDBORROWED=!0,this.searchControl=new i.c}return n.prototype.ngOnInit=function(){var n=this;this.setFilteredItems(),this.authService.loadUserCredentials(),this.subscription=this.authService.getUsername().subscribe(function(l){console.log(l),n.username=l,n.booksService.getBooks().subscribe(function(l){n.allBooks=l,n.prepareBookIdsImagesMap(),console.log("TAB3 BOOKS",n.allBooks),n.nobooksEXIST=0==n.allBooks.length||void 0===n.allBooks},function(l){n.errMess=l}),n.readarsService.getBooks().subscribe(function(l){n.allBooks1=l,console.log("allbooks1",n.allBooks1);for(var e=0;e<n.allBooks1.length;e++)console.log("Book Current user",n.allBooks1[e].bookcurrentuser),console.log("this.username",n.username),n.allBooks1[e].bookcurrentuser===n.username&&(n.nobooksREQUESTEDRESERVEDBORROWED=!1,console.log(" this.nobooksREQUESTEDRESERVEDBORROWED",n.nobooksREQUESTEDRESERVEDBORROWED))})})},n.prototype.presentLoading=function(){return a.a(this,void 0,void 0,function(){var n;return a.c(this,function(l){switch(l.label){case 0:return[4,this.loadingController.create({cssClass:"my-custom-class",message:"Loading...please wait",duration:2e3})];case 1:return[4,(n=l.sent()).present()];case 2:return l.sent(),[4,n.onDidDismiss()];case 3:return l.sent(),console.log("Loading dismissed!"),[2]}})})},n.prototype.ionViewWillEnter=function(){var n=this;this.booksService.getBooks().subscribe(function(l){n.allBooks=l,n.prepareBookIdsImagesMap(),n.nobooksEXIST=0==n.allBooks.length||void 0===n.allBooks,console.log("TAB3 BOOKS",n.allBooks)},function(l){n.errMess=l})},n.prototype.displayBooksByStatus=function(n){if(console.log("inside displayBooksBYStatus function"),this.showAvailable=!1,this.showReserved=!1,this.showBorrowed=!1,this.showAll=!1,this.nobooksAVAILABLE=!1,this.nobooksBORROWED=!1,this.nobooksRESERVED=!1,"Available"===n.detail.value){console.log("inside AVAILABLE condition"),this.showAvailable=!0,this.showBorrowed=!1,this.showReserved=!1,this.availableBooks=[];for(var l=0,e=0;l<this.allBooks.length;)"available"===this.allBooks[l].bookcurrentstatus&&(this.availableBooks[e]=this.allBooks[l],e++),l++;void 0!==this.availableBooks&&0!=this.availableBooks.length||(this.nobooksAVAILABLE=!0,this.nobooksBORROWED=!1,this.nobooksRESERVED=!1),console.log("BOOK Status & COLLECTION",n.detail.value,this.availableBooks.length)}if("Reserved"===n.detail.value){for(console.log("inside RESERVED condition"),this.showReserved=!0,this.showAvailable=!1,this.showBorrowed=!1,this.reservedBooks=[],l=0,e=0;l<this.allBooks.length;)"reserved"===this.allBooks[l].bookcurrentstatus&&(this.reservedBooks[e]=this.allBooks[l],e++),l++;void 0!==this.reservedBooks&&0!=this.reservedBooks.length||(this.nobooksRESERVED=!0,this.nobooksAVAILABLE=!1,this.nobooksBORROWED=!1),console.log("BOOK Status & COLLECTION",n.detail.value,this.reservedBooks.length)}if("Borrowed"===n.detail.value){for(console.log("inside BORROWED condition"),this.showBorrowed=!0,this.showAvailable=!1,this.showReserved=!1,this.borrowedBooks=[],l=0,e=0;l<this.allBooks.length;)"borrowed"===this.allBooks[l].bookcurrentstatus&&(this.borrowedBooks[e]=this.allBooks[l],e++),l++;void 0!==this.borrowedBooks&&0!=this.borrowedBooks.length||(this.nobooksBORROWED=!0,this.nobooksRESERVED=!1,this.nobooksAVAILABLE=!1),console.log("BOOK Status & COLLECTION",n.detail.value,this.borrowedBooks.length)}"All"===n.detail.value&&(this.showAll=!0)},n.prototype.displayRequestedBooksByStatus=function(n){var l=this;this.notMyBooks=[],this.readarsService.getBooks().subscribe(function(e){console.log("booksALL",e);for(var o=function(n){e[n].bookcurrentuser===l.username&&(l.notMyBooks.push(e[n]),console.log("FOUND books current user",e[n].bookcurrentuser),l.booksService.getBookImage(e[n]._id).subscribe(function(o){l.url=o,console.log("this.url",l.url),l.notMyBookIdImageMap.set(e[n]._id,l.url),console.log("notMyBookIdImageMap",l.notMyBookIdImageMap)},function(n){console.log(n)}))},t=0;t<e.length;t++)o(t);if(console.log("NOT MY BOOKS",l.notMyBooks),void 0===l.notMyBooks||0==l.notMyBooks.length)l.nobooksREQUESTEDRESERVEDBORROWED=!0;else{if(console.log("inside displayRequestedBooksByStatus function"),l.showRequestedBorrowedBooks=!1,l.showRequestedReservedBooks=!1,l.nobooksREQUESTEDRESERVEDBORROWED=!1,console.log("NOT MY BOOKS",l.notMyBooks),"Reserved"===n.detail.value){console.log("inside REQUESTED RESERVED condition"),l.showRequestedReservedBooks=!0,l.showRequestedBorrowedBooks=!1,l.requestedReservedBooks=[],t=0;for(var u=0;t<l.notMyBooks.length;)"reserved"===l.notMyBooks[t].bookcurrentstatus&&(l.requestedReservedBooks[u]=l.notMyBooks[t],u++),t++;void 0===l.requestedReservedBooks&&(l.nobooksREQUESTEDRESERVED=!0,l.nobooksREQUESTEDBORROWED=!1),console.log("BOOK Status & COLLECTION",n.detail.value,l.requestedReservedBooks.length)}if("Borrowed"===n.detail.value){for(console.log("inside BORROWED condition"),l.showRequestedReservedBooks=!1,l.showRequestedBorrowedBooks=!0,l.requestedBorrowedBooks=[],t=0,u=0;t<l.notMyBooks.length;)"borrowed"===l.notMyBooks[t].bookcurrentstatus&&(l.requestedBorrowedBooks[u]=l.notMyBooks[t],u++),t++;void 0===l.requestedBorrowedBooks&&(l.nobooksREQUESTEDBORROWED=!0,l.nobooksREQUESTEDRESERVED=!1),console.log("BOOK Status & COLLECTION",n.detail.value,l.requestedBorrowedBooks.length)}}},function(n){l.errMess=n})},n.prototype.presentToast=function(n){return a.a(this,void 0,void 0,function(){return a.c(this,function(l){switch(l.label){case 0:return[4,this.toastCtrl.create({message:n,duration:3e3,position:"middle"})];case 1:return l.sent().present(),[2]}})})},n.prototype.clearCache=function(){this.imageLoaderService.clearCache()},n.prototype.onImageLoad=function(n){console.log("image ready")},n.prototype.prepareBookIdsImagesMap=function(){var n=this;this.booksService.getBookIds().subscribe(function(l){n.bookIds=l,n.storeBookIds(n.bookIds),n.lbookIds=n.loadBookIds();for(var e=function(l){n.booksService.getBookImage(n.lbookIds[l]).subscribe(function(e){n.url=e,console.log("this.url",n.url),n.bookIdImageMap.set(n.lbookIds[l],n.url),console.log("book image map",n.bookIdImageMap)},function(n){console.log(n)})},o=0;o<n.lbookIds.length;o++)e(o)},function(l){return n.errMess=l})},n.prototype.storeBookIds=function(n){localStorage.setItem("bookIds",JSON.stringify(n))},n.prototype.loadBookIds=function(){if(this.bookIds=JSON.parse(localStorage.getItem("bookIds")),console.log("bookIds ",this.bookIds),this.bookIds)return this.bookIds},n.prototype.ngAfterViewInit=function(){},n.prototype.refreshBookList=function(n){var l=this;setTimeout(function(){l.booksService.getBooks().subscribe(function(n){l.books=n},function(n){l.errMess=n}),l.clearCache(),n.target.complete()},2e3)},n.prototype.setFilteredItems=function(){this.books=this.searchedMyData.filterItems(this.searchTerm),console.log("Searched my data",this.books)},n.prototype.deleteBook=function(n){var l=this;console.log("Deleting Book "+n),this.booksService.deleteBook(n).subscribe(function(n){l.removebook=n,l.ngOnInit()},function(n){l.errMess=n}),this.booksService.deleteBookImage(n).subscribe(function(n){return console.log(n)},function(n){return l.errMess=n}),this.presentToast("Book removed successfully"),this.bookDeleted=!0},n.prototype.getCodeValue=function(n){return"xyz"===n?Mn.getQrCode:"abc"===n?Mn.getScannedCode:void 0},n.prototype.checkDeleteConfirmation=function(n){return a.a(this,void 0,void 0,function(){var l=this;return a.c(this,function(e){switch(e.label){case 0:return[4,this._alertController.create({message:"All associated content will also be removed",header:"Do you wish to proceed ?",buttons:[{text:"Yes",handler:function(){l.deleteBook(n),l.ngOnInit()}},{text:"No",handler:function(){}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.alerManagement=function(n){return a.a(this,void 0,void 0,function(){var l,e;return a.c(this,function(o){switch(o.label){case 0:return[4,this._alertController.create({message:n,header:"Please Note",buttons:["Ok"]})];case 1:return[4,(l=o.sent()).present()];case 2:return o.sent(),[4,l.onDidDismiss()];case 3:return e=o.sent().role,console.log("onDidDismiss resolved with role",e),[2]}})})},n.prototype.scanToLendOrRelease=function(n){return a.a(this,void 0,void 0,function(){var l=this;return a.c(this,function(e){switch(e.label){case 0:return[4,this._alertController.create({header:"Choose your action",message:"Lend or Make Book Available",buttons:[{text:"Lend",handler:function(){l.scanForLend(n)}},{text:"Make Available",handler:function(){l.scanForRelease(n)}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.getQRCheckString=function(n){console.log("INSIDE GET CHECK QR STRING");for(var l=0;l<this.books.length;l++)if(this.books[l]._id===n)return this.qrCheckString=this.books[l]._id+this.books[l].bookowner.username+this.books[l].bookcurrentuser,console.log("QR CHECK STRING",this.qrCheckString),this.qrCheckString},n.prototype.scanForLend=function(n){var l=this;console.log("INSIDE LEND"),this.booksService.getBook(n).subscribe(function(e){l.bookcurrentUsername=e.bookcurrentuser,l.qrCheckString=e._id+e.bookowner.username+e.bookcurrentuser,console.log("QR CHECK STRING IS",l.qrCheckString),l.barCodeScanner.scan({preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:500,formats:"EAN_13,EAN_8,QR_CODE,PDF_417 ",orientation:"portrait"}).then(function(o){if(console.log("CHECK STRING IS ------\x3e",l.qrCheckString),l.scannedData=o,console.log("SCANNED DATA IS ------\x3e ",l.scannedData.text),l.qrCheckString===l.scannedData.text){console.log("MATCH SUCCESS"),console.log("LENDING BOOK "+n),l.presentToast("Authorization Successful"),l.router.navigate([l.currentRouter]),l.book=e,l.book.bookavailable=!1,l.book.bookreserved=!0,l.book.bookborrowed=!0,l.book.bookcurrentuser=l.bookcurrentUsername,l.book.bookcurrentstatus="borrowed",l.book.bookborroweddate=(new Date).toLocaleDateString();var t=new Date(Date.now()+2592e6);l.book.bookreturnbydate=t.toLocaleDateString(),console.log("BOOK BORROWED DATE",l.book.bookborroweddate),console.log("BOOK RETURN BY DATE",l.book.bookreturnbydate),l.booksService.lendBook(n,l.book).subscribe(function(n){console.log(n),l.borrowed=!0,l.reserved=!0,l.qrCheckString="",l.presentToast("Book is in borrowed status"),l.ngOnInit()})}else l.alerManagement("QR Codes mismatch. Authorization failed"),console.log("QR Codes mismatch. Authorization failed")}).catch(function(n){console.log("Error",n)})},function(n){return l.errMess=n})},n.prototype.scanForRelease=function(n){var l=this;console.log("INSIDE MAKE AVAILABLE"),this.booksService.getBook(n).subscribe(function(e){l.bookcurrentUsername=e.bookcurrentuser,l.qrCheckString=e._id+e.bookowner.username+e.bookcurrentuser,console.log("QR CHECK STRING IS",l.qrCheckString),l.barCodeScanner.scan({preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:500,formats:"EAN_13,EAN_8,QR_CODE,PDF_417 ",orientation:"portrait"}).then(function(o){console.log("CHECK STRING IS ------\x3e",l.qrCheckString),l.scannedData=o,console.log("SCANNED DATA IS ------\x3e ",l.scannedData.text),l.qrCheckString===l.scannedData.text?(console.log("MATCH SUCCESS"),console.log("RELEASING BOOK "+n),l.presentToast("Authorization Successful"),l.router.navigate([l.currentRouter]),l.booksService.deleteQRBookImage(n,l.bookcurrentUsername).subscribe(function(n){console.log(n),console.log("QR IMAGE DELETED"),l.book=e,l.book.bookavailable=!0,l.book.bookreserved=!1,l.book.bookborrowed=!1,l.book.bookcurrentuser="",l.book.bookcurrentstatus="available",l.book.bookborroweddate="",l.book.bookreserveddate="",l.book.bookreturnbydate="",l.booksService.releaseBook(l.book._id,l.book).subscribe(function(n){console.log(n),l.available=!0,l.reserved=!1,l.qrCheckString="",l.presentToast("Book is now available")})},function(n){return l.errMess=n}),l.ngOnInit()):(console.log("QR CODES DON'T MATCH"),l.alerManagement("QR Codes mismatch. Authorization failed"))}).catch(function(n){console.log("Error",n)})},function(n){return l.errMess=n})},n.prototype.presentActionSheet=function(n,l,e){return a.a(this,void 0,void 0,function(){var o,t,u=this;return a.c(this,function(r){switch(r.label){case 0:return[4,this.actionSheetController.create({header:"Actions...",cssClass:"my-custom-class",buttons:[{text:"Lend or Make Available",icon:"../assets/icon/scan.svg",handler:function(){"borrowed"===e||"reserved"===e?u.scanToLendOrRelease(n):u.alerManagement("Book needs to be in 'Borrowed' or 'Reserved' status to perform this action")}},{text:"Enable for AR",icon:"../assets/icon/scan-circle.svg",handler:function(){u.arBookModal(n,l),console.log("AR clicked")}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}},{text:"Delete",role:"destructive",icon:"trash",handler:function(){"available"===e?u.checkDeleteConfirmation(n):u.alerManagement("Book can be removed only when it is in 'Available' status")}}]})];case 1:return[4,(o=r.sent()).present()];case 2:return r.sent(),[4,o.onDidDismiss()];case 3:return t=r.sent().role,console.log("onDidDismiss resolved with role",t),[2]}})})},n.prototype.loadMoreBooks=function(n){setTimeout(function(){},3e3)},n.prototype.helpModal=function(){return a.a(this,void 0,void 0,function(){return a.c(this,function(n){switch(n.label){case 0:return[4,this._modalController.create({component:mn})];case 1:return[2,n.sent().present()]}})})},n.prototype.addBookModal=function(){return a.a(this,void 0,void 0,function(){return a.c(this,function(n){switch(n.label){case 0:return[4,this._modalController.create({component:f})];case 1:return[2,n.sent().present()]}})})},n.prototype.arBookModal=function(n,l){return a.a(this,void 0,void 0,function(){return a.c(this,function(e){switch(e.label){case 0:return[4,this._modalController.create({component:J,componentProps:{bookId:n,bookName:l}})];case 1:return[2,e.sent().present()]}})})},n}(),Ln=e("ZYCi"),qn=o.nb({encapsulation:0,styles:[[".profile-pic[_ngcontent-%COMP%]{width:200px;height:200px;border:1px solid gray;margin:10px auto}.welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.display_heading[_ngcontent-%COMP%]{margin:10px auto}.spinner-container[_ngcontent-%COMP%]{width:100%;text-align:center;padding:10px}.book-card[_ngcontent-%COMP%]{margin:5px;padding:10px}.book-image[_ngcontent-%COMP%]{border:1px solid gray;margin:5px}.displaycard[_ngcontent-%COMP%]{margin:5px;padding:5px;background-color:#f5f5f5}.displayinnercard[_ngcontent-%COMP%]{margin-top:auto;margin-left:30px;padding:5px;background-color:#f8f8ff}.display_heading[_ngcontent-%COMP%]{margin-left:0;padding:0}ion-button[_ngcontent-%COMP%]{--background:#E9F7EF}ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}ion-item-option[_ngcontent-%COMP%]{--background:white}ion-list-header[_ngcontent-%COMP%]{padding-left:0;display:block;text-align:center}span.ion-text-left[_ngcontent-%COMP%]{margin-right:auto}.my-custom-class[_ngcontent-%COMP%]{--background:#222;--spinner-color:#fff;color:#fff}"]],data:{}});function Pn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,u.Db,u.I)),o.ob(1,49152,null,0,r.nb,[o.h,o.k],{value:[0,"value"]},null),(n()(),o.Gb(2,0,[" ",""]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function Gn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-label",[["class","ion-text-wrap"],["style","color: green; padding: 20px; font-size: small;"]],null,null,null,u.tb,u.x)),o.ob(1,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,["None Available OR you have not added any!"]))],null,null)}function Nn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-label",[["class","ion-text-wrap"],["style","color: green; padding: 20px; font-size: small;"]],null,null,null,u.tb,u.x)),o.ob(1,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,["No one has Reserved your books so far.."]))],null,null)}function Un(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-label",[["class","ion-text-wrap"],["style","color: green; padding: 20px; font-size: small;"]],null,null,null,u.tb,u.x)),o.ob(1,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,["No one has Borrowed your books so far.."]))],null,null)}function zn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: green;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function $n(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: red;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function jn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"h3",[["style","color: orange;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,[""," "])),(n()(),o.pb(2,0,null,null,1,"span",[["style","font-size: small; color: darkgray;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" by : ",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus),n(l,3,0,l.parent.context.$implicit.bookcurrentuser)})}function Hn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,22,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,5,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(3,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Ob,u.S)),o.ob(5,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,e){var o=!0;return"load"===l&&(o=!1!==n.component.onImageLoad(e)&&o),o},R.b,R.a)),o.ob(7,114688,null,0,M.c,[o.k,o.D,M.b,M.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),o.pb(8,0,null,0,14,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.tb,u.x)),o.ob(9,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(11,null,["",""])),(n()(),o.pb(12,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),o.Gb(13,null,[" in ",". By - ","."])),(n()(),o.gb(16777216,null,0,1,null,zn)),o.ob(15,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,$n)),o.ob(17,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,jn)),o.ob(19,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(20,0,null,0,2,"ion-button",[["shape","round"],["style","color:darkslategray"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.presentActionSheet(n.context.$implicit._id,n.context.$implicit.bookname,n.context.$implicit.bookcurrentstatus)&&o),o},u.Z,u.d)),o.ob(21,49152,null,0,r.k,[o.h,o.k],{shape:[0,"shape"]},null),(n()(),o.Gb(-1,0,["Take Action.."]))],function(n,l){n(l,7,0,"",l.component.bookIdImageMap.get(l.context.$implicit._id)),n(l,15,0,"available"==l.context.$implicit.bookcurrentstatus),n(l,17,0,"borrowed"==l.context.$implicit.bookcurrentstatus),n(l,19,0,"reserved"==l.context.$implicit.bookcurrentstatus),n(l,21,0,"round")},function(n,l){n(l,11,0,l.context.$implicit.bookname),n(l,13,0,l.context.$implicit.booklanguage,l.context.$implicit.bookauthor)})}function Vn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(1,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,Hn)),o.ob(3,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.reservedBooks)},null)}function Qn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: green;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function Wn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: red;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function Kn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"h3",[["style","color: orange;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,[""," "])),(n()(),o.pb(2,0,null,null,1,"span",[["style","font-size: small; color: darkgray;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" by : ",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus),n(l,3,0,l.parent.context.$implicit.bookcurrentuser)})}function Zn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,22,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,5,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(3,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Ob,u.S)),o.ob(5,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,e){var o=!0;return"load"===l&&(o=!1!==n.component.onImageLoad(e)&&o),o},R.b,R.a)),o.ob(7,114688,null,0,M.c,[o.k,o.D,M.b,M.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),o.pb(8,0,null,0,14,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.tb,u.x)),o.ob(9,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(11,null,["",""])),(n()(),o.pb(12,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),o.Gb(13,null,[" in ",". By - ","."])),(n()(),o.gb(16777216,null,0,1,null,Qn)),o.ob(15,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,Wn)),o.ob(17,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,Kn)),o.ob(19,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(20,0,null,0,2,"ion-button",[["shape","round"],["style","color:darkslategray"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.presentActionSheet(n.context.$implicit._id,n.context.$implicit.bookname,n.context.$implicit.bookcurrentstatus)&&o),o},u.Z,u.d)),o.ob(21,49152,null,0,r.k,[o.h,o.k],{shape:[0,"shape"]},null),(n()(),o.Gb(-1,0,["Take Action.."]))],function(n,l){n(l,7,0,"",l.component.bookIdImageMap.get(l.context.$implicit._id)),n(l,15,0,"available"==l.context.$implicit.bookcurrentstatus),n(l,17,0,"borrowed"==l.context.$implicit.bookcurrentstatus),n(l,19,0,"reserved"==l.context.$implicit.bookcurrentstatus),n(l,21,0,"round")},function(n,l){n(l,11,0,l.context.$implicit.bookname),n(l,13,0,l.context.$implicit.booklanguage,l.context.$implicit.bookauthor)})}function Xn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(1,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,Zn)),o.ob(3,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.availableBooks)},null)}function Yn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: green;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function Jn(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: red;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function nl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"h3",[["style","color: orange;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,[""," "])),(n()(),o.pb(2,0,null,null,1,"span",[["style","font-size: small; color: darkgray;"]],null,null,null,null,null)),(n()(),o.Gb(3,null,[" by : ",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus),n(l,3,0,l.parent.context.$implicit.bookcurrentuser)})}function ll(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,22,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,5,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(3,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Ob,u.S)),o.ob(5,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,e){var o=!0;return"load"===l&&(o=!1!==n.component.onImageLoad(e)&&o),o},R.b,R.a)),o.ob(7,114688,null,0,M.c,[o.k,o.D,M.b,M.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),o.pb(8,0,null,0,14,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.tb,u.x)),o.ob(9,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(11,null,["",""])),(n()(),o.pb(12,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),o.Gb(13,null,[" in ",". By - ","."])),(n()(),o.gb(16777216,null,0,1,null,Yn)),o.ob(15,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,Jn)),o.ob(17,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,nl)),o.ob(19,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(20,0,null,0,2,"ion-button",[["shape","round"],["style","color:darkslategray"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.presentActionSheet(n.context.$implicit._id,n.context.$implicit.bookname,n.context.$implicit.bookcurrentstatus)&&o),o},u.Z,u.d)),o.ob(21,49152,null,0,r.k,[o.h,o.k],{shape:[0,"shape"]},null),(n()(),o.Gb(-1,0,["Take Action.."]))],function(n,l){n(l,7,0,"",l.component.bookIdImageMap.get(l.context.$implicit._id)),n(l,15,0,"available"==l.context.$implicit.bookcurrentstatus),n(l,17,0,"borrowed"==l.context.$implicit.bookcurrentstatus),n(l,19,0,"reserved"==l.context.$implicit.bookcurrentstatus),n(l,21,0,"round")},function(n,l){n(l,11,0,l.context.$implicit.bookname),n(l,13,0,l.context.$implicit.booklanguage,l.context.$implicit.bookauthor)})}function el(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(1,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,ll)),o.ob(3,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.borrowedBooks)},null)}function ol(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,u.Db,u.I)),o.ob(1,49152,null,0,r.nb,[o.h,o.k],{value:[0,"value"]},null),(n()(),o.Gb(2,0,[" ",""]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function tl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,5,"ion-select",[["interface","popover"],["placeholder","Select current status..."]],null,[[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var t=!0,u=n.component;return"ionBlur"===l&&(t=!1!==o.yb(n,3)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,3)._handleChangeEvent(e.target.value)&&t),"ionChange"===l&&(t=!1!==u.displayRequestedBooksByStatus(e)&&t),t},u.Eb,u.H)),o.Db(5120,null,i.h,function(n){return[n]},[r.Nb]),o.ob(2,49152,null,0,r.mb,[o.h,o.k],{placeholder:[0,"placeholder"],interface:[1,"interface"]},null),o.ob(3,16384,null,0,r.Nb,[o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,ol)),o.ob(5,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,2,0,"Select current status...","popover"),n(l,5,0,e.bookrequestedstatus)},null)}function ul(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-label",[["style","color: green; padding: 20px; font-size: small;"]],null,null,null,u.tb,u.x)),o.ob(1,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" You have not reserved or borrowed any books so far"]))],null,null)}function rl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-label",[["style","color: green; padding: 20px; font-size: small;"]],null,null,null,u.tb,u.x)),o.ob(1,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" You haven't reserved any books yet"]))],null,null)}function il(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"ion-label",[["style","color: green; padding: 20px; font-size: small;"]],null,null,null,u.tb,u.x)),o.ob(1,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" You haven't borrowed any books yet"]))],null,null)}function sl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: orange; "]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function al(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: red; "]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function cl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,17,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,5,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(3,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Ob,u.S)),o.ob(5,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,e){var o=!0;return"load"===l&&(o=!1!==n.component.onImageLoad(e)&&o),o},R.b,R.a)),o.ob(7,114688,null,0,M.c,[o.k,o.D,M.b,M.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),o.pb(8,0,null,0,9,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.tb,u.x)),o.ob(9,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(11,null,["",""])),(n()(),o.pb(12,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),o.Gb(13,null,[" in ",". By - ",""])),(n()(),o.gb(16777216,null,0,1,null,sl)),o.ob(15,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,al)),o.ob(17,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,7,0,"",l.component.bookIdImageMap.get(l.context.$implicit._id)),n(l,15,0,"reserved"==l.context.$implicit.bookcurrentstatus),n(l,17,0,"borrowed"==l.context.$implicit.bookcurrentstatus)},function(n,l){n(l,11,0,l.context.$implicit.bookname),n(l,13,0,l.context.$implicit.booklanguage,l.context.$implicit.bookauthor)})}function bl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(1,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,cl)),o.ob(3,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.requestedReservedBooks)},null)}function pl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: orange; "]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function dl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","color: red; "]],null,null,null,null,null)),(n()(),o.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookcurrentstatus)})}function hl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"h3",[["style","font-size: small;"]],null,null,null,null,null)),(n()(),o.Gb(1,null,[" Return by : ",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bookreturnbydate)})}function gl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,19,"ion-item",[],null,null,null,u.sb,u.v)),o.ob(1,49152,null,0,r.H,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,5,"ion-card",[],null,null,null,u.fb,u.f)),o.ob(3,49152,null,0,r.m,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Ob,u.S)),o.ob(5,49152,null,0,r.yb,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,e){var o=!0;return"load"===l&&(o=!1!==n.component.onImageLoad(e)&&o),o},R.b,R.a)),o.ob(7,114688,null,0,M.c,[o.k,o.D,M.b,M.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),o.pb(8,0,null,0,11,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.tb,u.x)),o.ob(9,49152,null,0,r.N,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Gb(11,null,["",""])),(n()(),o.pb(12,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),o.Gb(13,null,[" in ",". By - ",""])),(n()(),o.gb(16777216,null,0,1,null,pl)),o.ob(15,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,dl)),o.ob(17,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,hl)),o.ob(19,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,7,0,"",l.component.bookIdImageMap.get(l.context.$implicit._id)),n(l,15,0,"reserved"==l.context.$implicit.bookcurrentstatus),n(l,17,0,"borrowed"==l.context.$implicit.bookcurrentstatus),n(l,19,0,"borrowed"==l.context.$implicit.bookcurrentstatus)},function(n,l){n(l,11,0,l.context.$implicit.bookname),n(l,13,0,l.context.$implicit.booklanguage,l.context.$implicit.bookauthor)})}function ml(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"ion-list",[],null,null,null,u.vb,u.y)),o.ob(1,49152,null,0,r.O,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,gl)),o.ob(3,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.requestedBorrowedBooks)},null)}function fl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,10,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,u.mb,u.q)),o.ob(1,49152,null,0,r.B,[o.h,o.k],{translucent:[0,"translucent"]},null),(n()(),o.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,u.Qb,u.U)),o.ob(3,49152,null,0,r.Bb,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    color: #FDFEFE  ; font-weight: bolder; font-size: 25px;"]],null,null,null,u.Pb,u.T)),o.ob(5,49152,null,0,r.zb,[o.h,o.k],null,null),(n()(),o.Gb(-1,0,[" Manage "])),(n()(),o.pb(7,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,u.ab,u.e)),o.ob(8,49152,null,0,r.l,[o.h,o.k],null,null),(n()(),o.pb(9,0,null,0,1,"ion-icon",[["size","medium"],["src","../assets/icon/information-circle.svg"],["style","color: #FDFEFE;"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.helpModal()&&o),o},u.nb,u.r)),o.ob(10,49152,null,0,r.C,[o.h,o.k],{size:[0,"size"],src:[1,"src"]},null),(n()(),o.pb(11,0,null,null,53,"ion-content",[],null,null,null,u.ib,u.m)),o.ob(12,49152,null,0,r.u,[o.h,o.k],null,null),(n()(),o.pb(13,0,null,0,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"],["style","color:darkgreen"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.addBookModal()&&o),o},u.Z,u.d)),o.ob(14,49152,null,0,r.k,[o.h,o.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),o.pb(15,0,null,0,1,"ion-icon",[["src","../assets/icon/add-circle.svg"],["style","color: #145A32;"]],null,null,null,u.nb,u.r)),o.ob(16,49152,null,0,r.C,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(17,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  #145A32; margin-left: 5px; "]],null,null,null,null,null)),(n()(),o.Gb(-1,null,[" Add new book in the bookshelf"])),(n()(),o.pb(19,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,e){var o=!0;return"ionRefresh"===l&&(o=!1!==n.component.refreshBookList(e)&&o),o},u.yb,u.B)),o.ob(20,49152,null,0,r.cb,[o.h,o.k],null,null),(n()(),o.pb(21,0,null,0,1,"ion-refresher-content",[["pullingText","pull for update"],["refreshingText","...updating"]],null,null,null,u.xb,u.C)),o.ob(22,49152,null,0,r.db,[o.h,o.k],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(n()(),o.pb(23,0,null,0,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"]],null,null,null,u.Z,u.d)),o.ob(24,49152,null,0,r.k,[o.h,o.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),o.pb(25,0,null,0,1,"ion-icon",[["src","../assets/icon/book.svg"],["style","color: olivedrab; "]],null,null,null,u.nb,u.r)),o.ob(26,49152,null,0,r.C,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(27,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  olivedrab; margin-left: 5px; "]],null,null,null,null,null)),(n()(),o.Gb(-1,null,[" My books - as Book Owner"])),(n()(),o.pb(29,0,null,0,5,"ion-select",[["interface","popover"],["placeholder","Select current status..."]],null,[[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var t=!0,u=n.component;return"ionBlur"===l&&(t=!1!==o.yb(n,32)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,32)._handleChangeEvent(e.target.value)&&t),"ionChange"===l&&(t=!1!==u.displayBooksByStatus(e)&&t),t},u.Eb,u.H)),o.Db(5120,null,i.h,function(n){return[n]},[r.Nb]),o.ob(31,49152,null,0,r.mb,[o.h,o.k],{placeholder:[0,"placeholder"],interface:[1,"interface"]},null),o.ob(32,16384,null,0,r.Nb,[o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,Pn)),o.ob(34,278528,null,0,s.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.gb(16777216,null,0,1,null,Gn)),o.ob(36,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,Nn)),o.ob(38,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,Un)),o.ob(40,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,Vn)),o.ob(42,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,Xn)),o.ob(44,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,el)),o.ob(46,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(47,0,null,0,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"]],null,null,null,u.Z,u.d)),o.ob(48,49152,null,0,r.k,[o.h,o.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),o.pb(49,0,null,0,1,"ion-icon",[["src","../assets/icon/book.svg"],["style","color: olivedrab "]],null,null,null,u.nb,u.r)),o.ob(50,49152,null,0,r.C,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(51,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  olivedrab; margin-left: 5px; "]],null,null,null,null,null)),(n()(),o.Gb(-1,null,["My books - as Book Requester "])),(n()(),o.gb(16777216,null,0,1,null,tl)),o.ob(54,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,ul)),o.ob(56,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,rl)),o.ob(58,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,il)),o.ob(60,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,bl)),o.ob(62,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,ml)),o.ob(64,16384,null,0,s.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,!0),n(l,10,0,"medium","../assets/icon/information-circle.svg"),n(l,14,0,"block","round"),n(l,16,0,"../assets/icon/add-circle.svg"),n(l,22,0,"pull for update","...updating"),n(l,24,0,"block","round"),n(l,26,0,"../assets/icon/book.svg"),n(l,31,0,"Select current status...","popover"),n(l,34,0,e.bookcurrentstatus),n(l,36,0,e.nobooksAVAILABLE),n(l,38,0,e.nobooksRESERVED),n(l,40,0,e.nobooksBORROWED),n(l,42,0,e.showReserved),n(l,44,0,e.showAvailable),n(l,46,0,e.showBorrowed),n(l,48,0,"block","round"),n(l,50,0,"../assets/icon/book.svg"),n(l,54,0,!e.nobooksREQUESTEDRESERVEDBORROWED),n(l,56,0,e.nobooksREQUESTEDRESERVEDBORROWED),n(l,58,0,e.nobooksREQUESTEDRESERVED),n(l,60,0,e.nobooksREQUESTEDBORROWED),n(l,62,0,e.showRequestedReservedBooks),n(l,64,0,e.showRequestedBorrowedBooks)},null)}function kl(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"app-tab3",[],null,null,null,fl,qn)),o.ob(1,4308992,null,0,Tn,[d.a,r.b,r.Hb,p.a,r.Ib,wn.a,"baseURL",Ln.m,Ln.a,Rn.a,i.b,Dn,b.a,Bn.a,En.a,On.a,Ln.a,xn.a,M.b,r.Pb,r.Fb,r.a],null,null)],function(n,l){n(l,1,0)},null)}var yl=o.lb("app-tab3",Tn,kl,{},{},[]),vl=function(){return function(){}}(),Cl=function(){return function(){}}(),xl=function(){return function(){}}();e.d(l,"Tab3PageModuleNgFactory",function(){return Il});var Il=o.mb(t,[],function(n){return o.vb([o.wb(512,o.j,o.bb,[[8,[D,gn,vn,Cn.a,yl]],[3,o.j],o.x]),o.wb(4608,s.l,s.k,[o.u,[2,s.r]]),o.wb(4608,i.r,i.r,[]),o.wb(4608,r.c,r.c,[o.z,o.g]),o.wb(4608,r.Hb,r.Hb,[r.c,o.j,o.q,s.c]),o.wb(4608,r.Lb,r.Lb,[r.c,o.j,o.q,s.c]),o.wb(4608,i.b,i.b,[]),o.wb(4608,Fn.j,Fn.p,[s.c,o.B,Fn.n]),o.wb(4608,Fn.q,Fn.q,[Fn.j,Fn.o]),o.wb(5120,Fn.a,function(n){return[n]},[Fn.q]),o.wb(4608,Fn.m,Fn.m,[]),o.wb(6144,Fn.k,null,[Fn.m]),o.wb(4608,Fn.i,Fn.i,[Fn.k]),o.wb(6144,Fn.b,null,[Fn.i]),o.wb(4608,Fn.g,Fn.l,[Fn.b,o.q]),o.wb(4608,Fn.c,Fn.c,[Fn.g]),o.wb(4608,g.a,g.a,[]),o.wb(4608,M.a,M.a,[]),o.wb(4608,M.b,M.b,[M.a,g.a,Fn.c,r.Kb,h.a]),o.wb(1073742336,s.b,s.b,[]),o.wb(1073742336,i.p,i.p,[]),o.wb(1073742336,i.f,i.f,[]),o.wb(1073742336,r.Db,r.Db,[]),o.wb(1073742336,i.m,i.m,[]),o.wb(1073742336,vl,vl,[]),o.wb(1073742336,U,U,[]),o.wb(1073742336,Fn.e,Fn.e,[]),o.wb(1073742336,Fn.d,Fn.d,[]),o.wb(1073742336,M.d,M.d,[]),o.wb(1073742336,Cl,Cl,[]),o.wb(1073742336,xl,xl,[]),o.wb(1073742336,Ln.o,Ln.o,[[2,Ln.u],[2,Ln.m]]),o.wb(1073742336,t,t,[]),o.wb(256,Fn.n,"XSRF-TOKEN",[]),o.wb(256,Fn.o,"X-XSRF-TOKEN",[]),o.wb(1024,Ln.k,function(){return[[{path:"",component:Tn}]]},[])])})}}]);