{"version":3,"sources":["webpack:///./node_modules/ng2-file-upload/fesm5/ng2-file-upload.js","webpack:///./src/app/addbook/addbook.module.ts","webpack:///./src/app/addbook/addbook.page.html","webpack:///./src/app/addbook/addbook.page.scss","webpack:///./src/app/addbook/addbook.page.ts","webpack:///./src/app/arbook/arbook.module.ts","webpack:///./src/app/arbook/arbook.page.html","webpack:///./src/app/arbook/arbook.page.scss","webpack:///./src/app/arbook/arbook.page.ts","webpack:///./src/app/components/multi-file-content-upload/multi-file-content-upload.component.html","webpack:///./src/app/components/multi-file-content-upload/multi-file-content-upload.component.scss","webpack:///./src/app/components/multi-file-content-upload/multi-file-content-upload.component.ts","webpack:///./src/app/components/multi-file-upload/multi-file-upload.component.html","webpack:///./src/app/components/multi-file-upload/multi-file-upload.component.scss","webpack:///./src/app/components/multi-file-upload/multi-file-upload.component.ts","webpack:///./src/app/services/feedback.service.ts","webpack:///./src/app/shared/feedback.ts","webpack:///./src/app/tab3/tab3.module.ts","webpack:///./src/app/tab3/tab3.page.html","webpack:///./src/app/tab3/tab3.page.scss","webpack:///./src/app/tab3/tab3.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2G;AAC5D;;AAE/C;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,qBAAqB,EAAE;AACvB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,WAAW,EAWV;;AAED;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD,sDAAsD;AACtD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,WAAW,EAoDV;;AAED;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,WAAW,EAWV;;AAED,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,WAAW,EAKV;AACD;AACA;AACA;AACA,gCAAgC;AAChC,WAAW,EAuCV;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,6BAA6B,mBAAmB,EAAE;AAClD;AACA;AACA;AACA,4BAA4B,0DAAY;AACxC;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iDAAiD;AACvF;AACA,0CAA0C,6CAA6C;AACvF;AACA;AACA,0CAA0C,6CAA6C;AACvF;AACA;AACA,0CAA0C,6CAA6C;AACvF;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,2EAA2E,iBAAiB;AAC5F;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,0BAA0B,EAAE;AACrD;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,mCAAmC,EAAE;AAC9D;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,sBAAsB,EAAE;AACjD;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,yBAAyB,EAAE;AACpD;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,4CAA4C,EAAE;AACvE;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,iCAAiC,kCAAkC,EAAE;AACrE;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,wBAAwB;AACxB;AACA,yBAAyB,gEAAgE,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,4EAA4E,WAAW;AACvF,uDAAuD,WAAW;AAClE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,yBAAyB,EAAE;AAC3B;AACA,SAAS;AACT;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,SAAS;AACT;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,6EAA6E,UAAU;AACvF;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA,qEAAqE,UAAU;AAC/E;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,yCAAyC,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,4CAA4C,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,WAAW,EAwBV;;AAED;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS,UAAU,8BAA8B;AACjE;AACA;AACA,sDAAsD;AACtD,SAAS,OAAO,wDAAU;AAC1B,MAAM;AACN;AACA,oBAAoB,OAAO,mDAAK,EAAE;AAClC,0BAA0B,OAAO,oDAAM,EAAE;AACzC,oBAAoB,OAAO,0DAAY,qBAAqB;AAC5D;AACA;AACA,CAAC;AACD,WAAW,EAUV;;AAED;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA,4BAA4B,0DAAY;AACxC,8BAA8B,0DAAY;AAC1C;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,yBAAyB,EAAE;AAC3B,qDAAqD,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS,UAAU,4BAA4B;AAC/D;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,wDAAU;AAC1B,MAAM;AACN;AACA,oBAAoB,OAAO,mDAAK,EAAE;AAClC,oBAAoB,OAAO,oDAAM,EAAE;AACnC,sBAAsB,OAAO,oDAAM,EAAE;AACrC,kBAAkB,OAAO,0DAAY,+BAA+B;AACpE,sBAAsB,OAAO,0DAAY,mCAAmC;AAC5E,uBAAuB,OAAO,0DAAY,oCAAoC;AAC9E;AACA;AACA,CAAC;AACD,WAAW,EAYV;;AAED;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AAC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","file":"tab3-tab3-module.js","sourcesContent":["import { EventEmitter, Directive, ElementRef, Input, Output, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} node\n * @return {?}\n */\nfunction isElement(node) {\n    return !!(node && (node.nodeName || node.prop && node.attr && node.find));\n}\nvar FileLikeObject = /** @class */ (function () {\n    function FileLikeObject(fileOrInput) {\n        this.rawFile = fileOrInput;\n        /** @type {?} */\n        var isInput = isElement(fileOrInput);\n        /** @type {?} */\n        var fakePathOrObject = isInput ? fileOrInput.value : fileOrInput;\n        /** @type {?} */\n        var postfix = typeof fakePathOrObject === 'string' ? 'FakePath' : 'Object';\n        /** @type {?} */\n        var method = '_createFrom' + postfix;\n        ((/** @type {?} */ (this)))[method](fakePathOrObject);\n    }\n    /**\n     * @param {?} path\n     * @return {?}\n     */\n    FileLikeObject.prototype._createFromFakePath = /**\n     * @param {?} path\n     * @return {?}\n     */\n    function (path) {\n        this.lastModifiedDate = void 0;\n        this.size = void 0;\n        this.type = 'like/' + path.slice(path.lastIndexOf('.') + 1).toLowerCase();\n        this.name = path.slice(path.lastIndexOf('/') + path.lastIndexOf('\\\\') + 2);\n    };\n    /**\n     * @param {?} object\n     * @return {?}\n     */\n    FileLikeObject.prototype._createFromObject = /**\n     * @param {?} object\n     * @return {?}\n     */\n    function (object) {\n        this.size = object.size;\n        this.type = object.type;\n        this.name = object.name;\n    };\n    return FileLikeObject;\n}());\nif (false) {\n    /** @type {?} */\n    FileLikeObject.prototype.lastModifiedDate;\n    /** @type {?} */\n    FileLikeObject.prototype.size;\n    /** @type {?} */\n    FileLikeObject.prototype.type;\n    /** @type {?} */\n    FileLikeObject.prototype.name;\n    /** @type {?} */\n    FileLikeObject.prototype.rawFile;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar FileItem = /** @class */ (function () {\n    function FileItem(uploader, some, options) {\n        this.url = '/';\n        this.headers = [];\n        this.withCredentials = true;\n        this.formData = [];\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = false;\n        this.isSuccess = false;\n        this.isCancel = false;\n        this.isError = false;\n        this.progress = 0;\n        this.index = void 0;\n        this.uploader = uploader;\n        this.some = some;\n        this.options = options;\n        this.file = new FileLikeObject(some);\n        this._file = some;\n        if (uploader.options) {\n            this.method = uploader.options.method || 'POST';\n            this.alias = uploader.options.itemAlias || 'file';\n        }\n        this.url = uploader.options.url;\n    }\n    /**\n     * @return {?}\n     */\n    FileItem.prototype.upload = /**\n     * @return {?}\n     */\n    function () {\n        try {\n            this.uploader.uploadItem(this);\n        }\n        catch (e) {\n            this.uploader._onCompleteItem(this, '', 0, {});\n            this.uploader._onErrorItem(this, '', 0, {});\n        }\n    };\n    /**\n     * @return {?}\n     */\n    FileItem.prototype.cancel = /**\n     * @return {?}\n     */\n    function () {\n        this.uploader.cancelItem(this);\n    };\n    /**\n     * @return {?}\n     */\n    FileItem.prototype.remove = /**\n     * @return {?}\n     */\n    function () {\n        this.uploader.removeFromQueue(this);\n    };\n    /**\n     * @return {?}\n     */\n    FileItem.prototype.onBeforeUpload = /**\n     * @return {?}\n     */\n    function () {\n        return void 0;\n    };\n    /**\n     * @param {?} form\n     * @return {?}\n     */\n    FileItem.prototype.onBuildForm = /**\n     * @param {?} form\n     * @return {?}\n     */\n    function (form) {\n        return { form: form };\n    };\n    /**\n     * @param {?} progress\n     * @return {?}\n     */\n    FileItem.prototype.onProgress = /**\n     * @param {?} progress\n     * @return {?}\n     */\n    function (progress) {\n        return { progress: progress };\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype.onSuccess = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        return { response: response, status: status, headers: headers };\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype.onError = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        return { response: response, status: status, headers: headers };\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype.onCancel = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        return { response: response, status: status, headers: headers };\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype.onComplete = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        return { response: response, status: status, headers: headers };\n    };\n    /**\n     * @return {?}\n     */\n    FileItem.prototype._onBeforeUpload = /**\n     * @return {?}\n     */\n    function () {\n        this.isReady = true;\n        this.isUploading = true;\n        this.isUploaded = false;\n        this.isSuccess = false;\n        this.isCancel = false;\n        this.isError = false;\n        this.progress = 0;\n        this.onBeforeUpload();\n    };\n    /**\n     * @param {?} form\n     * @return {?}\n     */\n    FileItem.prototype._onBuildForm = /**\n     * @param {?} form\n     * @return {?}\n     */\n    function (form) {\n        this.onBuildForm(form);\n    };\n    /**\n     * @param {?} progress\n     * @return {?}\n     */\n    FileItem.prototype._onProgress = /**\n     * @param {?} progress\n     * @return {?}\n     */\n    function (progress) {\n        this.progress = progress;\n        this.onProgress(progress);\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype._onSuccess = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = true;\n        this.isSuccess = true;\n        this.isCancel = false;\n        this.isError = false;\n        this.progress = 100;\n        this.index = void 0;\n        this.onSuccess(response, status, headers);\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype._onError = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = true;\n        this.isSuccess = false;\n        this.isCancel = false;\n        this.isError = true;\n        this.progress = 0;\n        this.index = void 0;\n        this.onError(response, status, headers);\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype._onCancel = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = false;\n        this.isSuccess = false;\n        this.isCancel = true;\n        this.isError = false;\n        this.progress = 0;\n        this.index = void 0;\n        this.onCancel(response, status, headers);\n    };\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileItem.prototype._onComplete = /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, status, headers) {\n        this.onComplete(response, status, headers);\n        if (this.uploader.options.removeAfterUpload) {\n            this.remove();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    FileItem.prototype._prepareToUploading = /**\n     * @return {?}\n     */\n    function () {\n        this.index = this.index || ++this.uploader._nextIndex;\n        this.isReady = true;\n    };\n    return FileItem;\n}());\nif (false) {\n    /** @type {?} */\n    FileItem.prototype.file;\n    /** @type {?} */\n    FileItem.prototype._file;\n    /** @type {?} */\n    FileItem.prototype.alias;\n    /** @type {?} */\n    FileItem.prototype.url;\n    /** @type {?} */\n    FileItem.prototype.method;\n    /** @type {?} */\n    FileItem.prototype.headers;\n    /** @type {?} */\n    FileItem.prototype.withCredentials;\n    /** @type {?} */\n    FileItem.prototype.formData;\n    /** @type {?} */\n    FileItem.prototype.isReady;\n    /** @type {?} */\n    FileItem.prototype.isUploading;\n    /** @type {?} */\n    FileItem.prototype.isUploaded;\n    /** @type {?} */\n    FileItem.prototype.isSuccess;\n    /** @type {?} */\n    FileItem.prototype.isCancel;\n    /** @type {?} */\n    FileItem.prototype.isError;\n    /** @type {?} */\n    FileItem.prototype.progress;\n    /** @type {?} */\n    FileItem.prototype.index;\n    /** @type {?} */\n    FileItem.prototype._xhr;\n    /** @type {?} */\n    FileItem.prototype._form;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileItem.prototype.uploader;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileItem.prototype.some;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileItem.prototype.options;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar FileType = /** @class */ (function () {\n    function FileType() {\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n    FileType.getMimeClass = /**\n     * @param {?} file\n     * @return {?}\n     */\n    function (file) {\n        /** @type {?} */\n        var mimeClass = 'application';\n        if (this.mime_psd.indexOf(file.type) !== -1) {\n            mimeClass = 'image';\n        }\n        else if (file.type.match('image.*')) {\n            mimeClass = 'image';\n        }\n        else if (file.type.match('video.*')) {\n            mimeClass = 'video';\n        }\n        else if (file.type.match('audio.*')) {\n            mimeClass = 'audio';\n        }\n        else if (file.type === 'application/pdf') {\n            mimeClass = 'pdf';\n        }\n        else if (this.mime_compress.indexOf(file.type) !== -1) {\n            mimeClass = 'compress';\n        }\n        else if (this.mime_doc.indexOf(file.type) !== -1) {\n            mimeClass = 'doc';\n        }\n        else if (this.mime_xsl.indexOf(file.type) !== -1) {\n            mimeClass = 'xls';\n        }\n        else if (this.mime_ppt.indexOf(file.type) !== -1) {\n            mimeClass = 'ppt';\n        }\n        if (mimeClass === 'application') {\n            mimeClass = this.fileTypeDetection(file.name);\n        }\n        return mimeClass;\n    };\n    /**\n     * @param {?} inputFilename\n     * @return {?}\n     */\n    FileType.fileTypeDetection = /**\n     * @param {?} inputFilename\n     * @return {?}\n     */\n    function (inputFilename) {\n        /** @type {?} */\n        var types = {\n            'jpg': 'image',\n            'jpeg': 'image',\n            'tif': 'image',\n            'psd': 'image',\n            'bmp': 'image',\n            'png': 'image',\n            'nef': 'image',\n            'tiff': 'image',\n            'cr2': 'image',\n            'dwg': 'image',\n            'cdr': 'image',\n            'ai': 'image',\n            'indd': 'image',\n            'pin': 'image',\n            'cdp': 'image',\n            'skp': 'image',\n            'stp': 'image',\n            '3dm': 'image',\n            'mp3': 'audio',\n            'wav': 'audio',\n            'wma': 'audio',\n            'mod': 'audio',\n            'm4a': 'audio',\n            'compress': 'compress',\n            'zip': 'compress',\n            'rar': 'compress',\n            '7z': 'compress',\n            'lz': 'compress',\n            'z01': 'compress',\n            'bz2': 'compress',\n            'gz': 'compress',\n            'pdf': 'pdf',\n            'xls': 'xls',\n            'xlsx': 'xls',\n            'ods': 'xls',\n            'mp4': 'video',\n            'avi': 'video',\n            'wmv': 'video',\n            'mpg': 'video',\n            'mts': 'video',\n            'flv': 'video',\n            '3gp': 'video',\n            'vob': 'video',\n            'm4v': 'video',\n            'mpeg': 'video',\n            'm2ts': 'video',\n            'mov': 'video',\n            'doc': 'doc',\n            'docx': 'doc',\n            'eps': 'doc',\n            'txt': 'doc',\n            'odt': 'doc',\n            'rtf': 'doc',\n            'ppt': 'ppt',\n            'pptx': 'ppt',\n            'pps': 'ppt',\n            'ppsx': 'ppt',\n            'odp': 'ppt'\n        };\n        /** @type {?} */\n        var chunks = inputFilename.split('.');\n        if (chunks.length < 2) {\n            return 'application';\n        }\n        /** @type {?} */\n        var extension = chunks[chunks.length - 1].toLowerCase();\n        if (types[extension] === undefined) {\n            return 'application';\n        }\n        else {\n            return types[extension];\n        }\n    };\n    /*  MS office  */\n    FileType.mime_doc = [\n        'application/msword',\n        'application/msword',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n        'application/vnd.ms-word.document.macroEnabled.12',\n        'application/vnd.ms-word.template.macroEnabled.12'\n    ];\n    FileType.mime_xsl = [\n        'application/vnd.ms-excel',\n        'application/vnd.ms-excel',\n        'application/vnd.ms-excel',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n        'application/vnd.ms-excel.sheet.macroEnabled.12',\n        'application/vnd.ms-excel.template.macroEnabled.12',\n        'application/vnd.ms-excel.addin.macroEnabled.12',\n        'application/vnd.ms-excel.sheet.binary.macroEnabled.12'\n    ];\n    FileType.mime_ppt = [\n        'application/vnd.ms-powerpoint',\n        'application/vnd.ms-powerpoint',\n        'application/vnd.ms-powerpoint',\n        'application/vnd.ms-powerpoint',\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n        'application/vnd.openxmlformats-officedocument.presentationml.template',\n        'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n        'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n        'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n        'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n        'application/vnd.ms-powerpoint.slideshow.macroEnabled.12'\n    ];\n    /* PSD */\n    FileType.mime_psd = [\n        'image/photoshop',\n        'image/x-photoshop',\n        'image/psd',\n        'application/photoshop',\n        'application/psd',\n        'zz-application/zz-winassoc-psd'\n    ];\n    /* Compressed files */\n    FileType.mime_compress = [\n        'application/x-gtar',\n        'application/x-gcompress',\n        'application/compress',\n        'application/x-tar',\n        'application/x-rar-compressed',\n        'application/octet-stream',\n        'application/x-zip-compressed',\n        'application/zip-compressed',\n        'application/x-7z-compressed',\n        'application/gzip',\n        'application/x-bzip2'\n    ];\n    return FileType;\n}());\nif (false) {\n    /** @type {?} */\n    FileType.mime_doc;\n    /** @type {?} */\n    FileType.mime_xsl;\n    /** @type {?} */\n    FileType.mime_ppt;\n    /** @type {?} */\n    FileType.mime_psd;\n    /** @type {?} */\n    FileType.mime_compress;\n}\n\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\n/**\n * @param {?} value\n * @return {?}\n */\nfunction isFile(value) {\n    return (File && value instanceof File);\n}\n/**\n * @record\n */\nfunction Headers() { }\nif (false) {\n    /** @type {?} */\n    Headers.prototype.name;\n    /** @type {?} */\n    Headers.prototype.value;\n}\n/**\n * @record\n */\nfunction FileUploaderOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.allowedMimeType;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.allowedFileType;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.autoUpload;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.isHTML5;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.filters;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.headers;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.method;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.authToken;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.maxFileSize;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.queueLimit;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.removeAfterUpload;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.url;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.disableMultipart;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.itemAlias;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.authTokenHeader;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.additionalParameter;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.parametersBeforeFiles;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.formatDataFunction;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.formatDataFunctionIsAsync;\n}\nvar FileUploader = /** @class */ (function () {\n    function FileUploader(options) {\n        this.isUploading = false;\n        this.queue = [];\n        this.progress = 0;\n        this._nextIndex = 0;\n        this.options = {\n            autoUpload: false,\n            isHTML5: true,\n            filters: [],\n            removeAfterUpload: false,\n            disableMultipart: false,\n            formatDataFunction: (/**\n             * @param {?} item\n             * @return {?}\n             */\n            function (item) { return item._file; }),\n            formatDataFunctionIsAsync: false\n        };\n        this.setOptions(options);\n        this.response = new EventEmitter();\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    FileUploader.prototype.setOptions = /**\n     * @param {?} options\n     * @return {?}\n     */\n    function (options) {\n        this.options = Object.assign(this.options, options);\n        this.authToken = this.options.authToken;\n        this.authTokenHeader = this.options.authTokenHeader || 'Authorization';\n        this.autoUpload = this.options.autoUpload;\n        this.options.filters.unshift({ name: 'queueLimit', fn: this._queueLimitFilter });\n        if (this.options.maxFileSize) {\n            this.options.filters.unshift({ name: 'fileSize', fn: this._fileSizeFilter });\n        }\n        if (this.options.allowedFileType) {\n            this.options.filters.unshift({ name: 'fileType', fn: this._fileTypeFilter });\n        }\n        if (this.options.allowedMimeType) {\n            this.options.filters.unshift({ name: 'mimeType', fn: this._mimeTypeFilter });\n        }\n        for (var i = 0; i < this.queue.length; i++) {\n            this.queue[i].url = this.options.url;\n        }\n    };\n    /**\n     * @param {?} files\n     * @param {?=} options\n     * @param {?=} filters\n     * @return {?}\n     */\n    FileUploader.prototype.addToQueue = /**\n     * @param {?} files\n     * @param {?=} options\n     * @param {?=} filters\n     * @return {?}\n     */\n    function (files, options, filters) {\n        var e_1, _a;\n        var _this = this;\n        /** @type {?} */\n        var list = [];\n        try {\n            for (var files_1 = __values(files), files_1_1 = files_1.next(); !files_1_1.done; files_1_1 = files_1.next()) {\n                var file = files_1_1.value;\n                list.push(file);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (files_1_1 && !files_1_1.done && (_a = files_1.return)) _a.call(files_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        /** @type {?} */\n        var arrayOfFilters = this._getFilters(filters);\n        /** @type {?} */\n        var count = this.queue.length;\n        /** @type {?} */\n        var addedFileItems = [];\n        list.map((/**\n         * @param {?} some\n         * @return {?}\n         */\n        function (some) {\n            if (!options) {\n                options = _this.options;\n            }\n            /** @type {?} */\n            var temp = new FileLikeObject(some);\n            if (_this._isValidFile(temp, arrayOfFilters, options)) {\n                /** @type {?} */\n                var fileItem = new FileItem(_this, some, options);\n                addedFileItems.push(fileItem);\n                _this.queue.push(fileItem);\n                _this._onAfterAddingFile(fileItem);\n            }\n            else {\n                /** @type {?} */\n                var filter = arrayOfFilters[_this._failFilterIndex];\n                _this._onWhenAddingFileFailed(temp, filter, options);\n            }\n        }));\n        if (this.queue.length !== count) {\n            this._onAfterAddingAll(addedFileItems);\n            this.progress = this._getTotalProgress();\n        }\n        this._render();\n        if (this.options.autoUpload) {\n            this.uploadAll();\n        }\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    FileUploader.prototype.removeFromQueue = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        /** @type {?} */\n        var index = this.getIndexOfItem(value);\n        /** @type {?} */\n        var item = this.queue[index];\n        if (item.isUploading) {\n            item.cancel();\n        }\n        this.queue.splice(index, 1);\n        this.progress = this._getTotalProgress();\n    };\n    /**\n     * @return {?}\n     */\n    FileUploader.prototype.clearQueue = /**\n     * @return {?}\n     */\n    function () {\n        while (this.queue.length) {\n            this.queue[0].remove();\n        }\n        this.progress = 0;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    FileUploader.prototype.uploadItem = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        /** @type {?} */\n        var index = this.getIndexOfItem(value);\n        /** @type {?} */\n        var item = this.queue[index];\n        /** @type {?} */\n        var transport = this.options.isHTML5 ? '_xhrTransport' : '_iframeTransport';\n        item._prepareToUploading();\n        if (this.isUploading) {\n            return;\n        }\n        this.isUploading = true;\n        ((/** @type {?} */ (this)))[transport](item);\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    FileUploader.prototype.cancelItem = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        /** @type {?} */\n        var index = this.getIndexOfItem(value);\n        /** @type {?} */\n        var item = this.queue[index];\n        /** @type {?} */\n        var prop = this.options.isHTML5 ? item._xhr : item._form;\n        if (item && item.isUploading) {\n            prop.abort();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    FileUploader.prototype.uploadAll = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var items = this.getNotUploadedItems().filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) { return !item.isUploading; }));\n        if (!items.length) {\n            return;\n        }\n        items.map((/**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) { return item._prepareToUploading(); }));\n        items[0].upload();\n    };\n    /**\n     * @return {?}\n     */\n    FileUploader.prototype.cancelAll = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var items = this.getNotUploadedItems();\n        items.map((/**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) { return item.cancel(); }));\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    FileUploader.prototype.isFile = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        return isFile(value);\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    FileUploader.prototype.isFileLikeObject = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        return value instanceof FileLikeObject;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    FileUploader.prototype.getIndexOfItem = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        return typeof value === 'number' ? value : this.queue.indexOf(value);\n    };\n    /**\n     * @return {?}\n     */\n    FileUploader.prototype.getNotUploadedItems = /**\n     * @return {?}\n     */\n    function () {\n        return this.queue.filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) { return !item.isUploaded; }));\n    };\n    /**\n     * @return {?}\n     */\n    FileUploader.prototype.getReadyItems = /**\n     * @return {?}\n     */\n    function () {\n        return this.queue\n            .filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) { return (item.isReady && !item.isUploading); }))\n            .sort((/**\n         * @param {?} item1\n         * @param {?} item2\n         * @return {?}\n         */\n        function (item1, item2) { return item1.index - item2.index; }));\n    };\n    /**\n     * @return {?}\n     */\n    FileUploader.prototype.destroy = /**\n     * @return {?}\n     */\n    function () {\n        return void 0;\n    };\n    /**\n     * @param {?} fileItems\n     * @return {?}\n     */\n    FileUploader.prototype.onAfterAddingAll = /**\n     * @param {?} fileItems\n     * @return {?}\n     */\n    function (fileItems) {\n        return { fileItems: fileItems };\n    };\n    /**\n     * @param {?} fileItem\n     * @param {?} form\n     * @return {?}\n     */\n    FileUploader.prototype.onBuildItemForm = /**\n     * @param {?} fileItem\n     * @param {?} form\n     * @return {?}\n     */\n    function (fileItem, form) {\n        return { fileItem: fileItem, form: form };\n    };\n    /**\n     * @param {?} fileItem\n     * @return {?}\n     */\n    FileUploader.prototype.onAfterAddingFile = /**\n     * @param {?} fileItem\n     * @return {?}\n     */\n    function (fileItem) {\n        return { fileItem: fileItem };\n    };\n    /**\n     * @param {?} item\n     * @param {?} filter\n     * @param {?} options\n     * @return {?}\n     */\n    FileUploader.prototype.onWhenAddingFileFailed = /**\n     * @param {?} item\n     * @param {?} filter\n     * @param {?} options\n     * @return {?}\n     */\n    function (item, filter, options) {\n        return { item: item, filter: filter, options: options };\n    };\n    /**\n     * @param {?} fileItem\n     * @return {?}\n     */\n    FileUploader.prototype.onBeforeUploadItem = /**\n     * @param {?} fileItem\n     * @return {?}\n     */\n    function (fileItem) {\n        return { fileItem: fileItem };\n    };\n    /**\n     * @param {?} fileItem\n     * @param {?} progress\n     * @return {?}\n     */\n    FileUploader.prototype.onProgressItem = /**\n     * @param {?} fileItem\n     * @param {?} progress\n     * @return {?}\n     */\n    function (fileItem, progress) {\n        return { fileItem: fileItem, progress: progress };\n    };\n    /**\n     * @param {?} progress\n     * @return {?}\n     */\n    FileUploader.prototype.onProgressAll = /**\n     * @param {?} progress\n     * @return {?}\n     */\n    function (progress) {\n        return { progress: progress };\n    };\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype.onSuccessItem = /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        return { item: item, response: response, status: status, headers: headers };\n    };\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype.onErrorItem = /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        return { item: item, response: response, status: status, headers: headers };\n    };\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype.onCancelItem = /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        return { item: item, response: response, status: status, headers: headers };\n    };\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype.onCompleteItem = /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        return { item: item, response: response, status: status, headers: headers };\n    };\n    /**\n     * @return {?}\n     */\n    FileUploader.prototype.onCompleteAll = /**\n     * @return {?}\n     */\n    function () {\n        return void 0;\n    };\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    FileUploader.prototype._mimeTypeFilter = /**\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        return !(this.options.allowedMimeType && this.options.allowedMimeType.indexOf(item.type) === -1);\n    };\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    FileUploader.prototype._fileSizeFilter = /**\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        return !(this.options.maxFileSize && item.size > this.options.maxFileSize);\n    };\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    FileUploader.prototype._fileTypeFilter = /**\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        return !(this.options.allowedFileType &&\n            this.options.allowedFileType.indexOf(FileType.getMimeClass(item)) === -1);\n    };\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype._onErrorItem = /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        item._onError(response, status, headers);\n        this.onErrorItem(item, response, status, headers);\n    };\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype._onCompleteItem = /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        item._onComplete(response, status, headers);\n        this.onCompleteItem(item, response, status, headers);\n        /** @type {?} */\n        var nextItem = this.getReadyItems()[0];\n        this.isUploading = false;\n        if (nextItem) {\n            nextItem.upload();\n            return;\n        }\n        this.onCompleteAll();\n        this.progress = this._getTotalProgress();\n        this._render();\n    };\n    /**\n     * @protected\n     * @param {?} parsedHeaders\n     * @return {?}\n     */\n    FileUploader.prototype._headersGetter = /**\n     * @protected\n     * @param {?} parsedHeaders\n     * @return {?}\n     */\n    function (parsedHeaders) {\n        return (/**\n         * @param {?} name\n         * @return {?}\n         */\n        function (name) {\n            if (name) {\n                return parsedHeaders[name.toLowerCase()] || void 0;\n            }\n            return parsedHeaders;\n        });\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    FileUploader.prototype._xhrTransport = /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        var e_2, _a, e_3, _b;\n        var _this = this;\n        /** @type {?} */\n        var that = this;\n        /** @type {?} */\n        var xhr = item._xhr = new XMLHttpRequest();\n        /** @type {?} */\n        var sendable;\n        this._onBeforeUploadItem(item);\n        if (typeof item._file.size !== 'number') {\n            throw new TypeError('The file specified is no longer valid');\n        }\n        if (!this.options.disableMultipart) {\n            sendable = new FormData();\n            this._onBuildItemForm(item, sendable);\n            /** @type {?} */\n            var appendFile = (/**\n             * @return {?}\n             */\n            function () { return sendable.append(item.alias, item._file, item.file.name); });\n            if (!this.options.parametersBeforeFiles) {\n                appendFile();\n            }\n            // For AWS, Additional Parameters must come BEFORE Files\n            if (this.options.additionalParameter !== undefined) {\n                Object.keys(this.options.additionalParameter).forEach((/**\n                 * @param {?} key\n                 * @return {?}\n                 */\n                function (key) {\n                    /** @type {?} */\n                    var paramVal = _this.options.additionalParameter[key];\n                    // Allow an additional parameter to include the filename\n                    if (typeof paramVal === 'string' && paramVal.indexOf('{{file_name}}') >= 0) {\n                        paramVal = paramVal.replace('{{file_name}}', item.file.name);\n                    }\n                    sendable.append(key, paramVal);\n                }));\n            }\n            if (this.options.parametersBeforeFiles) {\n                appendFile();\n            }\n        }\n        else {\n            sendable = this.options.formatDataFunction(item);\n        }\n        xhr.upload.onprogress = (/**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            /** @type {?} */\n            var progress = Math.round(event.lengthComputable ? event.loaded * 100 / event.total : 0);\n            _this._onProgressItem(item, progress);\n        });\n        xhr.onload = (/**\n         * @return {?}\n         */\n        function () {\n            /** @type {?} */\n            var headers = _this._parseHeaders(xhr.getAllResponseHeaders());\n            /** @type {?} */\n            var response = _this._transformResponse(xhr.response, headers);\n            /** @type {?} */\n            var gist = _this._isSuccessCode(xhr.status) ? 'Success' : 'Error';\n            /** @type {?} */\n            var method = '_on' + gist + 'Item';\n            ((/** @type {?} */ (_this)))[method](item, response, xhr.status, headers);\n            _this._onCompleteItem(item, response, xhr.status, headers);\n        });\n        xhr.onerror = (/**\n         * @return {?}\n         */\n        function () {\n            /** @type {?} */\n            var headers = _this._parseHeaders(xhr.getAllResponseHeaders());\n            /** @type {?} */\n            var response = _this._transformResponse(xhr.response, headers);\n            _this._onErrorItem(item, response, xhr.status, headers);\n            _this._onCompleteItem(item, response, xhr.status, headers);\n        });\n        xhr.onabort = (/**\n         * @return {?}\n         */\n        function () {\n            /** @type {?} */\n            var headers = _this._parseHeaders(xhr.getAllResponseHeaders());\n            /** @type {?} */\n            var response = _this._transformResponse(xhr.response, headers);\n            _this._onCancelItem(item, response, xhr.status, headers);\n            _this._onCompleteItem(item, response, xhr.status, headers);\n        });\n        xhr.open(item.method, item.url, true);\n        xhr.withCredentials = item.withCredentials;\n        if (this.options.headers) {\n            try {\n                for (var _c = __values(this.options.headers), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var header = _d.value;\n                    xhr.setRequestHeader(header.name, header.value);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }\n        if (item.headers.length) {\n            try {\n                for (var _e = __values(item.headers), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var header = _f.value;\n                    xhr.setRequestHeader(header.name, header.value);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        if (this.authToken) {\n            xhr.setRequestHeader(this.authTokenHeader, this.authToken);\n        }\n        xhr.onreadystatechange = (/**\n         * @return {?}\n         */\n        function () {\n            if (xhr.readyState == XMLHttpRequest.DONE) {\n                that.response.emit(xhr.responseText);\n            }\n        });\n        if (this.options.formatDataFunctionIsAsync) {\n            sendable.then((/**\n             * @param {?} result\n             * @return {?}\n             */\n            function (result) { return xhr.send(JSON.stringify(result)); }));\n        }\n        else {\n            xhr.send(sendable);\n        }\n        this._render();\n    };\n    /**\n     * @protected\n     * @param {?=} value\n     * @return {?}\n     */\n    FileUploader.prototype._getTotalProgress = /**\n     * @protected\n     * @param {?=} value\n     * @return {?}\n     */\n    function (value) {\n        if (value === void 0) { value = 0; }\n        if (this.options.removeAfterUpload) {\n            return value;\n        }\n        /** @type {?} */\n        var notUploaded = this.getNotUploadedItems().length;\n        /** @type {?} */\n        var uploaded = notUploaded ? this.queue.length - notUploaded : this.queue.length;\n        /** @type {?} */\n        var ratio = 100 / this.queue.length;\n        /** @type {?} */\n        var current = value * ratio / 100;\n        return Math.round(uploaded * ratio + current);\n    };\n    /**\n     * @protected\n     * @param {?} filters\n     * @return {?}\n     */\n    FileUploader.prototype._getFilters = /**\n     * @protected\n     * @param {?} filters\n     * @return {?}\n     */\n    function (filters) {\n        if (!filters) {\n            return this.options.filters;\n        }\n        if (Array.isArray(filters)) {\n            return filters;\n        }\n        if (typeof filters === 'string') {\n            /** @type {?} */\n            var names_1 = filters.match(/[^\\s,]+/g);\n            return this.options.filters\n                .filter((/**\n             * @param {?} filter\n             * @return {?}\n             */\n            function (filter) { return names_1.indexOf(filter.name) !== -1; }));\n        }\n        return this.options.filters;\n    };\n    /**\n     * @protected\n     * @return {?}\n     */\n    FileUploader.prototype._render = /**\n     * @protected\n     * @return {?}\n     */\n    function () {\n        return void 0;\n    };\n    /**\n     * @protected\n     * @return {?}\n     */\n    FileUploader.prototype._queueLimitFilter = /**\n     * @protected\n     * @return {?}\n     */\n    function () {\n        return this.options.queueLimit === undefined || this.queue.length < this.options.queueLimit;\n    };\n    /**\n     * @protected\n     * @param {?} file\n     * @param {?} filters\n     * @param {?} options\n     * @return {?}\n     */\n    FileUploader.prototype._isValidFile = /**\n     * @protected\n     * @param {?} file\n     * @param {?} filters\n     * @param {?} options\n     * @return {?}\n     */\n    function (file, filters, options) {\n        var _this = this;\n        this._failFilterIndex = -1;\n        return !filters.length ? true : filters.every((/**\n         * @param {?} filter\n         * @return {?}\n         */\n        function (filter) {\n            _this._failFilterIndex++;\n            return filter.fn.call(_this, file, options);\n        }));\n    };\n    /**\n     * @protected\n     * @param {?} status\n     * @return {?}\n     */\n    FileUploader.prototype._isSuccessCode = /**\n     * @protected\n     * @param {?} status\n     * @return {?}\n     */\n    function (status) {\n        return (status >= 200 && status < 300) || status === 304;\n    };\n    /**\n     * @protected\n     * @param {?} response\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype._transformResponse = /**\n     * @protected\n     * @param {?} response\n     * @param {?} headers\n     * @return {?}\n     */\n    function (response, headers) {\n        return response;\n    };\n    /**\n     * @protected\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype._parseHeaders = /**\n     * @protected\n     * @param {?} headers\n     * @return {?}\n     */\n    function (headers) {\n        /** @type {?} */\n        var parsed = {};\n        /** @type {?} */\n        var key;\n        /** @type {?} */\n        var val;\n        /** @type {?} */\n        var i;\n        if (!headers) {\n            return parsed;\n        }\n        headers.split('\\n').map((/**\n         * @param {?} line\n         * @return {?}\n         */\n        function (line) {\n            i = line.indexOf(':');\n            key = line.slice(0, i).trim().toLowerCase();\n            val = line.slice(i + 1).trim();\n            if (key) {\n                parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n            }\n        }));\n        return parsed;\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} filter\n     * @param {?} options\n     * @return {?}\n     */\n    FileUploader.prototype._onWhenAddingFileFailed = /**\n     * @protected\n     * @param {?} item\n     * @param {?} filter\n     * @param {?} options\n     * @return {?}\n     */\n    function (item, filter, options) {\n        this.onWhenAddingFileFailed(item, filter, options);\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    FileUploader.prototype._onAfterAddingFile = /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        this.onAfterAddingFile(item);\n    };\n    /**\n     * @protected\n     * @param {?} items\n     * @return {?}\n     */\n    FileUploader.prototype._onAfterAddingAll = /**\n     * @protected\n     * @param {?} items\n     * @return {?}\n     */\n    function (items) {\n        this.onAfterAddingAll(items);\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    FileUploader.prototype._onBeforeUploadItem = /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    function (item) {\n        item._onBeforeUpload();\n        this.onBeforeUploadItem(item);\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} form\n     * @return {?}\n     */\n    FileUploader.prototype._onBuildItemForm = /**\n     * @protected\n     * @param {?} item\n     * @param {?} form\n     * @return {?}\n     */\n    function (item, form) {\n        item._onBuildForm(form);\n        this.onBuildItemForm(item, form);\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} progress\n     * @return {?}\n     */\n    FileUploader.prototype._onProgressItem = /**\n     * @protected\n     * @param {?} item\n     * @param {?} progress\n     * @return {?}\n     */\n    function (item, progress) {\n        /** @type {?} */\n        var total = this._getTotalProgress(progress);\n        this.progress = total;\n        item._onProgress(progress);\n        this.onProgressItem(item, progress);\n        this.onProgressAll(total);\n        this._render();\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype._onSuccessItem = /**\n     * @protected\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        item._onSuccess(response, status, headers);\n        this.onSuccessItem(item, response, status, headers);\n    };\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    FileUploader.prototype._onCancelItem = /**\n     * @protected\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    function (item, response, status, headers) {\n        item._onCancel(response, status, headers);\n        this.onCancelItem(item, response, status, headers);\n    };\n    return FileUploader;\n}());\nif (false) {\n    /** @type {?} */\n    FileUploader.prototype.authToken;\n    /** @type {?} */\n    FileUploader.prototype.isUploading;\n    /** @type {?} */\n    FileUploader.prototype.queue;\n    /** @type {?} */\n    FileUploader.prototype.progress;\n    /** @type {?} */\n    FileUploader.prototype._nextIndex;\n    /** @type {?} */\n    FileUploader.prototype.autoUpload;\n    /** @type {?} */\n    FileUploader.prototype.authTokenHeader;\n    /** @type {?} */\n    FileUploader.prototype.response;\n    /** @type {?} */\n    FileUploader.prototype.options;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileUploader.prototype._failFilterIndex;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar FileSelectDirective = /** @class */ (function () {\n    function FileSelectDirective(element) {\n        this.onFileSelected = new EventEmitter();\n        this.element = element;\n    }\n    /**\n     * @return {?}\n     */\n    FileSelectDirective.prototype.getOptions = /**\n     * @return {?}\n     */\n    function () {\n        return this.uploader.options;\n    };\n    /**\n     * @return {?}\n     */\n    FileSelectDirective.prototype.getFilters = /**\n     * @return {?}\n     */\n    function () {\n        return {};\n    };\n    /**\n     * @return {?}\n     */\n    FileSelectDirective.prototype.isEmptyAfterSelection = /**\n     * @return {?}\n     */\n    function () {\n        return !!this.element.nativeElement.attributes.multiple;\n    };\n    /**\n     * @return {?}\n     */\n    FileSelectDirective.prototype.onChange = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var files = this.element.nativeElement.files;\n        /** @type {?} */\n        var options = this.getOptions();\n        /** @type {?} */\n        var filters = this.getFilters();\n        this.uploader.addToQueue(files, options, filters);\n        this.onFileSelected.emit(files);\n        if (this.isEmptyAfterSelection()) {\n            this.element.nativeElement.value = '';\n        }\n    };\n    FileSelectDirective.decorators = [\n        { type: Directive, args: [{ selector: '[ng2FileSelect]' },] }\n    ];\n    /** @nocollapse */\n    FileSelectDirective.ctorParameters = function () { return [\n        { type: ElementRef }\n    ]; };\n    FileSelectDirective.propDecorators = {\n        uploader: [{ type: Input }],\n        onFileSelected: [{ type: Output }],\n        onChange: [{ type: HostListener, args: ['change',] }]\n    };\n    return FileSelectDirective;\n}());\nif (false) {\n    /** @type {?} */\n    FileSelectDirective.prototype.uploader;\n    /** @type {?} */\n    FileSelectDirective.prototype.onFileSelected;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileSelectDirective.prototype.element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar FileDropDirective = /** @class */ (function () {\n    function FileDropDirective(element) {\n        this.fileOver = new EventEmitter();\n        this.onFileDrop = new EventEmitter();\n        this.element = element;\n    }\n    /**\n     * @return {?}\n     */\n    FileDropDirective.prototype.getOptions = /**\n     * @return {?}\n     */\n    function () {\n        return this.uploader.options;\n    };\n    /**\n     * @return {?}\n     */\n    FileDropDirective.prototype.getFilters = /**\n     * @return {?}\n     */\n    function () {\n        return {};\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    FileDropDirective.prototype.onDrop = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        /** @type {?} */\n        var transfer = this._getTransfer(event);\n        if (!transfer) {\n            return;\n        }\n        /** @type {?} */\n        var options = this.getOptions();\n        /** @type {?} */\n        var filters = this.getFilters();\n        this._preventAndStop(event);\n        this.uploader.addToQueue(transfer.files, options, filters);\n        this.fileOver.emit(false);\n        this.onFileDrop.emit(transfer.files);\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    FileDropDirective.prototype.onDragOver = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        /** @type {?} */\n        var transfer = this._getTransfer(event);\n        if (!this._haveFiles(transfer.types)) {\n            return;\n        }\n        transfer.dropEffect = 'copy';\n        this._preventAndStop(event);\n        this.fileOver.emit(true);\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    FileDropDirective.prototype.onDragLeave = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (((/** @type {?} */ (this))).element) {\n            if (event.currentTarget === ((/** @type {?} */ (this))).element[0]) {\n                return;\n            }\n        }\n        this._preventAndStop(event);\n        this.fileOver.emit(false);\n    };\n    /**\n     * @protected\n     * @param {?} event\n     * @return {?}\n     */\n    FileDropDirective.prototype._getTransfer = /**\n     * @protected\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\n    };\n    /**\n     * @protected\n     * @param {?} event\n     * @return {?}\n     */\n    FileDropDirective.prototype._preventAndStop = /**\n     * @protected\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n    /**\n     * @protected\n     * @param {?} types\n     * @return {?}\n     */\n    FileDropDirective.prototype._haveFiles = /**\n     * @protected\n     * @param {?} types\n     * @return {?}\n     */\n    function (types) {\n        if (!types) {\n            return false;\n        }\n        if (types.indexOf) {\n            return types.indexOf('Files') !== -1;\n        }\n        else if (types.contains) {\n            return types.contains('Files');\n        }\n        else {\n            return false;\n        }\n    };\n    FileDropDirective.decorators = [\n        { type: Directive, args: [{ selector: '[ng2FileDrop]' },] }\n    ];\n    /** @nocollapse */\n    FileDropDirective.ctorParameters = function () { return [\n        { type: ElementRef }\n    ]; };\n    FileDropDirective.propDecorators = {\n        uploader: [{ type: Input }],\n        fileOver: [{ type: Output }],\n        onFileDrop: [{ type: Output }],\n        onDrop: [{ type: HostListener, args: ['drop', ['$event'],] }],\n        onDragOver: [{ type: HostListener, args: ['dragover', ['$event'],] }],\n        onDragLeave: [{ type: HostListener, args: ['dragleave', ['$event'],] }]\n    };\n    return FileDropDirective;\n}());\nif (false) {\n    /** @type {?} */\n    FileDropDirective.prototype.uploader;\n    /** @type {?} */\n    FileDropDirective.prototype.fileOver;\n    /** @type {?} */\n    FileDropDirective.prototype.onFileDrop;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileDropDirective.prototype.element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar FileUploadModule = /** @class */ (function () {\n    function FileUploadModule() {\n    }\n    FileUploadModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [CommonModule],\n                    declarations: [FileDropDirective, FileSelectDirective],\n                    exports: [FileDropDirective, FileSelectDirective]\n                },] }\n    ];\n    return FileUploadModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { FileDropDirective, FileItem, FileLikeObject, FileSelectDirective, FileUploadModule, FileUploader };\n//# sourceMappingURL=ng2-file-upload.js.map\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddbookPage } from './addbook.page';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule\n\n  ],\n  entryComponents: [AddbookPage],\n  declarations: [AddbookPage]\n})\nexport class AddbookPageModule {}\n","module.exports = \"<ion-header color=\\\"success\\\" [translucent]=\\\"true\\\" collapse=\\\"condense\\\">\\n  <ion-toolbar >\\n    <!--<ion-title size=\\\"large\\\" \\n               style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n               color: #FDFEFE  ; font-weight: bolder; font-size: 15px;\\\">\\n    Add 1 or more books..\\n    </ion-title>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"closeModal()\\\">\\n        <ion-icon style=\\\"color: white; background: #145A32; \\\" name=\\\"close\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>-->\\n\\n   \\n      \\n    \\n      <ion-title size=\\\"large\\\" text-center\\n             style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n             color: #FDFEFE  ; font-weight: bolder; font-size: 15px; text-align: start;\\\">\\n            Add 1 or more books..\\n       </ion-title>\\n   \\n      \\n       <ion-buttons slot=\\\"end\\\">\\n        <ion-icon style=\\\"color: whitesmoke;\\\" src=\\\"../assets/icon/close-outline.svg\\\" \\n        size=\\\"medium\\\" (click)=\\\"closeModal()\\\"></ion-icon>\\n      </ion-buttons>\\n  \\n    \\n   \\n\\n  </ion-toolbar>\\n\\n  \\n</ion-header> \\n\\n<ion-content>\\n\\n\\n    <form [formGroup]=\\\"addBookFormGroup\\\" #fform=\\\"ngForm\\\">\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Book Name:</ion-label>\\n        <ion-input formControlName=\\\"bookname\\\" type=\\\"text\\\" required></ion-input>\\n      </ion-item>\\n      <div *ngIf=\\\"formErrors.bookname\\\">\\n        <ng-container >\\n          <div style=\\\"color:darkgrey;\\\">\\n            {{formErrors.bookname}}\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n    <!--<ion-item>\\n        <ion-label color=\\\"medium\\\">Book Cover Image:</ion-label>\\n        <ion-input type=\\\"file\\\" (change)=\\\"onFileChanged($event)\\\" required></ion-input>\\n        <ion-thumbnail>\\n          <ion-img [src]=\\\"imgURL\\\" height=\\\"100\\\" *ngIf=\\\"imgURL\\\"></ion-img>\\n        </ion-thumbnail>\\n    </ion-item> -->\\n\\n     <ion-item>\\n          <ion-label color=\\\"medium\\\">Book Cover \\n            <ion-icon *ngIf=\\\"!capturedImage\\\" src=\\\"../assets/icon/camera-outline.svg\\\" (click)=\\\"selectImageSource()\\\"></ion-icon>:\\n          </ion-label>\\n    \\n          <ion-thumbnail>\\n            <ion-img formControlName=\\\"bookcoverimage\\\" [src]=\\\"capturedImage\\\" *ngIf=\\\"capturedImage\\\" height=\\\"100\\\" required></ion-img>\\n          </ion-thumbnail>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Book Genre:</ion-label>\\n        <ion-select formControlName=\\\"bookgenre\\\" required>\\n          <ion-select-option *ngFor=\\\"let bgenre of bookgenre\\\" [value]=\\\"bgenre\\\">\\n                  {{bgenre}}\\n        </ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <div *ngIf=\\\"formErrors.bookgenre\\\">\\n        <ng-container >\\n          <div style=\\\"color:darkgrey;\\\">\\n            {{formErrors.bookgenre}}\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Book Language:</ion-label>\\n        <ion-select formControlName=\\\"booklanguage\\\" required>\\n          <ion-select-option *ngFor=\\\"let blanguage of booklanguage\\\" [value]=\\\"blanguage\\\">\\n                  {{blanguage}}\\n        </ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <div *ngIf=\\\"formErrors.booklanguage\\\">\\n        <ng-container >\\n          <div style=\\\"color:darkgrey;\\\">\\n            {{formErrors.booklanguage}}\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n     <ion-item>\\n        <ion-label color=\\\"medium\\\">Book's Author:</ion-label>\\n        <ion-input formControlName=\\\"bookauthor\\\" type=\\\"text\\\" required></ion-input>\\n      </ion-item>\\n      <div *ngIf=\\\"formErrors.bookauthor\\\">\\n        <ng-container >\\n          <div style=\\\"color:darkgrey;\\\">\\n            {{formErrors.bookauthor}}\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n      <!--<ion-item>\\n        <ion-label color=\\\"medium\\\">Book Description:</ion-label>\\n        <ion-input formControlName=\\\"bookdescription\\\" type=\\\"text\\\"></ion-input>\\n      </ion-item> -->\\n\\n      <ion-item>\\n          <ion-text color=\\\"medium\\\">Your Rating for the book:</ion-text>\\n          <ion-range min=\\\"1\\\" max=\\\"5\\\" tickInterval=\\\"1\\\" value=\\\"5\\\" pin=\\\"true\\\" snaps name=\\\"rating\\\"\\n          formControlName=\\\"bookrating\\\" required></ion-range>\\n      </ion-item>\\n      <div *ngIf=\\\"formErrors.bookrating\\\">\\n        <ng-container >\\n          <div style=\\\"color:darkgrey;\\\">\\n            {{formErrors.bookrating}}\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Your address:</ion-label>\\n        <ion-input formControlName=\\\"bookowneraddress\\\" type=\\\"text\\\" required></ion-input>\\n      </ion-item>\\n      <div *ngIf=\\\"formErrors.bookowneraddress\\\">\\n        <ng-container >\\n          <div style=\\\"color:darkgrey;\\\">\\n            {{formErrors.bookowneraddress}}\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Your contact number:</ion-label>\\n        <ion-input formControlName=\\\"bookownertelnum\\\" type=\\\"text\\\" required></ion-input>\\n      </ion-item>\\n      <div *ngIf=\\\"formErrors.bookownertelnum\\\">\\n        <ng-container >\\n          <div style=\\\"color:darkgrey;\\\">\\n            {{formErrors.bookownertelnum}}\\n          </div>\\n        </ng-container>\\n      </div>\\n\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-button (click)=\\\"onSubmit()\\\" shape=\\\"round\\\"  style=\\\"color:#1B4F72\\\" \\n          [disabled]=\\\"addBookFormGroup.invalid\\\" margin-top expand=\\\"full\\\">Submit</ion-button>\\n        </ion-col>\\n        <ion-col>\\n          <!--<ion-button (click)=\\\"closeModal()\\\" shape=\\\"round\\\" style=\\\"color: grey\\\" \\n          margin-top expand=\\\"full\\\">Cancel</ion-button>-->\\n        </ion-col>\\n      </ion-row>\\n    </form>\\n\\n</ion-content>\\n\"","module.exports = \".book-img {\\n  width: 50px;\\n  height: 50px;\\n  border: gray solid 1px;\\n  margin: 5px auto; }\\n\\n.displaycard {\\n  margin: 5px;\\n  padding: 5px; }\\n\\nion-button {\\n  --background: #F4F6F7 ; }\\n\\nion-toolbar {\\n  --background: #145A32; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC9hZGRib29rL2FkZGJvb2sucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBVztFQUNYLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsZ0JBQWdCLEVBQUE7O0FBR3BCO0VBSUssV0FBVztFQUNYLFlBQVksRUFBQTs7QUFJakI7RUFDSSxzQkFBYSxFQUFBOztBQUdmO0VBRUUscUJBQWEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FkZGJvb2svYWRkYm9vay5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9vay1pbWcge1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbiAgICBib3JkZXI6IGdyYXkgc29saWQgMXB4O1xuICAgIG1hcmdpbjogNXB4IGF1dG87XG59XG5cbi5kaXNwbGF5Y2FyZCB7XG4gICAgLy8gd2lkdGg6IDMwdnc7XG4gICAgIC8vaGVpZ2h0OjMwdmg7XG4gICAgLy8gYm9yZGVyOiBncmV5IHNvbGlkIDFweDtcbiAgICAgbWFyZ2luOiA1cHg7XG4gICAgIHBhZGRpbmc6IDVweDtcbiAgICAgLy9iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlO1xuICAgfVxuXG5pb24tYnV0dG9uIHtcbiAgICAtLWJhY2tncm91bmQ6ICNGNEY2RjcgO1xuICB9XG5cbiAgaW9uLXRvb2xiYXIge1xuICAgIC8vLS1iYWNrZ3JvdW5kOiAjMUI0RjcyO1xuICAgIC0tYmFja2dyb3VuZDogIzE0NUEzMjtcbn1cblxuXG5cbiJdfQ== */\"","import { Component, OnInit, Inject, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Location } from '@angular/common';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { Platform } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\n\nimport { Observable } from 'rxjs';\n\nimport { Book, BookLanguage, BookGenre } from '../shared/book';\nimport { Image } from '../shared/image';\nimport { BooksService } from '../services/books.service';\nimport { AuthService } from '../services/auth.service';\n\nimport { AlertController } from '@ionic/angular';\nimport { CameraOptions, Camera } from \"@ionic-native/camera/ngx\";\n\nimport { analyzeAndValidateNgModules } from '@angular/compiler';\n\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { File, FileEntry} from '@ionic-native/file/ngx';\nimport { FilePath } from '@ionic-native/file-path/ngx';\nimport { ToastController } from '@ionic/angular';\n//import { Storage } from '@ionic/storage';\n//const STORAGE_KEY = 'book_images';\n\n\n\n@Component({\n  selector: 'app-addbook',\n  templateUrl: './addbook.page.html',\n  styleUrls: ['./addbook.page.scss'],\n})\nexport class AddbookPage implements OnInit {\n\n\n \n  public selectedFile;\n  public uploadData;\n  public dataReader = new FileReader();\n  public event1;\n  imgURL: any;\n  receivedImageData: any;\n  capturedImage: any;\n  base64Data: any;\n  convertedImage: any;\n  newbookID: string;\n  i: number;\n  image;\n  imageData;\n\n\n  addBookFormGroup: FormGroup;\n  @ViewChild('fform') addbookDetailsFormDirective;\n  \n  bookCoverImage: any;\n \n  \n  errMess: string;\n\n  book: Book;\n  addbook: Book;\n  newbook: Book;\n  removebook: Book;\n  books: Book[];\n  images = [];\n\n  booklanguage = BookLanguage;\n  bookgenre = BookGenre;\n\n  submitted = null;\n  showForm = true;\n\n  borrowed: boolean;\n  reserved: boolean;\n  available: boolean;\n  panelOpenState = false;\n\n  username: string = undefined;\n  subscription: Subscription;\n\n  \n\n\n  formErrors = {\n    'bookname': '',\n    'booklanguage': '',\n    'bookgenre': '',\n    'bookowneraddress':'',\n    'bookownertelnum':'',\n    'bookrating':'',\n    'bookauthor':''\n  };\n\n  validationMessages = {\n    'bookname': {\n      'required':      'Book Name is required.',\n      'minlength':     'Book Name must be at least 1 character long.',\n      'maxlength':     'BookName cannot be more than 40 characters long.'\n    },\n    'booklanguage': {\n      'required':      'Book Language is required.',\n      'minlength':     'Book Language must be at least 2 characters long.',\n      'maxlength':     'Book Language cannot be more than 25 characters long.'\n    },\n    'bookgenre': {\n      'required':      'Book Language is required.',\n      'minlength':     'Book Language must be at least 2 characters long.',\n      'maxlength':     'Book Language cannot be more than 25 characters long.'\n    },\n    'bookowneraddress': {\n      'required':      'Address is required.',\n    },\n    'bookownertelnum': {\n      'required':      'Contact number is required.',\n      'pattern':       'Contact number must contain only numbers.'\n    },\n    'booauthor': {\n      'required':      'Author Name is required.',\n      'minlength':     'Author Name must be at least 1 character long.',\n      'maxlength':     'Author Name cannot be more than 40 characters long.'\n    }\n  };\n\n\n\n\n\n  constructor(private _modalController: ModalController,\n              private _alertController: AlertController,\n              private booksService: BooksService,\n              private fb: FormBuilder,\n              private _camera: Camera,\n              private _webview: WebView,\n              private file: File,\n              private plt: Platform,\n              private filePath: FilePath,\n              private authService: AuthService,\n              //private storage: Storage,\n              private webview: WebView,\n              //private ref: ChangeDetectorRef,\n              private toastCtrl: ToastController\n              \n              ) { }\n\n  ngOnInit() {\n\n    this.createForm();\n    this.authService.loadUserCredentials();\n    this.subscription = this.authService.getUsername()\n      .subscribe(name => { console.log(name); this.username = name; });\n    \n    this.booksService.getBooks()\n      .subscribe(books => {\n          this.books = books;\n      }, errmess => this.errMess = <any>errmess);\n\n      const button = document.querySelector('ion-button');\n      button.addEventListener('click', this.onSubmit);\n  }\n\n  onFileChanged(event) {\n    console.log(event);\n    this.selectedFile = event.target.files[0];\n    console.log(\"Event\", event);\n    console.log(\"Event target files\", event.target.files);\n    console.log(\"selected file contnets\", this.selectedFile);\n    console.log(\"selected file name\", this.selectedFile.name);\n    // Below part is used to display the selected image\n    //let reader = new FileReader();\n    //reader.readAsDataURL(event.target.files[0]);\n    //reader.onload = (event2) => {\n      //this.imgURL = reader.result;\n      //this.bookCoverImage = reader.result;\n    //};\n\n  this.uploadData = new FormData();\n  this.uploadData.append('imageFile', this.selectedFile, this.selectedFile.name);\n  \n  this.dataReader.readAsArrayBuffer(event.target.files[0]);\n\n }\n\n async presentToast(msg) {\n  const toast = await this.toastCtrl.create({\n    message: msg,\n    duration: 2000,\n    position: 'middle'\n  });\n  toast.present();\n}\n\n  createForm() {\n        this.addBookFormGroup = this.fb.group({\n          bookname: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(40)] ],\n          booklanguage: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(25)] ],\n          bookgenre: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(25)] ],\n          bookowneraddress: ['', [Validators.required]],\n          bookownertelnum:['', [Validators.required, Validators.pattern] ],\n          bookrating: '5',\n          bookauthor: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(200)] ],\n          bookcoverimage: ''\n          \n        });\n        this.addBookFormGroup.valueChanges\n        .subscribe(data => this.onValueChanged(data));\n\n        //this.onValueChanged(); // (re)set validation messages now\n      }\n\n      onValueChanged(data?: any) {\n        if (!this.addBookFormGroup) { return; }\n        const form = this.addBookFormGroup;\n        for (const field in this.formErrors) {\n          if (this.formErrors.hasOwnProperty(field)) {\n            // clear previous error message (if any)\n            this.formErrors[field] = '';\n            const control = form.get(field);\n            if (control && control.dirty && !control.valid) {\n              const messages = this.validationMessages[field];\n              for (const key in control.errors) {\n                if (control.errors.hasOwnProperty(key)) {\n                  this.formErrors[field] += messages[key] + ' ';\n                }\n              }\n            }\n          }\n        }\n      }\n\n      async onSubmit() {\n\n      \n        const alert = await this._alertController.create({\n          header: \"Add Book\",\n          message: \"Select your option..\",\n          buttons: [\n            {\n              text: \"Add this\",\n              handler: ()=> {\n                this.addbook = this.addBookFormGroup.value;\n                this.addbook.bookcurrentstatus = 'available';\n                \n                console.log(this.addbook);\n                this.showForm = false;\n\n                this.booksService.addBook(this.addbook)\n                .subscribe(addbook => {\n                  console.log(\"response received-BOOK ADDED\");\n                  this.submitted = addbook;\n\n                  this.booksService.uploadImage(this.submitted._id, this.uploadData)\n                  .subscribe(res => {\n                      console.log(res);\n                      this.presentToast(\"Book Added Successfully\")\n                      this.ngOnInit();\n                      this.receivedImageData = res;\n                      this.base64Data = this.receivedImageData.pic;\n                      this.convertedImage = 'data:image/jpeg;base64,' + this.base64Data;\n                    });\n\n                  this.addbook = null;\n                  setTimeout(() => { this.submitted = null; this.showForm = true; }, 5000);\n                },\n                error => console.log(error.status, error.message));\n                \n                this.addBookFormGroup.reset({\n                  bookname: '',\n                  booklanguage: '',\n                  bookgenre: '',\n                  bookowneraddress: '',\n                  bookownertelnum:'',\n                  bookrating: '5',\n                  bookcoverimage: ''\n                });\n                this.capturedImage = undefined;\n                this.addbookDetailsFormDirective.resetForm();\n\n                //this.ngOnInit();\n                this.closeModal();\n\n              }\n            },\n            {\n              text: \"Add this & 1 more\",\n              handler: ()=> {\n\n                this.addbook = this.addBookFormGroup.value;\n                this.addbook.bookcurrentstatus = 'available';\n                \n              //  this.feedback = this.bookDetailsForm.value;\n                console.log(this.addbook);\n                this.showForm = false;\n\n              this.booksService.addBook(this.addbook)\n                .subscribe(addbook => {\n                  console.log(\"response received\");\n                  this.submitted = addbook;\n                  console.log(this.submitted);\n\n                  this.booksService.uploadImage(this.submitted._id, this.uploadData)\n                  .subscribe(res => {\n                      console.log(res);\n                      this.presentToast(\"Book Added Successfully\")\n                      this.ngOnInit();\n                      this.receivedImageData = res;\n                      this.base64Data = this.receivedImageData.pic;\n                      this.convertedImage = 'data:image/jpeg;base64,' + this.base64Data;\n                    });\n                  \n                  \n                  this.addbook = null;\n                  setTimeout(() => { this.submitted = null; this.showForm = true; }, 5000);\n                },\n                error => console.log(error.status, error.message));\n                this.addBookFormGroup.reset({\n                  bookname: '',\n                  booklanguage: '',\n                  bookgenre:'',\n                  bookowneraddress: '',\n                  //bookdescription:'',\n                  bookownertelnum:'',\n                  bookrating: '5',\n                  bookcoverimage: ''\n                });\n                this.capturedImage = undefined;\n                this.addbookDetailsFormDirective.resetForm();\n\n              }\n            }\n          ]\n        });\n\n        await alert.present();\n\n    }\n\n\nasync selectImageSource() {\n      const cameraOptions: CameraOptions = {\n        quality: 100,\n        destinationType: this._camera.DestinationType.FILE_URI,\n        encodingType: this._camera.EncodingType.PNG,\n        mediaType: this._camera.MediaType.PICTURE,\n        targetHeight: 180,\n        targetWidth: 100,\n        correctOrientation: true,\n        sourceType: this._camera.PictureSourceType.CAMERA\n      };\n\n      const galleryOptions: CameraOptions = {\n        quality: 100,\n        destinationType: this._camera.DestinationType.FILE_URI,\n        encodingType: this._camera.EncodingType.PNG,\n        mediaType: this._camera.MediaType.PICTURE,\n        targetHeight: 180,\n        targetWidth: 100,\n        correctOrientation: true,\n        sourceType: this._camera.PictureSourceType.SAVEDPHOTOALBUM\n      };\n\n      const alert = await this._alertController.create({\n        header: \"Select Source\",\n        message: \"Pick a source for your image\",\n        buttons: [\n          {\n            text: \"Camera\",\n            handler: ()=> {\n              \n              this._camera.getPicture(cameraOptions)\n              .then(imageURI => {\n            \n                // display captured image\n                console.log(imageURI);\n                let imageName = imageURI.substring(imageURI.lastIndexOf('/')+1);\n                let imagePath =  imageURI.substring(0,imageURI.lastIndexOf('/')+1);\n                console.log(\"image name\", imageName);\n                console.log(\"image path\", imagePath);\n                console.log(\"before read as data url\");\n                this.file.readAsDataURL(imagePath, imageName).then(res => this.capturedImage = res);\n                console.log(\"after read as data url\");\n                \n                // resolve URI, get blob & file and POST\n                this.file.resolveLocalFilesystemUrl(imageURI)\n                .then(entry => {\n                    console.log(\"inside resolve local file system url\");\n                    (<FileEntry>entry).file(file => this.readFile(file))\n                 })\n                .catch(err => {\n                  console.log(\"error reading file\")\n                })\n              }, (err) => {\n                // Handle error\n                 console.log(err);\n           });\n              \n          }\n        },\n        {\n            text: \"Gallery\",\n            handler: ()=> {\n             \n              this._camera.getPicture(galleryOptions)\n              .then(imageURI => {\n                \n                // display captured image\n                let imageName = imageURI.substring(imageURI.lastIndexOf('/')+1);\n                let imagePath =  imageURI.substring(0,imageURI.lastIndexOf('/')+1);\n                this.file.readAsDataURL(imagePath, imageName).then(res => this.capturedImage = res);\n              //  this.copyFileToLocalDir(imagePath, imageName, this.createFileName());\n\n                // resolve URI, get blob & file and POST\n                this.file.resolveLocalFilesystemUrl(imageURI)\n                .then(entry => {\n                    console.log(\"inside resolve local file system url\");\n                    (<FileEntry>entry).file(file => this.readFile(file))\n                 })\n                .catch(err => {\n                  console.log(\"error reading file\")\n                })\n              }, (err) => {\n                // Handle error\n                 console.log(err);\n           });\n        }\n      }\n    ]\n   });\n\n      await alert.present();\n\n}\n\n  /*createFileName() {\n  var d = new Date(),\n      n = d.getTime(),\n      newFileName = n + \".jpg\";\n  return newFileName;\n    }\n\n    copyFileToLocalDir(namePath, currentName, newFileName) {\n      this.file.copyFile(namePath, currentName, this.file.dataDirectory, newFileName).then(success => {\n          this.updateStoredImages(newFileName);\n      }, error => {\n          console.log('Error while storing file.');\n      });\n  }\n\n  updateStoredImages(name) {\n    this.storage.get(STORAGE_KEY).then(images => {\n        let arr = JSON.parse(images);\n        if (!arr) {\n            let newImages = [name];\n            this.storage.set(STORAGE_KEY, JSON.stringify(newImages));\n        } else {\n            arr.push(name);\n            this.storage.set(STORAGE_KEY, JSON.stringify(arr));\n        }\n \n        let filePath = this.file.dataDirectory + name;\n        let resPath = this.pathForImage(filePath);\n \n        let newEntry = {\n            name: name,\n            path: resPath,\n            filePath: filePath\n        };\n \n        this.images = [newEntry, ...this.images];\n       \n        this.ref.detectChanges(); // trigger change detection cycle\n    });\n}\n\npathForImage(img) {\n  if (img === null) {\n    return '';\n  } else {\n    let converted = this.webview.convertFileSrc(img);\n    return converted;\n  }\n}*/\n\n    readFile(file: any) {\n\n      const reader = new FileReader();\n      console.log(\"file type\", file.type);\n      console.log(\"file type\", file.name);\n      reader.onloadend = () => {\n        this.uploadData = new FormData();\n        if (reader.result) {\n          const imgBlob = new Blob([reader.result], {type: file.type});\n          this.uploadData.append('imageFile', imgBlob, file.name);\n        }\n      };\n      reader.readAsArrayBuffer(file);\n    }\n\n\n  closeModal() {\n    console.log(\"inside close modal\");\n    this._modalController.dismiss();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ArbookPage } from './arbook.page';\nimport { MultiFileUploadComponent} from '../components/multi-file-upload/multi-file-upload.component'\nimport { MultiFileContentUploadComponent} from '../components/multi-file-content-upload/multi-file-content-upload.component'\nimport { FileUploadModule } from 'ng2-file-upload';\nimport { IonicImageLoaderModule } from 'ionic-image-loader-v5';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    FileUploadModule,\n    IonicImageLoaderModule\n  ],\n  entryComponents:[ArbookPage],\n  declarations: [ArbookPage, MultiFileUploadComponent, MultiFileContentUploadComponent]\n})\nexport class ArbookPageModule {}\n\n","module.exports = \"<ion-header color=\\\"success\\\" [translucent]=\\\"true\\\" collapse=\\\"condense\\\">\\n  <ion-toolbar>\\n\\n   <!--<ion-title size=\\\"large\\\" \\n               style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n               color: #FDFEFE  ; font-weight: bolder; font-size: 15px;\\\">\\n    {{bookName}}\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"close()\\\">\\n        <ion-icon style=\\\"color: white; background: #145A32; \\\" name=\\\"close\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>-->\\n\\n  \\n    <ion-title size=\\\"large\\\" text-center\\n      style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n      color: #FDFEFE  ; font-weight: bolder; font-size: 15px; text-align: start;\\\">\\n     {{bookName}}\\n    </ion-title>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n    <ion-icon style=\\\"color: whitesmoke;\\\" src=\\\"../assets/icon/close-outline.svg\\\" size=\\\"medium\\\" (click)=\\\"close()\\\"></ion-icon>\\n    </ion-buttons>\\n \\n  </ion-toolbar>\\n\\n\\n</ion-header> \\n\\n<ion-content>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshBookList($event)\\\">\\n    <ion-refresher-content pullingText=\\\"pull for update\\\" refreshingText= \\\"...updating\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n\\n  \\n<!--<ion-list>\\n  <ion-item>\\n    <ion-button fill=\\\"clear\\\" style=\\\"color: #7B7D7D\\\" (click)=\\\"selectImageSource()\\\">Capture Markers\\n      <span style=\\\"margin-right: 20px; \\\" class=\\\"ion-text-center\\\"></span>\\n      <ion-icon src=\\\"../assets/icon/camera-outline.svg\\\">\\n      </ion-icon>\\n    </ion-button>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label *ngIf=\\\"markerImagesLength\\\">No. of markers captured - {{markerImagesLength}}</ion-label>\\n  </ion-item>\\n  <ion-item>\\n    <ion-thumbnail *ngFor=\\\"let image of markerImages\\\">\\n      <ion-img src={{image}} *ngIf=\\\"markerImages\\\" height=\\\"50\\\"></ion-img>\\n  </ion-thumbnail>\\n  </ion-item>\\n    <ion-button fill=\\\"clear\\\" style=\\\"color: #7B7D7D\\\" name=\\\"create-markers\\\" (click)=\\\"createMarkers()\\\">Upload All Markers\\n      <span style=\\\"margin-right: 10px; \\\" class=\\\"ion-text-center\\\"></span>\\n      <ion-icon name=\\\"cloud-upload\\\">\\n      </ion-icon>\\n    </ion-button>\\n    <ion-item>\\n      <ion-thumbnail *ngFor=\\\"let url of urls \\\">\\n        <ion-img src={{url}} height=\\\"50\\\"></ion-img>\\n      </ion-thumbnail>\\n    </ion-item>\\n</ion-list>-->\\n    <!--<ion-button shape=\\\"round\\\" margin-top expand=\\\"block\\\">\\n          <ion-icon style=\\\"color: #145A32;\\\" src=\\\"../assets/icon/add-circle.svg\\\"></ion-icon>\\n          <span style=\\\"color:  #17202A; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">Upload Markers for  </span>\\n    </ion-button>\\n    <ion-thumbnail>\\n        <ion-img [src]=\\\"capturedImage\\\" *ngIf=\\\"capturedImage\\\" height=\\\"100\\\"></ion-img>\\n    </ion-thumbnail>-->\\n \\n  \\n  \\n    \\n  <ion-button *ngIf=\\\"!showComonentFlag && !showContentAddComponentFlag\\\" shape=\\\"round\\\" (click)=\\\"anchorContentComponent()\\\" margin-top expand=\\\"block\\\">\\n      <ion-icon style=\\\"color: #145A32;\\\" src=\\\"../assets/icon/add-circle.svg\\\"></ion-icon>\\n      <span style=\\\"color:  #17202A; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">New Anchor and Content</span>\\n  </ion-button>\\n\\n  <ion-list-header *ngIf=\\\"(!showComonentFlag && !showContentAddComponentFlag) && plistCopy\\\">\\n    <ion-item>\\n      <ion-label style=\\\"color: #17202A \\\"> Existing anchors & content </ion-label>\\n    </ion-item>\\n  </ion-list-header>\\n\\n\\n  <ion-list *ngIf=\\\"!showComonentFlag && !showContentAddComponentFlag\\\">\\n    <ion-card *ngFor=\\\"let mapAnchorContentEntry of mapAnchorContentMapArray\\\" style=\\\"box-shadow:darkolivegreen;\\\">\\n      <ion-card-header>\\n        <ion-card-title style=\\\"font-size: small;\\\">\\n        Anchor\\n        </ion-card-title>\\n\\n        <ion-item>\\n          \\n            <ion-thumbnail class=\\\"anchor-display\\\">\\n              <img-loader [src]=\\\"(mapAnchorContentEntry[1][0].get(mapAnchorContentEntry[0]))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n            </ion-thumbnail> \\n         \\n            <ion-chip (click)=\\\"addContentToCurrentAnchor(mapAnchorContentEntry[0],mapAnchorContentEntry[1][0].get(mapAnchorContentEntry[0]))\\\" \\n            shape=\\\"round\\\" class=\\\"ion-text-left\\\" style=\\\"margin-left: 5px;\\\" button>\\n              <ion-icon style=\\\"color: #145A32;\\\" src=\\\"../assets/icon/document-attach.svg\\\"></ion-icon>\\n              <span style=\\\"color:  #17202A; margin-left: 2px; font-size: small;\\\" class=\\\"ion-text-left\\\">New Content</span>\\n            </ion-chip>\\n         \\n        </ion-item>\\n      </ion-card-header>\\n      <ion-card-title style=\\\"font-size: small; margin-left: 15px;\\\">\\n        Existing content\\n      </ion-card-title>\\n      <ion-card-content >\\n         <ion-item-sliding *ngFor=\\\"let mapEntries of mapAnchorContentMapArrayValues\\\">\\n            <ion-slides [options]=\\\"sliderConfig\\\">\\n              <ion-slide *ngFor=\\\"let mapEntry of mapEntries\\\" >\\n                <ion-thumbnail *ngIf=\\\"mapEntry[0].includes(mapAnchorContentEntry[0])\\\" class=\\\"anchorcontnet-display\\\">\\n                  <img-loader [src]=\\\"mapEntry[1]\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n                </ion-thumbnail>\\n              </ion-slide>\\n            </ion-slides>\\n          </ion-item-sliding>\\n       </ion-card-content>\\n  </ion-card>\\n </ion-list>\\n\\n \\n\\n  <!--call multi-file-upload component to select anchor/marker and images-->\\n  <app-multi-file-upload *ngIf=\\\"showComonentFlag && !showContentAddComponentFlag\\\"></app-multi-file-upload>\\n  <!--call multi-file-content-upload component to add content-->\\n  <app-multi-file-content-upload *ngIf=\\\"showContentAddComponentFlag && !showComonentFlag\\\"></app-multi-file-content-upload>\\n\\n  <ion-button *ngIf=\\\"showComonentFlag && !showContentAddComponentFlag\\\" (click)=\\\"upload()\\\" shape=\\\"round\\\" style=\\\"color: black\\\" \\n     margin-top expand=\\\"full\\\">Upload Anchor & Content</ion-button>\\n\\n  <ion-button *ngIf=\\\"!showComonentFlag && showContentAddComponentFlag\\\" (click)=\\\"uploadContent()\\\" shape=\\\"round\\\" style=\\\"color: black\\\" \\n     margin-top expand=\\\"full\\\">Upload Content</ion-button>\\n\\n  <!--<ion-col *ngIf=\\\"showComonentFlag || showContentAddComponentFlag\\\">\\n    <ion-button (click)=\\\"closeModal()\\\" shape=\\\"round\\\" style=\\\"color: grey\\\" \\n     margin-top expand=\\\"full\\\">Cancel</ion-button>\\n  </ion-col>-->\\n\\n</ion-content>\\n\"","module.exports = \".book-img {\\n  width: 50px;\\n  height: 50px;\\n  border: gray solid 1px;\\n  margin: 5px auto; }\\n\\n.displaycard {\\n  margin: 5px;\\n  padding: 5px; }\\n\\n.anchor-display {\\n  padding-left: 5px;\\n  padding-bottom: 10px;\\n  padding-top: 5px; }\\n\\n.anchorcontnet-display {\\n  padding-left: 2px;\\n  padding-bottom: 5px;\\n  padding-top: 5px;\\n  padding-right: 2px; }\\n\\nion-list-header {\\n  padding-left: 0px;\\n  display: block;\\n  text-align: center; }\\n\\nion-chip {\\n  --background:   #E9F7EF; }\\n\\nion-button {\\n  --background: #E9F7EF ; }\\n\\nion-card-subtitle {\\n  text-align: center;\\n  font-weight: bold; }\\n\\nion-toolbar {\\n  --background: #145A32; }\\n\\n.image-container {\\n  min-height: 200px;\\n  background-size: cover; }\\n\\n@media (min-width: 0px) {\\n  .images {\\n    -webkit-column-count: 2;\\n       -moz-column-count: 2;\\n            column-count: 2; } }\\n\\n@media (min-width: 420px) {\\n  .images {\\n    -webkit-column-count: 3;\\n       -moz-column-count: 3;\\n            column-count: 3; } }\\n\\n@media (min-width: 720px) {\\n  .images {\\n    -webkit-column-count: 4;\\n       -moz-column-count: 4;\\n            column-count: 4; } }\\n\\n.one-image {\\n  margin: 2px; }\\n\\n.drop-zone {\\n  background-color: #f6f6f6;\\n  border: dotted 3px #dedddd;\\n  height: 30vh;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 20px 0; }\\n\\n.file-input-container {\\n  text-align: right; }\\n\\n.file-input-container input[type=\\\"file\\\"] {\\n    display: none; }\\n\\n.file-input-container label {\\n    border: 1px solid #ccc;\\n    padding: 6px 12px;\\n    cursor: pointer; }\\n\\n.nv-file-over {\\n  border: dotted 3px red; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC9hcmJvb2svYXJib29rLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLGdCQUFnQixFQUFBOztBQUdwQjtFQUlLLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBSWpCO0VBSUksaUJBQWlCO0VBQ2pCLG9CQUFvQjtFQUNwQixnQkFBZSxFQUFBOztBQUluQjtFQUdFLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsZ0JBQWU7RUFDZixrQkFBa0IsRUFBQTs7QUFJcEI7RUFFRSxpQkFBZ0I7RUFDaEIsY0FBYTtFQUNiLGtCQUFrQixFQUFBOztBQUlwQjtFQUNFLHVCQUFhLEVBQUE7O0FBR2Y7RUFDRSxzQkFBYSxFQUFBOztBQU1mO0VBQ0ksa0JBQWtCO0VBQ2xCLGlCQUFpQixFQUFBOztBQUduQjtFQUVFLHFCQUFhLEVBQUE7O0FBR2pCO0VBQ0ksaUJBQWlCO0VBQ2pCLHNCQUFzQixFQUFBOztBQUd4QjtFQUNFO0lBQ0UsdUJBQWU7T0FBZixvQkFBZTtZQUFmLGVBQWUsRUFBQSxFQUNoQjs7QUFHSDtFQUNFO0lBQ0UsdUJBQWU7T0FBZixvQkFBZTtZQUFmLGVBQWUsRUFBQSxFQUNoQjs7QUFHSDtFQUNFO0lBQ0UsdUJBQWU7T0FBZixvQkFBZTtZQUFmLGVBQWUsRUFBQSxFQUNoQjs7QUFHSDtFQUNFLFdBQVcsRUFBQTs7QUFHYjtFQUNFLHlCQUF5QjtFQUN6QiwwQkFBMEI7RUFDMUIsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGNBQWMsRUFBQTs7QUFHbEI7RUFFRSxpQkFBaUIsRUFBQTs7QUFGbkI7SUFLTSxhQUFhLEVBQUE7O0FBTG5CO0lBU00sc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixlQUFlLEVBQUE7O0FBSXJCO0VBQ0Usc0JBQXNCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9hcmJvb2svYXJib29rLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib29rLWltZyB7XG4gICAgd2lkdGg6IDUwcHg7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIGJvcmRlcjogZ3JheSBzb2xpZCAxcHg7XG4gICAgbWFyZ2luOiA1cHggYXV0bztcbn1cblxuLmRpc3BsYXljYXJkIHtcbiAgICAgLy93aWR0aDogMzB2dztcbiAgICAvLyBoZWlnaHQ6MzB2aDtcbiAgICAvLyBib3JkZXI6IGdyZXkgc29saWQgMXB4O1xuICAgICBtYXJnaW46IDVweDtcbiAgICAgcGFkZGluZzogNXB4O1xuICAgICAvL2JhY2tncm91bmQtY29sb3I6IHdoaXRlc21va2U7XG4gICB9XG5cbi5hbmNob3ItZGlzcGxheSB7XG5cbiAgICAvL21hcmdpbjowIGF1dG87IC0gZm9yIGNlbnRlcmluZyB0aGUgaW1hZ2VcbiAgICBcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICBwYWRkaW5nLXRvcDo1cHg7IFxuICAgIFxufVxuXG4uYW5jaG9yY29udG5ldC1kaXNwbGF5IHtcblxuICAvL21hcmdpbjogMTBweDtcbiAgcGFkZGluZy1sZWZ0OiAycHg7XG4gIHBhZGRpbmctYm90dG9tOiA1cHg7XG4gIHBhZGRpbmctdG9wOjVweDtcbiAgcGFkZGluZy1yaWdodDogMnB4O1xuICBcbn1cblxuaW9uLWxpc3QtaGVhZGVyIHtcblxuICBwYWRkaW5nLWxlZnQ6MHB4O1xuICBkaXNwbGF5OmJsb2NrO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbn1cblxuaW9uLWNoaXAge1xuICAtLWJhY2tncm91bmQ6ICAgI0U5RjdFRjtcbn1cblxuaW9uLWJ1dHRvbiB7XG4gIC0tYmFja2dyb3VuZDogI0U5RjdFRiA7XG4gIFxufVxuXG5cblxuaW9uLWNhcmQtc3VidGl0bGUge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuXG4gIGlvbi10b29sYmFyIHtcbiAgICAvLy0tYmFja2dyb3VuZDogIzFCNEY3MjtcbiAgICAtLWJhY2tncm91bmQ6ICMxNDVBMzI7XG59XG5cbi5pbWFnZS1jb250YWluZXIge1xuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIH1cbiAgXG4gIEBtZWRpYSAobWluLXdpZHRoOiAwcHgpIHtcbiAgICAuaW1hZ2VzIHtcbiAgICAgIGNvbHVtbi1jb3VudDogMjtcbiAgICB9XG4gIH1cbiAgXG4gIEBtZWRpYSAobWluLXdpZHRoOiA0MjBweCkge1xuICAgIC5pbWFnZXMge1xuICAgICAgY29sdW1uLWNvdW50OiAzO1xuICAgIH1cbiAgfVxuICBcbiAgQG1lZGlhIChtaW4td2lkdGg6IDcyMHB4KSB7XG4gICAgLmltYWdlcyB7XG4gICAgICBjb2x1bW4tY291bnQ6IDQ7XG4gICAgfVxuICB9XG4gIFxuICAub25lLWltYWdlIHtcbiAgICBtYXJnaW46IDJweDtcbiAgfVxuXG4gIC5kcm9wLXpvbmUgeyBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2O1xuICAgIGJvcmRlcjogZG90dGVkIDNweCAjZGVkZGRkOyBcbiAgICBoZWlnaHQ6IDMwdmg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1hcmdpbjogMjBweCAwO1xufVxuXG4uZmlsZS1pbnB1dC1jb250YWluZXIge1xuXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuXG4gIGlucHV0W3R5cGU9XCJmaWxlXCJdIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICBsYWJlbCB7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgICAgcGFkZGluZzogNnB4IDEycHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbn1cblxuLm52LWZpbGUtb3ZlciB7IFxuICBib3JkZXI6IGRvdHRlZCAzcHggcmVkOyBcbn0iXX0= */\"","import { Component, OnInit, SystemJsNgModuleLoader, ViewChild, ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { BooksService } from '../services/books.service';\nimport { Book } from '../shared/book';\nimport { AlertController } from '@ionic/angular';\nimport { CameraOptions, Camera } from \"@ionic-native/camera/ngx\";\nimport { File, FileEntry} from '@ionic-native/file/ngx';\nimport { ImagePicker } from '@ionic-native/image-picker/ngx';\nimport { FileTransfer, FileUploadOptions} from '@ionic-native/file-transfer/ngx'\nimport { baseURL} from '../shared/baseurl';\nimport { DomSanitizer, SafeResourceUrl, SafeUrl} from '@angular/platform-browser';\n\nimport { MultiFileUploadComponent} from '../components/multi-file-upload/multi-file-upload.component'\nimport { MultiFileContentUploadComponent} from '../components/multi-file-content-upload/multi-file-content-upload.component'\nimport { ImageLoaderService } from 'ionic-image-loader-v5';\nimport { ToastController } from '@ionic/angular';\n\n\n\n@Component({\n  selector: 'app-arbook',\n  templateUrl: './arbook.page.html',\n  styleUrls: ['./arbook.page.scss'],\n})\nexport class ArbookPage implements OnInit {\n\n  sliderConfig = {\n    slidesPerView: 4,\n    coverflowEffect: {\n    rotate: 30,\n    stretch: 0,\n    depth: 100,\n    modifier: 1,\n    autoplay: true\n    //slideShadows: true,\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n\n      swiper.classNames.push(`${swiper.params.containerModifierClass}coverflow`);\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    setTranslate() {\n      const swiper = this;\n      const {\n        width: swiperWidth, height: swiperHeight, slides, $wrapperEl, slidesSizesGrid, $\n      } = swiper;\n      const params = swiper.params.coverflowEffect;\n      const isHorizontal = swiper.isHorizontal();\n      const transform$$1 = swiper.translate;\n      const center = isHorizontal ? -transform$$1 + (swiperWidth / 2) : -transform$$1 + (swiperHeight / 2);\n      const rotate = isHorizontal ? params.rotate : -params.rotate;\n      const translate = params.depth;\n      // Each slide offset from center\n      for (let i = 0, length = slides.length; i < length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideSize = slidesSizesGrid[i];\n        const slideOffset = $slideEl[0].swiperSlideOffset;\n        const offsetMultiplier = ((center - slideOffset - (slideSize / 2)) / slideSize) * params.modifier;\n\n         let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n        let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier;\n        // var rotateZ = 0\n        let translateZ = -translate * Math.abs(offsetMultiplier);\n\n         let translateY = isHorizontal ? 0 : params.stretch * (offsetMultiplier);\n        let translateX = isHorizontal ? params.stretch * (offsetMultiplier) : 0;\n\n         // Fix for ultra small values\n        if (Math.abs(translateX) < 0.001) translateX = 0;\n        if (Math.abs(translateY) < 0.001) translateY = 0;\n        if (Math.abs(translateZ) < 0.001) translateZ = 0;\n        if (Math.abs(rotateY) < 0.001) rotateY = 0;\n        if (Math.abs(rotateX) < 0.001) rotateX = 0;\n\n         const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n\n         $slideEl.transform(slideTransform);\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n        if (params.slideShadows) {\n          // Set shadows\n          let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n          if ($shadowBeforeEl.length === 0) {\n            $shadowBeforeEl = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n            $slideEl.append($shadowBeforeEl);\n          }\n          if ($shadowAfterEl.length === 0) {\n            $shadowAfterEl = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n            $slideEl.append($shadowAfterEl);\n          }\n          if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n          if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;\n        }\n      }\n\n       // Set correct perspective for IE10\n      if (swiper.support.pointerEvents || swiper.support.prefixedPointerEvents) {\n        const ws = $wrapperEl[0].style;\n        ws.perspectiveOrigin = `${center}px 50%`;\n      }\n    },\n    setTransition(duration) {\n      const swiper = this;\n      swiper.slides\n        .transition(duration)\n        .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n        .transition(duration);\n    }\n  }\n  }\n\n  bookId; // from tab3 as part of component props\n  bookName; //from tab3 as part of component props\n \n  @ViewChild(MultiFileUploadComponent) fileField: MultiFileUploadComponent;\n  @ViewChild(MultiFileContentUploadComponent) fileContentField: MultiFileContentUploadComponent;\n\n\n  bookCopy: Book;\n  errMess: string;\n  public selectedFile;\n  public uploadData = new FormData();\n  public dataReader = new FileReader();\n  public event1;\n  imgURL: any;\n  \n  receivedImageData: any;\n  capturedImage: any;\n  capturedImages: any[];\n  base64Data: any;\n  markerImages: any;\n  markerImagesLength: number;\n  uploadStatus: string = \"\";\n  counter: number;\n  url: SafeResourceUrl[];\n  files: File[] = [];\n  anchorFiles: File[] = [];\n  anchorContentFiles: File[] = [];\n  //anchorContentPlist: { [index: string]: [string] } = {};\n  text: string;\n  //decoder = new TextDecoder();\n  updateFlag: boolean = false;\n  showComonentFlag: boolean = false;\n  showContentAddComponentFlag: boolean = false;\n  pageRefreshFlag: boolean = false;\n  plistCopy: any;\n  imgURLs: any[];\n  imgAnchorURLsMap = new Map();\n  imgContentURLsMap = new Map();\n  imgAnchorContentURLsMap = new Map();\n  \n  \n  public bookAnchorContentURLsArray: any[] = [];\n  anchorURL: string = \"\";  // anchor0 url\n  contentMap: Map<string, string> = new Map(); // anchor0content1, anchor0content1 url\n  mapAnchorContentMap = new Map();\n  mapAnchorContentMapArray: any[]= [];\n  mapAnchorContentMapArrayValues: any[] = [];\n  addtlContents: any[] = [];\n  \n  selectedAnchorName: string = \"\";\n  //nextContentValue: string = '';\n\n  \n\n  constructor(private _modalController: ModalController,\n              private booksService: BooksService,\n              private _camera: Camera,\n              private file: File,\n              private _alertController: AlertController,\n              private imagePicker: ImagePicker,\n              public transfer: FileTransfer,\n              private imageLoaderService: ImageLoaderService,\n              public toastController: ToastController) { }\n\n  ngOnInit() {\n\n    this.booksService.getBook(this.bookId)\n      .subscribe(book => {\n          this.bookCopy = book;\n          console.log(\"Book Copy in AR Book\", this.bookCopy);\n      }, errmess => this.errMess = <any>errmess);\n\n    this.displayAnchorContentData();\n    \n  }\n\n  displayAnchorContentData() {\n\n    this.booksService.getBookARContent(this.bookId)\n    .subscribe( x => {\n       this.imgURLs = x;    \n       this.booksService.getBookPlistXml(this.bookId)\n       .subscribe(plist => {\n          \n          if (plist && this.imgURLs) {\n            this.plistCopy = plist;\n            console.log(\"imgURLs\", this.imgURLs);\n            console.log(\"plist copy\", this.plistCopy);\n\n            /*\n            start reading the plist copy. get the values of all the key elements\n            follow the order of the files and assign urls to keys in that orders\n            */\n            var domParser = new DOMParser();\n            var xmlDocument = domParser.parseFromString(this.plistCopy.toString(), 'text/xml');\n            console.log(\"xmlDocument from s3\", xmlDocument);\n            \n            let keys: any[] = [];\n            let values: any[] = [];\n            let keyvalues: any = [];\n            let mainKeys: any[] = [];\n            let mapArray: any[] = [new Map()];\n            let keyElLength = xmlDocument.getElementsByTagName('key').length;\n            let valElLength = xmlDocument.getElementsByTagName('value').length;\n\n            for (let i=0; i < keyElLength; i++) {\n              keys[i] = xmlDocument.getElementsByTagName('key')[i].childNodes[0].nodeValue;\n            }\n            for (let i=0; i < valElLength; i++) {\n              values[i] = xmlDocument.getElementsByTagName('value')[i].childNodes[0].nodeValue;\n            }\n\n            for (let i=0; i< keyElLength; i++) {\n\n              keys[i] = xmlDocument.getElementsByTagName('key')[i].childNodes[0].nodeValue;\n              keyvalues.push(keys[i]);\n              for (let j=0; j < valElLength; j++) {\n                if (values[j].includes(keys[i])) {\n                  keyvalues.push(values[j]);\n                }\n              }\n          \n            }\n            let bookAnchorContentURLsMap = new Map();\n            for (let i=0; i< keyvalues.length && i < this.imgURLs.length; i++) {\n              bookAnchorContentURLsMap.set(keyvalues[i], this.imgURLs[i]);\n            }\n           \n            for (let entry of Array.from(bookAnchorContentURLsMap.entries())) {\n\n              if (entry[0].indexOf(\"content\") === -1) {\n                mainKeys.push(entry[0])\n              }\n            }\n            console.log(\"Main Keys\", mainKeys);\n            for (let i=0; i<mainKeys.length;i++) {  \n              var entry1; \n              let newContentMap = new Map();\n              let newAnchorMap = new Map();\n              for (let entry of Array.from(bookAnchorContentURLsMap.entries())) {\n                  if (entry[0].includes(mainKeys[i]) && entry[1].includes(mainKeys[i]) \n                  && entry[0].includes('content')) {\n                        newContentMap.set(entry[0], entry[1]);  \n                  } \n                  if ((entry[0].includes(mainKeys[i]) && entry[1].includes(mainKeys[i]) \n                  && entry[0].indexOf('content') === -1) ) {\n                        newAnchorMap.set(entry[0], entry[1])\n                  }\n              }\n              console.log(\"new content map\", newContentMap);\n              console.log(\"new anchor map\", newAnchorMap);\n              this.mapAnchorContentMap.set(mainKeys[i], [newAnchorMap, newContentMap]);\n            }\n            \n          console.log(\"mapAnchorContentMap\", this.mapAnchorContentMap)\n          this.mapAnchorContentMapArray = Array.from(this.mapAnchorContentMap.entries());\n          console.log(\"mapAnchorContentMapArray\", this.mapAnchorContentMapArray)\n\n          for (let mapAnchorContentEntry of this.mapAnchorContentMapArray) {\n            console.log(\"mapanchor content entry\", mapAnchorContentEntry[0])\n            console.log(mapAnchorContentEntry[1][1].values());\n            this.mapAnchorContentMapArrayValues.push(Array.from(mapAnchorContentEntry[1][1].entries()));\n          }\n          console.log(\"mapAnchorContentMapArrayValues\", this.mapAnchorContentMapArrayValues);\n          }\n          else {\n              console.log(\"plist is empty\");\n              return;\n          }\n     }), errMess => console.log(errMess);\n\n\n    }, errmess => this.errMess = <any>errmess);\n    \n  }\n\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 3000,\n      position: 'middle'\n    });\n    toast.present();\n  }\n\n  onImageLoad(event) {\n    console.log(\"image ready\");\n  }\n \n  anchorContentComponent() {\n    console.log(\"inside anchor and Content Component\")\n    this.showComonentFlag = true\n  }\n\n  addContentToCurrentAnchor(anchorName, anchorURL) {\n\n    console.log(\"AnchorName\", anchorName);\n    console.log(\"AnchorURL\", anchorURL);\n\n    this.selectedAnchorName = anchorName;\n    \n    /*\n          1. select the anchor and get the corresponding anchorName, anchorURL - done\n          2. using the bookId get the Book plist - done\n          3. check if this plist contains selected anchorName - done\n          4. If yes, \n              find out the last anchorNameContentX belonging to this entry in the plist - done\n              present option to the user to add new content - done\n              add that contnet in the xml as anchorNamecontentX+1 to corresponding anchorName - done\n              upload updated xml and anchorNamecontentX+1 to s3 - done\n            \n    */\n    \n    \n    this.booksService.getBookPlistXml(this.bookId)\n    .subscribe(plist => {\n        this.plistCopy = plist;\n        console.log(\"plist copy\", this.plistCopy );\n        var domParser = new DOMParser();\n        var xmlDocument = domParser.parseFromString(this.plistCopy.toString(), 'text/xml');\n        console.log(\"xmlDocument from s3\", xmlDocument);\n\n        let keyElLength = xmlDocument.getElementsByTagName('key').length;\n        console.log(\"keyElLength\", keyElLength);\n        let valElLength = xmlDocument.getElementsByTagName('value').length;\n        console.log(\"valElLength\", valElLength);\n        \n        for (let i=0; i<keyElLength;i++) {\n          let anchorKey = xmlDocument.getElementsByTagName('key')[i].childNodes[0].nodeValue;\n         \n          if (anchorKey === anchorName) {\n            this.showContentAddComponentFlag = true;\n            this.showComonentFlag = false;\n          }\n        }\n      }), errMess => console.log(errMess);\n    \n  }\n\n  uploadContent() {\n\n    console.log(\"this.selected anchor name\", this.selectedAnchorName);\n    \n    this.addtlContents = this.fileContentField.getContentFiles();\n    console.log(\"Additional Contents\", this.addtlContents);\n\n    \n\n   this.booksService.getBookPlistXml(this.bookId)\n    .subscribe(plist => {\n        this.plistCopy = plist;\n        console.log(\"plist copy\", this.plistCopy );\n\n        var domParser = new DOMParser();\n        var xmlDocument = domParser.parseFromString(this.plistCopy.toString(), 'text/xml');\n        console.log(\"xmlDocument from s3\", xmlDocument);\n\n        let keyElLength = xmlDocument.getElementsByTagName('key').length;\n        console.log(\"keyElLength\", keyElLength);\n        let valElLength = xmlDocument.getElementsByTagName('value').length;\n        console.log(\"valElLength\", valElLength);\n        let existingContentValues = [];\n        for (let i=0; i<keyElLength;i++) {\n          let anchorKey = xmlDocument.getElementsByTagName('key')[i].childNodes[0].nodeValue;\n          //console.log(\"anchorkey\", anchorKey);\n          if (anchorKey === this.selectedAnchorName) {\n            //console.log(\"Success\", anchorKey);\n            //console.log(\"Success\", anchorName);\n            for (let j=0;j<valElLength;j++) {\n              let value = xmlDocument.getElementsByTagName('value')[j].childNodes[0].nodeValue;\n              if (value.includes(this.selectedAnchorName)) {\n                existingContentValues.push(value);\n              }\n            } \n          }\n        }\n\n        let plistMap = new Map<string, string[]>();\n        plistMap.set(this.selectedAnchorName, []);  \n        console.log(\"selected anchor name\", this.selectedAnchorName);\n        for (let j=0; j < this.addtlContents.length;j++) {\n          let index = this.addtlContents[j].rawFile.type.indexOf(\"/\");\n          let contenttype = this.addtlContents[j].rawFile.type.substring(0,index);\n          let nextContentName = this.selectedAnchorName+'content'+(existingContentValues.length+j+1)+contenttype;\n          plistMap.get(this.selectedAnchorName).push(nextContentName);\n        }\n        console.log(\"plistMap\", plistMap);\n\n        /*\n              for (let i=0; i<this.addtlContents.length;i++) {\n              console.log(\"Additional content name\", this.addtlContents[i].rawFile.name);\n              let type = this.addtlContents[i].rawFile.type\n              let index = type.indexOf(\"/\");\n              let contenttype = type.substring(0,index);\n              console.log(\"Additional content type\", contenttype);\n            }\n\n        */\n\n       \n        //append content files\n        for (let i=0; i< this.addtlContents.length; i++) {\n          let index = this.addtlContents[i].rawFile.type.indexOf(\"/\");\n          let contenttype = this.addtlContents[i].rawFile.type.substring(0,index);\n          let nextContentName = this.selectedAnchorName+'content'+((existingContentValues.length+i+1))+contenttype;\n          this.uploadData.append('imageFile', this.addtlContents[i].rawFile,nextContentName);\n         \n        }\n\n        // append entries to right key element in the xml document\n        let root = xmlDocument.getElementsByTagName('plist')[0];\n        console.log(\"root \", root);\n\n        let keys = xmlDocument.getElementsByTagName('key');\n        console.log(\"keys\", keys)\n\n        for (let i=0; i<keys.length; i++) {\n\n          let nodevalue = keys[i].childNodes[0].nodeValue\n          console.log(\"nodevalue\", nodevalue);\n\n          for (let entry of Array.from(plistMap.entries())) {\n              if (entry[0] === nodevalue) {\n                console.log(\"SUCCESS\", entry[0], nodevalue);\n                console.log(\"keys[i]\", keys[i]);\n                for (let j=0;j<entry[1].length;j++) {\n                  let valEL = xmlDocument.createElement('value');\n                  valEL.textContent = entry[1][j];\n                  keys[i].appendChild(valEL);\n                }\n              }\n          }\n        }\n\n        // serialize \n        console.log(\"XML document before serializing\", xmlDocument);\n        let serializer = new XMLSerializer();\n        let xmlSerializedDoc = serializer.serializeToString(xmlDocument);\n        console.log(\"xml serailizd doc\", xmlSerializedDoc);\n\n        // append xml blob\n        var blob = new Blob([xmlSerializedDoc], {type: \"text/xml\"})\n        this.uploadData.append('xmlFile', blob, this.bookId+'plist');\n\n      // update book ar flag & then upload the data\n        this.updateFlag = true;\n        this.bookCopy.bookarenabled = true;\n        this.booksService.updateBookARFlag(this.bookId, this.bookCopy)\n        .subscribe(res => {\n            console.log(res); \n          // upload data\n          this.booksService.uploadAnchorContentAndPlist(this.bookId, this.uploadData, this.updateFlag, this.bookCopy)\n          .subscribe(res => {\n            console.log(res);\n           \n            this.presentToast(\"Content Data Augmented Successfully!\");\n            this._modalController.dismiss()\n            //this.closeModal();\n            \n          });    \n        });\n        \n      \n      }), errMess => console.log(errMess);\n    \n  \n  }\n\n  \n\n  upload() {\n\n    /*\n    1. check if there is plist xml existing for bookId. - DONE\n    2. If no, - DONE\n          create plist xml with new anchor, anchor's page nr and content \n          upload content, xml to s3 bucket.\n    3. If yes, - DONE\n        Display the list of anchors and correspoding contents as thumbnails so that user knows which are anchors\n        and which are content\n        Ask user if s/he wants to add new content to an existing anchor OR to new anchor \n        \n      3.1 - DONE\n        if (to an existing anchor) {\n          select the anchor\n          retrive the anchor URL, get the bookId \n          extract the anchorName from the url\n          using the bookId get the Book plist and see if anchorName exists in the plist xml\n          when the plist xml has the anchorname {\n            find out the last anchorNamecontentX in the list\n            present option to the user to add new content\n            add that contnet in the xml as anchorNamecontentX+1\n            upload updated xml and anchorNamecontentX+1 to s3\n          }\n        }\n      3.2 - DONE\n        if (to new anchor) {\n          add new anchor and new content, append it to plist xml \n          upload anchor, content, xml to s3 \n        }\n\n  */\n  this.booksService.getBookPlistXml(this.bookId)\n  .subscribe(plist => {\n      console.log(\"link to book plist found\");\n      console.log(\"plist\", plist);\n      if (plist) {\n       this.plistCopy = plist;\n       this.updateFlag = true;\n       this.prepareAnchorAndContentsDataAndUpload(this.updateFlag);\n      }\n      else {\n        this.updateFlag = false;\n        console.log(\"plist is empty\");\n        this.prepareAnchorAndContentsDataAndUpload(this.updateFlag);\n      }\n     }), errMess => console.log(errMess);\n\n  }\n\n  prepareAnchorAndContentsDataAndUpload(flag: boolean) {\n\n    let anchor = this.fileField.getAnchorFiles();\n    console.log(\"Anchor from filefield\", anchor);\n    let contents = this.fileField.getAnchorContentFiles();\n    console.log(\"CONTENTS, CONTENT\", contents)\n    let arPageValue = this.fileField.addAnchorPageNrGroup.value\n    let anchorPageNr = arPageValue['anchorpagenr'];\n    \n    console.log(\"Page Number\", anchorPageNr)\n    // update existing xml plist with page number of the new anchor, anchor and content data\n    \n    if (flag) {\n\n      var domParser = new DOMParser();\n      var xmlDocument = domParser.parseFromString(this.plistCopy.toString(), 'text/xml');\n      console.log(\"xmlDocument from s3\", xmlDocument);\n\n      let keyElLength = xmlDocument.getElementsByTagName('key').length;\n      console.log(\"keyElLength\", keyElLength);\n      //let prevAnchorName =  xmlDocument.getElementsByTagName('key')[keyElLength-1].childNodes[0].nodeValue;\n     \n      \n      let anchorName = 'anchor' + keyElLength;\n      let plistMap = new Map<string, string[]>();\n      plistMap.set(anchorName, []);   \n      for (let j=0; j < contents.length;j++) {\n        let index = contents[j].type.indexOf('/');\n        let contenttype = contents[j].type.substring(0,index);\n        let contentName = anchorName + 'content' + (j+1) + contenttype;\n        plistMap.get(anchorName).push(contentName)\n      }\n      console.log(\"plistMap\", plistMap);\n      console.log(\"Anchor raw file\", anchor[0].rawFile )\n      // append anchor file\n      this.uploadData.append('imageFile', anchor[0].rawFile, anchorName);\n      // append cotent files\n      for (let i=0; i< contents.length; i++) {\n        let index = contents[i].type.indexOf('/');\n        let contenttype = contents[i].type.substring(0,index);\n        /*let index = contents[i].rawFile.type.indexOf(\"/\");\n        let contenttype = this.addtlContents[j].rawFile.type.substring(0,index);*/\n        let contentName = anchorName + 'content' + (i+1)+ contenttype;\n        this.uploadData.append('imageFile', contents[i].rawFile,contentName);\n        \n      }\n  \n      let root = xmlDocument.getElementsByTagName('plist')[0];\n      console.log(\"root \", root);\n\n      for (let entry of Array.from(plistMap.entries())) {\n\n          console.log(\"Entries\", entry);\n          let keyEl = xmlDocument.createElement('key');\n          keyEl.textContent = entry[0];\n          root.appendChild(keyEl);\n\n          let pageNr = xmlDocument.createElement('anchorPageNr');\n          pageNr.textContent = anchorPageNr\n          keyEl.appendChild(pageNr);\n        \n          let keyElvalues = entry[1];\n          for (let j=0; j < keyElvalues.length; j++) {\n            let valEl = xmlDocument.createElement('value')\n            valEl.textContent = keyElvalues[j];\n            keyEl.appendChild(valEl)\n          }\n      }\n\n      let serializer = new XMLSerializer();\n      let xmlSerializedDoc = serializer.serializeToString(xmlDocument);\n      console.log(\"xml serailizd doc\", xmlSerializedDoc);\n\n      var blob = new Blob([xmlSerializedDoc], {type: \"text/xml\"})\n      this.uploadData.append('xmlFile', blob, this.bookId+'plist');\n     \n    }\n    else {\n       \n        let anchorName = 'anchor0';\n        let plistMap = new Map<string, string[]>();\n        plistMap.set(anchorName, []);   \n        for (let j=0; j < contents.length;j++) {\n          let index = contents[j].type.indexOf('/');\n          let contenttype = contents[j].type.substring(0,index);\n          let contentName = anchorName + 'content' + (j+1) + contenttype;\n          plistMap.get(anchorName).push(contentName)\n        }\n        console.log(\"plistMap\", plistMap);\n        \n        // append anchor file as anchor0\n        this.uploadData.append('imageFile', anchor[0].rawFile, anchorName);\n        // append cotent files as anchor0content0, anchor0,content1\n        for (let i=0; i < contents.length; i++) {\n          let index = contents[i].type.indexOf('/');\n          let contenttype = contents[i].type.substring(0,index);\n          let contentName = anchorName + 'content' + (i+1) + contenttype;\n          this.uploadData.append('imageFile', contents[i].rawFile, contentName);\n        }\n    \n        // construct new xml plist file \n        let doc = document.implementation.createDocument('','',null);\n        let root = doc.createElement('plist');\n        doc.appendChild(root);\n\n        \n\n        for (let entry of Array.from(plistMap.entries())) {\n\n          console.log(\"Entries\", entry);\n\n            let keyEl = doc.createElement('key');\n            keyEl.textContent = entry[0];\n            root.appendChild(keyEl);\n\n            let pageNr = doc.createElement('anchorPageNr');\n            pageNr.textContent = anchorPageNr\n            keyEl.appendChild(pageNr);\n          \n            let keyElvalues = entry[1];\n            for (let j=0; j < keyElvalues.length; j++) {\n              let valEl = doc.createElement('value')\n              valEl.textContent = keyElvalues[j];\n              keyEl.appendChild(valEl)\n            }\n        }\n\n        let serializer = new XMLSerializer();\n        let xmlSerializedDoc = serializer.serializeToString(doc)\n        console.log(\"xml serailizd doc\", xmlSerializedDoc);\n\n        var blob = new Blob([xmlSerializedDoc], {type: \"text/xml\"})\n        this.uploadData.append('xmlFile', blob, this.bookId+'plist');\n    }\n    \n    \n    // update book ar flag & then upload the data\n    this.bookCopy.bookarenabled = true;\n    this.booksService.updateBookARFlag(this.bookId, this.bookCopy)\n    .subscribe(res => {\n        console.log(res); \n      // upload data\n      this.booksService.uploadAnchorContentAndPlist(this.bookId, this.uploadData, this.updateFlag, this.bookCopy)\n      .subscribe(res => {\n        console.log(res);\n        this.presentToast(\"Anchor and Content Data Uploaded Successfully !\");\n        this._modalController.dismiss()\n        //this.closeModal();\n        \n      });\n        \n    });\n\n   \n  }\n\n  closeModal() {\n    console.log(\"inside close modal\");\n    this.showComonentFlag = false;\n    this.showContentAddComponentFlag = false;\n    //this._modalController.dismiss();\n  }\n\n  refreshBookList(event) {\n    setTimeout(() => {\n\n      this.clearCache();\n      event.target.complete();\n\n    }, 3000);\n  }\n\n  clearCache() {\n    this.imageLoaderService.clearCache();\n  \n   // refresher.complete();\n  }\n\n\n  close() {\n\n    if (this.showComonentFlag || this.showContentAddComponentFlag) {\n      this.closeModal();\n    }\n    else {\n      this._modalController.dismiss();\n      \n    }\n    \n  }\n\n  \n}\n  \n  /*async selectImageSource() {\n\n    const cameraOptions: CameraOptions = {\n      quality: 100,\n      destinationType: this._camera.DestinationType.FILE_URI,\n      encodingType: this._camera.EncodingType.JPEG,\n      mediaType: this._camera.MediaType.PICTURE,\n      targetHeight: 45,\n      targetWidth: 80,\n      correctOrientation: true,\n      sourceType: this._camera.PictureSourceType.CAMERA\n    };\n\n    const galleryOptions: CameraOptions = {\n      quality: 100,\n      destinationType: this._camera.DestinationType.FILE_URI,\n      encodingType: this._camera.EncodingType.JPEG,\n      mediaType: this._camera.MediaType.PICTURE,\n      targetHeight: 45,\n      targetWidth: 80,\n      correctOrientation: true,\n      sourceType: this._camera.PictureSourceType.SAVEDPHOTOALBUM\n    };\n\n    this.markerImages = [];\n    this.capturedImages = [];\n    this.markerImagesLength = 0;\n\n    const alert = await this._alertController.create({\n      header: \"Select Source\",\n      message: \"Pick a source for your image\",\n      buttons: [\n        {\n          text: \"Camera\",\n          handler: ()=> {\n\n\n            this._camera.getPicture(cameraOptions).then((result) => {\n              \n             \n              this.markerImages.push('file://'+ result);\n              console.log(\"Marker images length\", this.markerImages.length);\n              this.markerImagesLength = this.markerImages.length;\n    \n             }, (err) => {\n               \n               console.log(err);\n            });\n            \n           \n          \n        }\n      },\n      {\n          text: \"Gallery\",\n          handler: ()=> {\n           \n           \n\n         this.imagePicker.getPictures(galleryOptions).then((results) => {\n          for (var i = 0; i < results.length; i++) {\n            console.log(\"RESULTS\", results[i]);\n            this.markerImages.push('file://'+ results[i]);\n          }\n          console.log(\"Marker images length\", this.markerImages.length);\n          this.markerImagesLength = this.markerImages.length;\n          \n        \n\n         }, (err) => {\n           // Handle error\n           console.log(err);\n        });\n\n        \n\n      }\n    }\n  ]\n });\n\n    await alert.present();\n\n}*/\n\n/*readFile(file: any) {\n\n  const reader = new FileReader();\n  console.log(\"file type\", file.type);\n  console.log(\"file type\", file.name);\n  reader.onloadend = () => {\n    this.uploadData = new FormData();\n    if (reader.result) {\n      const imgBlob = new Blob([reader.result], {type: file.type});\n      this.uploadData.append('arMarkerImageFile', imgBlob, file.name);\n\n      this.booksService.uploadMarkerImage(this.bookId, this.uploadData)\n      .subscribe(res => {\n        console.log(\"Uploaded image details ----->\",res);\n      });\n   \n    }\n  };\n  reader.readAsArrayBuffer(file);\n}*/\n\n /*createMarkers() {\n\n  for (var i = 0; i < this.markerImages.length; i++) {\n    console.log(\"Selected image is \", this.markerImages[i]);\n  }\n  console.log(\"inside createMarkers\");\n  let counter = 0;\n  var ref = this;\n  function InnerFunc() {\n   \n    console.log(\"Beginning Counter\", counter);\n    console.log(\"inside InnerFunc\");\n    console.log(\"file system url\", ref.markerImages[counter]);\n\n    ref.file.resolveLocalFilesystemUrl(ref.markerImages[counter])\n    .then(entry => {\n       console.log(\"inside resolve local file system url\");\n       \n       (<FileEntry>entry).file(file => ref.readFile(file));\n\n       counter++;\n       console.log(\"Inside Counter is\", counter);\n       if (counter < ref.markerImages.length) {\n        InnerFunc();\n      }\n      else {\n        alert(\"successfully uploaded all images\");\n      }  \n     })\n    .catch(err => {\n       console.log(\"error reading file\")\n    })\n    \n  }\n  console.log(\"innerFunc getting called\");\n  InnerFunc();\n\n  \n}*/\n\n\n\n\n","module.exports = \"\\n<ion-content>\\n\\n  <!--<div ng2FileDrop [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\" (fileOver)=\\\"fileOverBase($event)\\\" [uploader]=\\\"uploaderAnchor\\\" class=\\\"drop-zone\\\">\\n    Drop files here...\\n  </div>\\n  <div class=\\\"file-input-container\\\">\\n    <label>\\n      <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploaderAnchor\\\" single />\\n      Add Anchor\\n    </label>\\n  </div>\\n  <ion-label>Files: {{ uploaderAnchor?.queue?.length }}</ion-label>\\n  <ion-list>\\n    <ion-reorder-group (ionItemReorder)=\\\"reorderFiles($event)\\\" disabled=\\\"false\\\">\\n      <ion-item *ngFor=\\\"let item of uploaderAnchor.queue\\\">\\n        <ion-label>\\n          {{ item?.file?.name }}\\n        </ion-label>\\n        <ion-reorder></ion-reorder>\\n      </ion-item>\\n    </ion-reorder-group>\\n  </ion-list>-->\\n\\n  <!--<div ng2FileDrop [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\" (fileOver)=\\\"fileOverBase($event)\\\" [uploader]=\\\"uploaderContent\\\" class=\\\"drop-zone\\\">\\n    Drop files here...\\n  </div>-->\\n  <ion-card class=\\\"displaycard\\\">\\n    <div class=\\\"file-input-container\\\">\\n      <label>\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploaderContent\\\"  multiple />\\n        Click to Augment Content to the selected anchor\\n      </label>\\n    </div>\\n    <ion-label>Files: {{ uploaderContent?.queue?.length }}</ion-label>\\n    <ion-list>\\n      <ion-reorder-group (ionItemReorder)=\\\"reorderFiles($event)\\\" disabled=\\\"false\\\">\\n        <ion-item *ngFor=\\\"let item of uploaderContent.queue\\\">\\n          <ion-label>\\n            {{ item?.file?.name }}\\n          </ion-label>\\n          <ion-reorder></ion-reorder>\\n        </ion-item>\\n      </ion-reorder-group>\\n    </ion-list>\\n  \\n  </ion-card>\\n  \\n\\n</ion-content>\\n\"","module.exports = \".drop-zone {\\n  background-color: #f6f6f6;\\n  border: dotted 3px #dedddd;\\n  height: 30vh;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 20px 0; }\\n\\n.file-input-container {\\n  text-align: right; }\\n\\n.file-input-container input[type=\\\"file\\\"] {\\n    display: none; }\\n\\n.file-input-container label {\\n    background-color: #E9F7EF;\\n    border: 1px solid #ccc;\\n    padding: 5px;\\n    cursor: pointer;\\n    margin: 5px; }\\n\\n.nv-file-over {\\n  border: dotted 3px red; }\\n\\n.displaycard {\\n  margin: 10px;\\n  padding-left: 5px;\\n  padding-right: 1px;\\n  padding-bottom: 5px;\\n  padding-top: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC9jb21wb25lbnRzL211bHRpLWZpbGUtY29udGVudC11cGxvYWQvbXVsdGktZmlsZS1jb250ZW50LXVwbG9hZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUF5QjtFQUN6QiwwQkFBMEI7RUFDMUIsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGNBQWMsRUFBQTs7QUFHbEI7RUFFSSxpQkFBaUIsRUFBQTs7QUFGckI7SUFLUSxhQUFhLEVBQUE7O0FBTHJCO0lBU1EseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osZUFBZTtJQUNmLFdBQVcsRUFBQTs7QUFJbkI7RUFDSSxzQkFBc0IsRUFBQTs7QUFHMUI7RUFJSyxZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL211bHRpLWZpbGUtY29udGVudC11cGxvYWQvbXVsdGktZmlsZS1jb250ZW50LXVwbG9hZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kcm9wLXpvbmUgeyBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2O1xuICAgIGJvcmRlcjogZG90dGVkIDNweCAjZGVkZGRkOyBcbiAgICBoZWlnaHQ6IDMwdmg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1hcmdpbjogMjBweCAwO1xufVxuXG4uZmlsZS1pbnB1dC1jb250YWluZXIge1xuXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG5cbiAgICBpbnB1dFt0eXBlPVwiZmlsZVwiXSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgbGFiZWwge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTlGN0VGO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgbWFyZ2luOiA1cHg7XG4gICAgfVxufVxuXG4ubnYtZmlsZS1vdmVyIHsgXG4gICAgYm9yZGVyOiBkb3R0ZWQgM3B4IHJlZDsgXG59XG5cbi5kaXNwbGF5Y2FyZCB7XG4gICAgLy8gd2lkdGg6IDMwdnc7XG4gICAgIC8vaGVpZ2h0OjMwdmg7XG4gICAgLy8gYm9yZGVyOiBncmV5IHNvbGlkIDFweDtcbiAgICAgbWFyZ2luOiAxMHB4O1xuICAgICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgICAgcGFkZGluZy1yaWdodDogMXB4O1xuICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgICAvL2JhY2tncm91bmQtY29sb3I6IHdoaXRlc21va2U7XG4gICB9Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FileUploader, FileLikeObject } from 'ng2-file-upload';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-multi-file-content-upload',\n  templateUrl: './multi-file-content-upload.component.html',\n  styleUrls: ['./multi-file-content-upload.component.scss'],\n})\nexport class MultiFileContentUploadComponent {\n\n  constructor(private _modalController: ModalController) { \n    \n  }\n\n  public uploaderAnchor: FileUploader = new FileUploader({});\n  public uploaderContent: FileUploader = new FileUploader({});\n  public hasBaseDropZoneOver: boolean = false;\n\n  getAnchorFiles(): FileLikeObject[] {    \n    return this.uploaderAnchor.queue.map((fileItem) => {\n      return fileItem.file;\n    }); \n  }\n\n  getContentFiles(): FileLikeObject[] {\n    return this.uploaderContent.queue.map((fileItem) => {\n      return fileItem.file;\n    });\n  }\n\n  fileOverBase(ev): void {\n    this.hasBaseDropZoneOver = ev;\n  }\n\n  reorderFiles(reorderEvent: CustomEvent): void {\n    let element = this.uploaderAnchor.queue.splice(reorderEvent.detail.from, 1)[0];\n    this.uploaderAnchor.queue.splice(reorderEvent.detail.to, 0, element);\n  }\n\n  \n\n\n}\n","module.exports = \" \\n\\n\\n<ion-content>\\n\\n  <!--<div ng2FileDrop [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\" (fileOver)=\\\"fileOverBase($event)\\\" [uploader]=\\\"uploaderAnchor\\\" class=\\\"drop-zone\\\">\\n    Drop files here...\\n  </div>-->\\n  <ion-card class=\\\"displaycard\\\">\\n    <div class=\\\"file-input-container\\\">\\n      <label>\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploaderAnchor\\\" single />\\n        Click to Add Anchor (max. 1)\\n      </label>\\n    </div>\\n    <ion-label>Files: {{ uploaderAnchor?.queue?.length }}</ion-label>\\n   \\n   \\n    <ion-list>\\n      <ion-reorder-group (ionItemReorder)=\\\"reorderFiles($event)\\\" disabled=\\\"false\\\">\\n        <ion-item *ngFor=\\\"let item of uploaderAnchor.queue\\\">\\n          <ion-label>\\n            {{ item?.file?.name }}\\n          </ion-label>\\n          <ion-reorder></ion-reorder>\\n        </ion-item>\\n      </ion-reorder-group>\\n    </ion-list>\\n\\n\\n    <br><br>\\n    <form id=\\\"addAnchorPageNr\\\" [formGroup]=\\\"addAnchorPageNrGroup\\\" #aform=\\\"ngForm\\\">\\n      <ion-item>\\n        <ion-label style=\\\"font-size: smaller;\\\" color=\\\"medium\\\">Anchor's Book Page #:</ion-label>\\n        <ion-input formControlName=\\\"anchorpagenr\\\" type=\\\"text\\\"></ion-input>\\n        <!--<ion-button (click)=\\\"submitForm()\\\" shape=\\\"round\\\"  style=\\\"color:#1B4F72\\\" \\n        [disabled]=\\\"addAnchorPageNrGroup.invalid\\\" margin-top expand=\\\"full\\\">Add</ion-button>-->\\n      </ion-item>\\n    </form>\\n\\n  </ion-card>\\n\\n  \\n\\n  <!--<div ng2FileDrop [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\" (fileOver)=\\\"fileOverBase($event)\\\" [uploader]=\\\"uploaderContent\\\" class=\\\"drop-zone\\\">\\n    Drop files here...\\n  </div>-->\\n  <ion-card class=\\\"displaycard\\\">\\n    <div class=\\\"file-input-container\\\">\\n      <label>\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploaderContent\\\"  multiple />\\n        Click to Add Content corresponding to above anchor\\n      </label>\\n    </div>\\n    <ion-label>Files: {{ uploaderContent?.queue?.length }}</ion-label>\\n    <ion-list>\\n      <ion-reorder-group (ionItemReorder)=\\\"reorderFiles($event)\\\" disabled=\\\"false\\\">\\n        <ion-item *ngFor=\\\"let item of uploaderContent.queue\\\">\\n          <ion-label>\\n            {{ item?.file?.name }}\\n          </ion-label>\\n          <ion-reorder></ion-reorder>\\n        </ion-item>\\n      </ion-reorder-group>\\n    </ion-list>\\n  </ion-card>\\n  \\n  \\n  \\n  \\n\\n</ion-content>\\n\\n\\n\\n\\n\"","module.exports = \".drop-zone {\\n  background-color: #f6f6f6;\\n  border: dotted 3px #dedddd;\\n  height: 30vh;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 20px 0; }\\n\\n.file-input-container {\\n  text-align: right; }\\n\\n.file-input-container input[type=\\\"file\\\"] {\\n    display: none; }\\n\\n.file-input-container label {\\n    background-color: #E9F7EF;\\n    border: 1px solid #ccc;\\n    padding: 5px;\\n    cursor: pointer;\\n    margin: 5px; }\\n\\n.nv-file-over {\\n  border: dotted 3px red; }\\n\\n.displaycard {\\n  margin: 10px;\\n  padding-left: 5px;\\n  padding-right: 1px;\\n  padding-bottom: 5px;\\n  padding-top: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC9jb21wb25lbnRzL211bHRpLWZpbGUtdXBsb2FkL211bHRpLWZpbGUtdXBsb2FkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQXlCO0VBQ3pCLDBCQUEwQjtFQUMxQixZQUFZO0VBQ1osYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsY0FBYyxFQUFBOztBQUdsQjtFQUVJLGlCQUFpQixFQUFBOztBQUZyQjtJQUtRLGFBQWEsRUFBQTs7QUFMckI7SUFTUSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixlQUFlO0lBQ2YsV0FBVyxFQUFBOztBQUluQjtFQUNJLHNCQUFzQixFQUFBOztBQUcxQjtFQUlLLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixnQkFBZ0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbXVsdGktZmlsZS11cGxvYWQvbXVsdGktZmlsZS11cGxvYWQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZHJvcC16b25lIHsgXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjZmNjtcbiAgICBib3JkZXI6IGRvdHRlZCAzcHggI2RlZGRkZDsgXG4gICAgaGVpZ2h0OiAzMHZoO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBtYXJnaW46IDIwcHggMDtcbn1cblxuLmZpbGUtaW5wdXQtY29udGFpbmVyIHtcblxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuXG4gICAgaW5wdXRbdHlwZT1cImZpbGVcIl0ge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgIGxhYmVsIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0U5RjdFRjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIG1hcmdpbjogNXB4O1xuICAgIH1cbn1cblxuLm52LWZpbGUtb3ZlciB7IFxuICAgIGJvcmRlcjogZG90dGVkIDNweCByZWQ7IFxufVxuXG4uZGlzcGxheWNhcmQge1xuICAgIC8vIHdpZHRoOiAzMHZ3O1xuICAgICAvL2hlaWdodDozMHZoO1xuICAgIC8vIGJvcmRlcjogZ3JleSBzb2xpZCAxcHg7XG4gICAgIG1hcmdpbjogMTBweDtcbiAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gICAgIHBhZGRpbmctcmlnaHQ6IDFweDtcbiAgICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgICAgcGFkZGluZy10b3A6IDVweDtcbiAgICAgLy9iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlO1xuICAgfSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FileUploader, FileLikeObject } from 'ng2-file-upload';\nimport { ModalController } from '@ionic/angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-multi-file-upload',\n  templateUrl: './multi-file-upload.component.html',\n  styleUrls: ['./multi-file-upload.component.scss'],\n})\nexport class MultiFileUploadComponent  {\n\n  public uploaderAnchor: FileUploader = new FileUploader({});\n  public uploaderContent: FileUploader = new FileUploader({});\n  public uploaderNumber: number;\n  public hasBaseDropZoneOver: boolean = false;\n\n  pageNr: number;\n\n  addAnchorPageNrGroup: FormGroup;\n  @ViewChild('aform') addAnchorPageNrGroupFormDirective;\n\n  constructor(private _modalController: ModalController,  private fb: FormBuilder,) { \n\n  }\n\n  ngOnInit() {\n    this.createForm();\n    \n  }\n\n  submitNr() {\n    this.pageNr = this.addAnchorPageNrGroup.value;\n  }\n\n  formErrors = {\n    'anchorpagenr': ''\n  };\n\n  validationMessages = {\n    'anchorpagenr': {\n      'required':      'Anchor Book Page # is required.',\n      'minlength':     'Must be at least 1 character long.',\n      'maxlength':     'Cannot be more than 5 characters long.'\n    },\n  };\n\n\n  createForm() {\n    this.addAnchorPageNrGroup = this.fb.group({\n      anchorpagenr: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(5)] ]\n     \n    });\n  }\n\n  \n\n  getAnchorFiles(): FileLikeObject[] {    \n    return this.uploaderAnchor.queue.map((fileItem) => {\n      return fileItem.file;\n    }); \n  }\n\n  \n\n  getAnchorContentFiles(): FileLikeObject[] {\n    \n    return this.uploaderContent.queue.map((fileItem) => {\n      return fileItem.file;\n    });\n  }\n\n  fileOverBase(ev): void {\n    this.hasBaseDropZoneOver = ev;\n  }\n\n  reorderFiles(reorderEvent: CustomEvent): void {\n    let element = this.uploaderAnchor.queue.splice(reorderEvent.detail.from, 1)[0];\n    this.uploaderAnchor.queue.splice(reorderEvent.detail.to, 0, element);\n  }\n\n  \n\n  \n}\n","import { Injectable } from '@angular/core';\nimport { Feedback } from '../shared/feedback';\n\nimport { Observable } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { baseURL } from '../shared/baseurl';\nimport { ProcessHTTPMsgService } from './process-httpmsg.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedbackService {\n\n  constructor(private http: HttpClient,\n    private processHTTPMsgService: ProcessHTTPMsgService) { }\n\n  submitFeedback(feedback: Feedback): Observable<Feedback> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type':  'application/json'\n      })\n    };\n    return this.http.post<Feedback>(baseURL + 'feedback/', feedback, httpOptions)\n    .pipe(catchError(this.processHTTPMsgService.handleError));\n  }\n\n  getFeedback(): Observable<Feedback[]> {\n    return this.http.get<Feedback[]>(baseURL + 'feedback')\n      .pipe(catchError(this.processHTTPMsgService.handleError));\n  }\n\n  getFeaturedFeedback(): Observable<Feedback[]> {\n    return this.http.get<Feedback[]>(baseURL + 'feedback?rating=5')\n      .pipe(catchError(this.processHTTPMsgService.handleError));\n  }\n\n  /*getLeader(id: string): Observable<Leader> {\n    return this.http.get<Leader>(baseURL + 'leaders/' + id)\n      .pipe(catchError(this.processHTTPMsgService.handleError));\n  }*/\n\n\n}\n","export class Feedback {\n    firstname: string;\n    lastname: string;\n    telnum: number;\n    email: string;\n    agree: boolean;\n    contacttype: string;\n    message: string;\n    rating: number;\n}\n\nexport const ContactType = ['None', 'Tel', 'Email'];\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { Tab3Page } from './tab3.page';\nimport { SortPipe } from '../shared/sort.pipe';\nimport { SearchPipe } from '../shared/search.pipe';\nimport { AddbookPageModule } from '../addbook/addbook.module';\nimport { IonicImageLoaderModule } from 'ionic-image-loader-v5';\nimport { Tab4PageModule } from '../tab4/tab4.module';\nimport { ArbookPageModule } from '../arbook/arbook.module';\n\n@NgModule({\n  imports: [\n    AddbookPageModule,\n    ArbookPageModule,\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\n    IonicImageLoaderModule,\n   \n  ],\n  declarations: [Tab3Page]\n  //exports: [,  ]\n})\nexport class Tab3PageModule {}\n","module.exports = \"<ion-header color=\\\"success\\\" [translucent]=\\\"true\\\" collapse=\\\"condense\\\">\\n  <ion-toolbar >\\n    <ion-title *ngIf=\\\"username\\\" size=\\\"large\\\" \\n    style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n    color: #FDFEFE  ; font-weight: bolder; font-size: 25px;\\\">\\n     Manage\\n    </ion-title>\\n  </ion-toolbar>\\n\\n  \\n</ion-header> \\n\\n<ion-content>\\n\\n  \\n    \\n    <ion-button shape=\\\"round\\\" (click)=\\\"addBookModal()\\\" margin-top expand=\\\"block\\\">\\n        <ion-icon style=\\\"color: #145A32;\\\" src=\\\"../assets/icon/add-circle.svg\\\"></ion-icon>\\n        <span style=\\\"color:  #145A32; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">Add New Book</span>\\n    </ion-button>\\n    \\n    <!--<ion-searchbar shape=\\\"round\\\" no-margin [(ngModel)]=\\\"searchTerm\\\"\\n      (ionChange)=\\\"setFilteredItems()\\\" placeholder=\\\"Search my books by status, title or language ...\\\">\\n    </ion-searchbar>-->\\n\\n  \\n    \\n  \\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshBookList($event)\\\">\\n      <ion-refresher-content pullingText=\\\"pull for update\\\" refreshingText= \\\"...updating\\\">\\n      </ion-refresher-content>\\n    </ion-refresher>\\n\\n  <!--<ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"clearCache($event)\\\">\\n    <ion-refresher-content pullingText=\\\"pull for update\\\" refreshingText= \\\"...updating\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>-->\\n\\n  <!--| sort: {property: column, order: order}-->\\n  <ion-list>\\n\\n    <ion-button shape=\\\"round\\\" margin-top expand=\\\"block\\\">\\n      <ion-icon style=\\\"color: #145A32; \\\" src=\\\"../assets/icon/book.svg\\\"></ion-icon>\\n      <span style=\\\"color:  #145A32; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">My books by status</span>\\n   </ion-button>\\n\\n    <ion-select (ionChange)=\\\"displayBooksByStatus($event)\\\" interface=\\\"popover\\\" placeholder=\\\"Select ..\\\">\\n      <ion-select-option *ngFor=\\\"let status of bookcurrentstatus\\\" [value]=\\\"status\\\"> {{status}}</ion-select-option>\\n   </ion-select>\\n   \\n  <ion-item-sliding *ngFor=\\\"let rBook of reservedBooks\\\">\\n    <ion-item *ngIf=\\\"showReserved\\\">\\n      <ion-card *ngIf=\\\"showReserved\\\">\\n       <ion-thumbnail *ngIf=\\\"showReserved\\\">\\n         <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n         <img-loader [src]=\\\"(bookIdImageMap.get(rBook._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n       </ion-thumbnail>\\n      </ion-card>\\n      <ion-label *ngIf=\\\"showReserved\\\" class=\\\"ion-text-wrap\\\">\\n           <strong>{{rBook.bookname}}</strong>\\n           <h3> in {{rBook.booklanguage}}. By - {{rBook.bookauthor}}.</h3>\\n           <p></p>\\n           <ion-note *ngIf=\\\"rBook.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{rBook.bookcurrentstatus}}</ion-note>\\n           <ion-note *ngIf=\\\"rBook.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{rBook.bookcurrentstatus}}</ion-note>\\n           <ion-note *ngIf=\\\"rBook.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{rBook.bookcurrentstatus}}</ion-note>       \\n       </ion-label>\\n    </ion-item>\\n   <ion-item-options side=\\\"start\\\">\\n     <ion-item-option *ngIf=\\\"showReserved\\\">\\n       <ion-icon style=\\\"color: red;\\\" *ngIf=\\\"rBook.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n       (click)=\\\"checkDeleteConfirmation(rBook._id)\\\"></ion-icon>\\n     </ion-item-option>\\n   </ion-item-options>\\n  <ion-item-options side=\\\"end\\\">\\n   <ion-item-option *ngIf=\\\"showReserved\\\">\\n     <ion-icon style=\\\"color: blue\\\" *ngIf=\\\"(rBook.isReserved || rBook.isBorrowed) && !rBook.isAvailable\\\" slot=\\\"icon-only\\\"\\n     src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(rBook._id)\\\"></ion-icon>\\n   </ion-item-option>\\n   <ion-item-option>\\n    <!--<ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\"\\n    src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(rBook._id, rBook.bookname)\\\">AR</ion-icon>-->\\n    <ion-label style=\\\"color: darkgreen\\\" (click)=\\\"arBookModal(rBook._id, rBook.bookname)\\\">AR</ion-label>\\n  </ion-item-option>\\n  </ion-item-options>\\n</ion-item-sliding>\\n\\n<ion-item-sliding *ngFor=\\\"let aBook of availableBooks \\\">\\n  <ion-item *ngIf=\\\"showAvailable\\\">\\n    <ion-card *ngIf=\\\"showAvailable\\\">\\n     <ion-thumbnail *ngIf=\\\"showAvailable\\\">\\n       <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n       <img-loader [src]=\\\"(bookIdImageMap.get(aBook._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n     </ion-thumbnail>\\n    </ion-card>\\n    <ion-label *ngIf=\\\"showAvailable\\\"class=\\\"ion-text-wrap\\\">\\n         <strong>{{aBook.bookname}}</strong>\\n         <h3> in {{aBook.booklanguage}}. By - {{aBook.bookauthor}}.</h3>\\n         <p></p>\\n         <ion-note *ngIf=\\\"aBook.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{aBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"aBook.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{aBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"aBook.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{aBook.bookcurrentstatus}}</ion-note>       \\n     </ion-label>\\n  </ion-item>\\n  <ion-item-options side=\\\"start\\\">\\n    <ion-item-option *ngIf=\\\"showAvailable\\\">\\n      <ion-icon style=\\\"color: red\\\" *ngIf=\\\"aBook.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n      (click)=\\\"checkDeleteConfirmation(aBook._id)\\\"></ion-icon>\\n    </ion-item-option>\\n  </ion-item-options>\\n  <ion-item-options side=\\\"end\\\">\\n  <ion-item-option *ngIf=\\\"showAvailable\\\">\\n    <ion-icon style=\\\"color: blue\\\" *ngIf=\\\"(aBook.isReserved || aBook.isBorrowed) && !aBook.isAvailable\\\" slot=\\\"icon-only\\\"\\n    src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(aBook._id)\\\"></ion-icon>\\n  </ion-item-option>   \\n  <ion-item-option>\\n    <!--<ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\"\\n    src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(aBook._id, aBook.bookname)\\\">AR</ion-icon>-->\\n    <ion-label style=\\\"color: darkgreen\\\" (click)=\\\"arBookModal(aBook._id, aBook.bookname)\\\">AR</ion-label>\\n  </ion-item-option> \\n  </ion-item-options>\\n</ion-item-sliding>\\n\\n<ion-item-sliding *ngFor=\\\"let bBook of borrowedBooks\\\">\\n  <ion-item *ngIf=\\\"showBorrowed\\\">\\n    <ion-card *ngIf=\\\"showBorrowed\\\">\\n     <ion-thumbnail *ngIf=\\\"showBorrowed\\\">\\n       <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n       <img-loader [src]=\\\"(bookIdImageMap.get(bBook._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n     </ion-thumbnail>\\n    </ion-card>\\n    <ion-label *ngIf=\\\"showBorrowed\\\" class=\\\"ion-text-wrap\\\">\\n         <strong>{{bBook.bookname}}</strong>\\n         <h3> in {{bBook.booklanguage}}. By - {{bBook.bookauthor}}.</h3>\\n         <p></p>\\n         <ion-note *ngIf=\\\"bBook.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{bBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"bBook.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{bBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"bBook.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{bBook.bookcurrentstatus}}</ion-note>       \\n     </ion-label>\\n  </ion-item>\\n <ion-item-options side=\\\"start\\\">\\n   <ion-item-option *ngIf=\\\"showBorrowed\\\">\\n     <ion-icon style=\\\"color: red\\\" *ngIf=\\\"bBook.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n     (click)=\\\"checkDeleteConfirmation(bBook._id)\\\"></ion-icon>\\n   </ion-item-option>\\n</ion-item-options>\\n<ion-item-options side=\\\"end\\\">\\n    <ion-item-option *ngIf=\\\"showBorrowed\\\">\\n      <ion-icon style=\\\"color: blue\\\" *ngIf=\\\"(bBook.isReserved || bBook.isBorrowed) && !bBook.isAvailable\\\" slot=\\\"icon-only\\\"\\n      src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(bBook._id)\\\"></ion-icon>\\n    </ion-item-option>\\n    <ion-item-option>\\n      <!--<ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\"\\n      src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(bBook._id, bBook.bookname)\\\">AR</ion-icon>-->\\n      <ion-label style=\\\"color: darkgreen\\\" (click)=\\\"arBookModal(bBook._id, bBook.bookname)\\\">AR</ion-label>\\n    </ion-item-option>\\n</ion-item-options>\\n</ion-item-sliding>\\n\\n<ion-button shape=\\\"round\\\" margin-top expand=\\\"block\\\">\\n  <ion-icon style=\\\"color: #145A32; \\\" src=\\\"../assets/icon/book.svg\\\"></ion-icon>\\n  <span style=\\\"color: #145A32 ; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">All my books</span>\\n</ion-button>\\n\\n    <ion-item-sliding *ngFor=\\\"let book of allBooks \\\">\\n         <ion-item>\\n           <ion-card>\\n            <ion-thumbnail>\\n              <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n              <img-loader [src]=\\\"(bookIdImageMap.get(book._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n            </ion-thumbnail>\\n           </ion-card>\\n           <ion-label class=\\\"ion-text-wrap\\\">\\n                <strong>{{book.bookname}}</strong>\\n                <h3> in {{book.booklanguage}}. By - {{book.bookauthor}}.</h3>\\n                <p></p>\\n                <ion-note *ngIf=\\\"book.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{book.bookcurrentstatus}}</ion-note>\\n                <ion-note *ngIf=\\\"book.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{book.bookcurrentstatus}}</ion-note>\\n                <ion-note *ngIf=\\\"book.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{book.bookcurrentstatus}}</ion-note>       \\n            </ion-label>\\n         </ion-item>\\n        <ion-item-options side=\\\"start\\\">\\n          <ion-item-option style=\\\"border-color: darkgreen;\\\">\\n            <ion-icon style=\\\"color: red\\\" *ngIf=\\\"book.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n            (click)=\\\"checkDeleteConfirmation(book._id)\\\"></ion-icon>\\n          </ion-item-option>\\n       </ion-item-options>\\n       <ion-item-options side=\\\"end\\\">\\n        <ion-item-option>\\n          <ion-icon style=\\\"color: blue\\\" *ngIf=\\\"(book.isReserved || book.isBorrowed) && !book.isAvailable\\\" slot=\\\"icon-only\\\"\\n          src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(book._id)\\\"></ion-icon>\\n         <ion-item-option>\\n            <!--<ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\" title=\\\"AR\\\"\\n            src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(book._id, book.bookname)\\\"></ion-icon>-->\\n            <ion-label style=\\\"color: darkgreen\\\" (click)=\\\"arBookModal(book._id, book.bookname)\\\">AR</ion-label>\\n          \\n          \\n          </ion-item-option>\\n        </ion-item-option>    \\n      </ion-item-options>\\n    </ion-item-sliding>\\n\\n\\n\\n\\n  </ion-list>\\n  <!--<ion-infinite-scroll (ionInfinite)=\\\"loadMoreBooks($event)\\\">\\n    <ion-infinite-scroll-content loadingText=\\\"..loading\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>-->\\n\\n\\n</ion-content>\\n\"","module.exports = \".profile-pic {\\n  width: 200px;\\n  height: 200px;\\n  border: gray solid 1px;\\n  margin: 10px auto; }\\n\\n.welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n.display_heading {\\n  margin: 10px auto;\\n  padding: 10px; }\\n\\n.spinner-container {\\n  width: 100%;\\n  text-align: center;\\n  padding: 10px; }\\n\\n.book-card {\\n  margin: 5px;\\n  padding: 10px; }\\n\\n.book-image {\\n  border: gray solid 1px;\\n  margin: 5px; }\\n\\n.displaycard {\\n  margin: 5px;\\n  padding: 5px;\\n  background-color: whitesmoke; }\\n\\n.displayinnercard {\\n  margin-top: auto;\\n  margin-left: 30px;\\n  padding: 5px;\\n  background-color: ghostwhite; }\\n\\n.display_heading {\\n  margin-left: 0px;\\n  padding: 0px; }\\n\\nion-button {\\n  --background: #E9F7EF; }\\n\\nion-button span {\\n    text-align: left; }\\n\\nion-toolbar {\\n  --background: #145A32; }\\n\\nion-item-option {\\n  --background: white; }\\n\\nion-list-header {\\n  padding-left: 0px;\\n  display: block;\\n  text-align: center; }\\n\\nspan.ion-text-left {\\n  margin-right: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC90YWIzL3RhYjMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksWUFBWTtFQUNaLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsaUJBQWlCLEVBQUE7O0FBR3JCO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBOztBQUdsQjtFQUNFLGlCQUFpQjtFQUNqQixhQUFhLEVBQUE7O0FBR2Y7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGFBQWEsRUFBQTs7QUFHZjtFQUlJLFdBQVc7RUFDWCxhQUFhLEVBQUE7O0FBR2pCO0VBR0ksc0JBQXNCO0VBQ3RCLFdBQVcsRUFBQTs7QUFHZjtFQUlHLFdBQVc7RUFDWCxZQUFZO0VBQ1osNEJBQTRCLEVBQUE7O0FBRzlCO0VBSUcsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osNEJBQTJCLEVBQUE7O0FBRzdCO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVksRUFBQTs7QUFHZDtFQUNFLHFCQUFhLEVBQUE7O0FBRGY7SUFHSSxnQkFBZSxFQUFBOztBQUtuQjtFQUVFLHFCQUFhLEVBQUE7O0FBR2Y7RUFDRSxtQkFBYSxFQUFBOztBQUlmO0VBRUUsaUJBQWdCO0VBQ2hCLGNBQWE7RUFDYixrQkFBa0IsRUFBQTs7QUFJcEI7RUFDRSxrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3RhYjMvdGFiMy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5wcm9maWxlLXBpYyB7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgYm9yZGVyOiBncmF5IHNvbGlkIDFweDtcbiAgICBtYXJnaW46IDEwcHggYXV0bztcbn1cblxuLndlbGNvbWUtY2FyZCBpb24taW1nIHtcbiAgbWF4LWhlaWdodDogMzV2aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmRpc3BsYXlfaGVhZGluZyB7XG4gIG1hcmdpbjogMTBweCBhdXRvO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uc3Bpbm5lci1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uYm9vay1jYXJkIHtcblxuICAgIC8vaGVpZ2h0OjUwcHg7XG4gICAgLy9ib3JkZXI6IGdyYXkgc29saWQgMXB4O1xuICAgIG1hcmdpbjogNXB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5ib29rLWltYWdlIHtcbiAgICAvL3dpZHRoOiAzMDBweDtcbiAgICAvL2hlaWdodDogMzAwcHg7XG4gICAgYm9yZGVyOiBncmF5IHNvbGlkIDFweDtcbiAgICBtYXJnaW46IDVweDtcbn1cblxuLmRpc3BsYXljYXJkIHtcbiAgLy8gd2lkdGg6IDMwdnc7XG4gICAvL2hlaWdodDozMHZoO1xuICAvLyBib3JkZXI6IGdyZXkgc29saWQgMXB4O1xuICAgbWFyZ2luOiA1cHg7XG4gICBwYWRkaW5nOiA1cHg7XG4gICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlO1xuIH1cbiBcbiAuZGlzcGxheWlubmVyY2FyZCB7XG4gICAvLyB3aWR0aDogMzB2dztcbiAgICAvL2hlaWdodDozMHZoO1xuICAgLy8gYm9yZGVyOiBncmV5IHNvbGlkIDFweDtcbiAgICBtYXJnaW4tdG9wOiBhdXRvO1xuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOmdob3N0d2hpdGU7XG4gIH1cblxuICAuZGlzcGxheV9oZWFkaW5nIHtcbiAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgIHBhZGRpbmc6IDBweDtcbiAgfVxuXG4gIGlvbi1idXR0b24ge1xuICAgIC0tYmFja2dyb3VuZDogI0U5RjdFRjtcbiAgICBzcGFue1xuICAgICAgdGV4dC1hbGlnbjpsZWZ0O1xuICAgICAgXG4gICAgfVxuICB9XG5cbiAgaW9uLXRvb2xiYXIge1xuICAgIC8vQGF0LXJvb3Q6ICMxQjRGNzI7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMTQ1QTMyO1xuICB9XG5cbiAgaW9uLWl0ZW0tb3B0aW9uIHtcbiAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgXG4gIH1cblxuICBpb24tbGlzdC1oZWFkZXIge1xuXG4gICAgcGFkZGluZy1sZWZ0OjBweDtcbiAgICBkaXNwbGF5OmJsb2NrO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgIFxuICB9XG5cbiAgc3Bhbi5pb24tdGV4dC1sZWZ0IHtcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4gXG4iXX0= */\"","import { Component, OnInit, Inject, AfterViewInit, ViewChild  } from '@angular/core';\nimport { FormControl, FormBuilder } from \"@angular/forms\";\nimport { Observable } from 'rxjs';\nimport { debounceTime } from \"rxjs/operators\";\nimport { Router, ActivatedRoute, Params} from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { switchMap } from 'rxjs/operators';\nimport { ModalController} from '@ionic/angular';\nimport { DomSanitizer, SafeResourceUrl, SafeUrl} from '@angular/platform-browser';\nimport { BarcodeScanner, BarcodeScannerOptions } from '@ionic-native/barcode-scanner/ngx';\nimport { SortPipe } from '../shared/sort.pipe'\nimport { AlertController } from '@ionic/angular';\nimport { CameraOptions, Camera } from \"@ionic-native/camera/ngx\";\n\nimport { Book, BookActions, BookLanguage, BookCurrentStatus} from '../shared/book';\nimport { Feedback, ContactType } from '../shared/feedback';\nimport { BookdetailService } from '../services/bookdetail.service';\nimport { AuthService } from '../services/auth.service';\nimport { BooksService } from '../services/books.service';\nimport { ReadarsService } from '../services/readars.service';\nimport { AvailableService} from '../services/available.service';\nimport { ReservedService } from '../services/reserved.service';\nimport { BorrowedService} from '../services/borrowed.service';\nimport { FeedbackService } from '../services/feedback.service';\nimport { SearchedMyData } from '../services/searchmybooks.service';\nimport { AddbookPage } from '../addbook/addbook.page';\nimport { ArbookPage} from '../arbook/arbook.page';\nimport { Subscription } from 'rxjs';\n\nimport { ImageLoaderService } from 'ionic-image-loader-v5';\nimport { ToastController } from '@ionic/angular';\n\n\nenum CodeOps {\n  getQrCode,\n  getScannedCode,\n  compareCodes\n}\n\n@Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss']\n})\n\n\n\nexport class Tab3Page implements OnInit, AfterViewInit {\n\n  qrCheckString: string;\n  scannedDataString: string;\n\n  myProfileImage;\n  scannedData: any;\n\n  username: string = undefined;\n  subscription: Subscription;\n  \n  bookcurrentUsername: string;\n  \n  books: Book[];\n  allBooks: Book[];\n  \n  \n  reservedBooks: Book[] = [];\n  availableBooks: Book[] = [];\n  borrowedBooks:Book[] = [];\n  bookList: Book[];\n  bookIds: Book[];\n  bookLendMakeCollection: Book[];\n  bookDeleteCollection: Book[];\n  errMess: string;\n \n\n  public items: any;\n  public searchTerm : string = \"\";\n  public searchControl: FormControl;\n\n  descending: boolean = false;\n  order: number;\n  column: string = 'booklanguage';\n\n  public bookIdsImages = new Map();\n  public bookIdImageMap = new Map();\n  public url: SafeResourceUrl;\n\n  name = 'Angular';\n  //favorites: Favorite;\n  delete: boolean;\n  currentRouter = this.router.url;\n\n\n  lbookIds: any[];\n  book: Book;\n  addbook: Book;\n  removebook: Book;\n  bookCopy: Book;\n \n\n  booklanguage = BookLanguage;\n  bookactions = BookActions;\n  bookcurrentstatus = BookCurrentStatus;\n  //feedback: Feedback;\n  contactType = ContactType;\n  submitted = null;\n  showForm = true;\n\n  borrowed: boolean;\n  reserved: boolean;\n  available: boolean;\n  lendmake: boolean;\n  remove: boolean;\n  showAvailable: boolean;\n  showReserved: boolean;\n  showBorrowed: boolean;\n  showAll: boolean;\n  collectionEmptyAV: boolean;\n  collectionEmptyLM: boolean;\n  panelOpenState = false;\n\n  constructor(\n    private _camera: Camera,\n    private _alertController: AlertController,\n    private _modalController: ModalController,\n    private authService: AuthService,\n    public navCtrl: NavController,\n    private readarsService: ReadarsService,\n    @Inject('baseURL') private baseURL,\n    private router: Router,\n    private route: ActivatedRoute,\n    private searchedMyData: SearchedMyData,\n    private fb: FormBuilder,\n    private feedbackservice: FeedbackService,\n    private booksService: BooksService,\n    private reservedService: ReservedService,\n    private borrowedService: BorrowedService,\n    private availableService: AvailableService,\n    private activatedRoute: ActivatedRoute,\n    private barCodeScanner: BarcodeScanner,\n    private imageLoaderService: ImageLoaderService,\n    private toastCtrl: ToastController) {\n        this.searchControl = new FormControl();\n  }\n\n  ngOnInit() {\n    this.setFilteredItems();\n\n    \n    this.authService.loadUserCredentials();\n    this.subscription = this.authService.getUsername()\n      .subscribe(name => { \n        \n        console.log(name); \n        this.username = name; \n        if (this.username) {\n          this.booksService.getBooks()\n          .subscribe(books => {\n           this.allBooks = books;\n           console.log(\"TAB3 BOOKS\", this.allBooks);\n       }, errmess => {\n             this.errMess = <any>errmess\n            \n           });\n\n           this.prepareBookIdsImagesMap();\n        }\n      });\n\n     \n\n    \n    \n  }\n\n  ionViewWillEnter() {\n\n    this.prepareBookIdsImagesMap();\n    this.booksService.getBooks()\n      .subscribe(books => {\n          this.allBooks = books;\n          console.log(\"TAB3 BOOKS\", this.allBooks);\n      }, errmess => { \n\n        this.errMess = <any>errmess \n      \n      });\n\n  }\n\n  displayBooksByStatus(event) {\n\n    console.log(\"inside displayBooksBYStatus function\");\n    this.showAvailable = false;\n    this.showReserved = false;\n    this.showBorrowed = false;\n    this.showAll = false;\n\n    if (event.detail.value === 'Available') {\n        console.log(\"inside AVAILABLE condition\");\n        this.showAvailable = true;\n        this.availableBooks = [];\n        let i = 0;\n        let j = 0;\n        while (i < this.allBooks.length) {\n          \n          if (this.allBooks[i].bookcurrentstatus === 'available') {\n            this.availableBooks[j] = this.allBooks[i];\n            j++;\n          }\n          i++;\n        }\n\n        if (this.availableBooks === undefined || this.availableBooks.length == 0) {\n          this.presentToast(event.detail.value + \" - None exists\");\n        }\n        console.log(\"BOOK Status & COLLECTION\", event.detail.value, this.availableBooks.length)\n\n    }\n\n    if (event.detail.value === 'Reserved') {\n      console.log(\"inside RESERVED condition\");\n      this.showReserved = true;\n      this.reservedBooks = [];\n      let i = 0;\n      let j = 0;\n      while (i < this.allBooks.length) {\n        \n        if (this.allBooks[i].bookcurrentstatus === 'reserved') {\n          this.reservedBooks[j] = this.allBooks[i];\n          j++;\n        }\n        i++;\n      }\n      if (this.reservedBooks === undefined || this.reservedBooks.length == 0) {\n        this.presentToast(event.detail.value + \" - None exists\");\n      }\n      console.log(\"BOOK Status & COLLECTION\", event.detail.value, this.reservedBooks.length)\n    }\n\n    if (event.detail.value === 'Borrowed') {\n      console.log(\"inside BORROWED condition\");\n      this.showBorrowed = true;\n      this.borrowedBooks = [];\n      let i = 0;\n      let j = 0;\n      while (i < this.allBooks.length) {\n        \n        if (this.allBooks[i].bookcurrentstatus === 'borrowed') {\n          this.borrowedBooks[j] = this.allBooks[i];\n          j++;\n        }\n        i++;\n      }\n      if (this.borrowedBooks === undefined || this.borrowedBooks.length == 0) {\n        this.presentToast(event.detail.value + \" - None exists\");\n      }\n      console.log(\"BOOK Status & COLLECTION\", event.detail.value, this.borrowedBooks.length)\n     \n    }\n\n    if (event.detail.value === 'All') {\n      this.showAll = true;\n     \n    }\n  }\n\n  async presentToast(errmsg) {\n    const toast = await this.toastCtrl.create({\n      message: errmsg,\n      duration: 3000,\n      position: 'middle'\n    });\n    toast.present();\n  }\n\n  clearCache() {\n    this.imageLoaderService.clearCache();\n    \n    //refresher.complete();\n  }\n\n  onImageLoad(event) {\n    console.log(\"image ready\");\n  }\n\n  /*displayActionCollection(event) {\n\n\n    console.log(\"EVENT DETAIL VALUE\", event.detail.value);\n\n\n    if (event.detail.value === 'Lend Or Make Available') {\n        console.log(\"INSIDE LEND MAKE\");\n          \n          this.lendmake = true;\n          this.remove = false;\n          this.collectionEmptyAV = false;\n          let i=0;\n          let j=0;\n          console.log(\"--------\", this.books);\n          console.log(\"-----LENGTH-----\", this.books.length);\n\n          while (i<this.books.length) {\n              this.reservedService.isReserved(this.books[i]._id)\n              .subscribe(resp => { \n              console.log(resp); \n              this.reserved = <boolean>resp.exists;\n              if (this.reserved) {\n                console.log(\"BOOK\", resp.book);\n                this.reservedBooks[j] = resp.book;\n                console.log(\"RESERVED BOOK\", this.reservedBooks[j]);\n                j++;\n              }\n              if (this.reservedBooks.length == 0) {\n                this.collectionEmptyLM = true;\n              }\n            },err => console.log(err));\n            i++;          \n          }\n\n          i=0; j=0;\n\n          while (i<this.books.length) {\n            this.borrowedService.isBorrowed(this.books[i]._id)\n            .subscribe(resp => { \n            console.log(resp); \n            this.borrowed = <boolean>resp.exists;\n            if (this.borrowed) {\n              console.log(\"BOOK\", resp.book);\n              this.borrowedBooks[j] = resp.book;\n              console.log(\"BORROWED BOOK\", this.borrowedBooks[j]);\n              j++;\n            }\n            if (this.borrowedBooks.length == 0) {\n              this.collectionEmptyLM = true;\n            }\n          },err => console.log(err));\n          i++;          \n        }\n\n      this.bookLendMakeCollection = this.reservedBooks.concat(this.borrowedBooks);\n      console.log(\"bookLendMakeCollection\", this.bookLendMakeCollection);\n      if (this.bookLendMakeCollection.length == 0) {\n\n        this.collectionEmptyLM = true;\n        console.log(\"collectionEmptyLM\", this.collectionEmptyLM)\n      }\n\n    }\n\n    if (event.detail.value === 'Remove') {\n        //this.ngOnInit();\n        this.remove = true;\n        this.lendmake = false;\n        this.collectionEmptyLM = false;\n        console.log(\"COLLECTION EMPTY AV\", this.collectionEmptyAV);\n        console.log(\"INSIDE REMOVE\");\n        let i=0;\n        let j=0;\n        console.log(\"--------\", this.books);\n        console.log(\"-----LENGTH-----\", this.books.length);\n        while (i<this.books.length) {\n            this.availableService.isAvailable(this.books[i]._id)\n            .subscribe(resp => { \n            console.log(resp); \n            this.available = <boolean>resp.exists;\n            if (this.available) {\n              console.log(\"BOOK\", resp.book);\n              this.availableBooks[j] = resp.book;\n              console.log(\"AVAILABLE BOOK\", this.availableBooks[j]);\n              j++;\n            }\n           console.log(\"AVAILABLE BOOKSSSS\", this.availableBooks)\n           if (this.availableBooks.length == 0) {\n            this.collectionEmptyAV = true;\n          }\n          \n          },err => console.log(err));\n\n          i++;          \n        }\n\n      \n    }\n  }*/\n\n  prepareBookIdsImagesMap() {\n\n    // get all the  bookIds\n    // for every  bookID get the corresponding imageURL\n    // store image URL against the bookID in a map\n    // when displaying a view, for every book Id(key), get corresponding img url(value) from the map\n\n    this.booksService.getBookIds().subscribe(bookIds => {\n      this.bookIds = bookIds;\n      this.storeBookIds(this.bookIds);\n      this.lbookIds = this.loadBookIds();\n      for (let i=0; i < this.lbookIds.length; i++) {\n\n        this.booksService.getBookImage(this.lbookIds[i])\n        .subscribe(x => {\n            this.url = x;\n            console.log(\"this.url\", this.url);\n            this.bookIdImageMap.set(this.lbookIds[i], this.url);\n            console.log(\"book image map\", this.bookIdImageMap);\n        }, errMess => {\n          console.log(errMess)\n        \n        });\n\n\n      }\n    }, errmess => this.errMess = <any>errmess);\n  }\n\n  storeBookIds(bookIds: any[]) {\n   // console.log('BookIds stored are :', bookIds);\n    localStorage.setItem('bookIds', JSON.stringify(bookIds));\n  }\n\n  loadBookIds() {\n    this.bookIds = JSON.parse(localStorage.getItem('bookIds'));\n    console.log('bookIds ', this.bookIds);\n    if (this.bookIds) {\n      return this.bookIds;\n    }\n    return;\n  }\n\n\n  ngAfterViewInit() {\n\n  }\n\n  refreshBookList(event) {\n    setTimeout(() => {\n    this.booksService.getBooks()\n      .subscribe(books => {\n        this.books = books;\n      }, errmess => {\n        this.errMess = <any>errmess\n       \n      });\n\n      this.clearCache();\n      event.target.complete();\n\n    }, 2000);\n  }\n\n  setFilteredItems() {\n    this.books = this.searchedMyData.filterItems(this.searchTerm);\n    console.log(\"Searched my data\", this.books)\n   \n  }\n\n  deleteBook(id: string) {\n    console.log('Deleting Book ' + id);\n\n    this.booksService.deleteBook(id)\n    .subscribe(removebook => {\n      this.removebook = <Book>removebook\n      this.presentToast(\"Book removed successfully\");\n      },\n      errmess => {\n        this.errMess = <any>errmess\n        \n        \n      });\n\n    this.booksService.deleteBookImage(id)\n    .subscribe(resp => console.log(resp), errmess => this.errMess = <any>errmess);\n\n      this.delete = false;\n      this.ngOnInit();\n  }\n\n  getCodeValue(codeOpsName: string): CodeOps {\n\n    if (codeOpsName === 'xyz') {\n      return CodeOps.getQrCode;\n    }\n\n    if (codeOpsName === 'abc') {\n      return CodeOps.getScannedCode;\n    }\n    \n  }\n\n  async checkDeleteConfirmation(id: string) {\n\n    const alert = await this._alertController.create({\n     // header: \"All associated content will also be removed \",\n      message: \"All associated content will also be removed\",\n      header: \"Do you wish to proceed ?\",\n      buttons: [\n        {\n          text: \"Yes\",\n          handler: ()=> {\n           this.deleteBook(id);\n           this.ngOnInit(); \n          }\n        },\n        {\n          text: \"No\",\n          handler: ()=> {\n           return ;\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n  \n\n  async scanToLendOrRelease(id: string) {\n\n    const alert = await this._alertController.create({\n      header: \"Choose your action\",\n      message: \"Lend or Make Book Available\",\n      buttons: [\n        {\n          text: \"Lend\",\n          handler: ()=> {\n           this.scanForLend(id); \n          }\n        },\n        {\n          text: \"Make Available\",\n          handler: ()=> {\n           this.scanForRelease(id);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  getQRCheckString(id: string) {\n\n    //this.ngOnInit();\n    console.log(\"INSIDE GET CHECK QR STRING\")\n\n    for (let i=0; i < this.books.length; i++) {\n\n      if (this.books[i]._id === id) {\n        \n        \n         this.qrCheckString = this.books[i]._id +\n                              this.books[i].bookowner.username +\n                              this.books[i].bookcurrentuser;\n          console.log(\"QR CHECK STRING\", this.qrCheckString);\n          return this.qrCheckString;\n      }\n      //break;\n    }\n    \n  }\n\n  scanForLend(id) {\n\n    console.log(\"INSIDE LEND\");\n    \n    this.booksService.getBook(id)\n                  .subscribe(book => {\n                  \n                   this.bookcurrentUsername = book.bookcurrentuser;\n                   this.qrCheckString = book._id +\n                                        book.bookowner.username +\n                                        book.bookcurrentuser;\n      \n                  console.log(\"QR CHECK STRING IS\", this.qrCheckString);\n\n                  const options: BarcodeScannerOptions = {\n                    preferFrontCamera: false,\n                    showFlipCameraButton: true,\n                    showTorchButton: true,\n                    torchOn: false,\n                    prompt: 'Place a barcode inside the scan area',\n                    resultDisplayDuration: 500,\n                    formats: 'EAN_13,EAN_8,QR_CODE,PDF_417 ',\n                    orientation: 'portrait',\n                  };\n              \n                  this.barCodeScanner.scan(options).then(barcodeData => {\n                   \n                    console.log(\"CHECK STRING IS ------>\", this.qrCheckString);\n                    this.scannedData = barcodeData;\n                    console.log(\"SCANNED DATA IS ------> \", this.scannedData[\"text\"]);\n\n                    if(this.qrCheckString === this.scannedData[\"text\"]) {\n\n                      console.log(\"MATCH SUCCESS\")\n                      console.log('LENDING BOOK ' + id);\n                      this.presentToast(\"Authorization Successful\")\n                          this.router.navigate([this.currentRouter]);\n                          this.book = book;\n                          this.book.bookavailable = false;\n                          this.book.bookreserved = true;\n                          this.book.bookborrowed = true;\n                          this.book.bookcurrentuser = this.bookcurrentUsername;\n                          this.book.bookcurrentstatus = 'borrowed';\n                          this.booksService.lendBook(id, this.book)\n                          .subscribe(book => {\n                            console.log(book); \n                            this.borrowed = true; \n                            this.reserved = true;\n                            this.qrCheckString = \"\";\n                            this.presentToast(\"Book is in borrowed status\")\n                          });\n              \n                          \n                          this.ngOnInit();\n              \n                         \n                      \n                    }\n                    else {\n                      this.presentToast(\"QR Codes mismatch. Authorization failed\")\n                      console.log(\"QR Codes mismatch. Authorization failed\");\n                    }\n                    \n                  })\n                  .catch(err => {\n                    \n                        console.log('Error', err);\n                       \n                      });\n\n\n      \n                  },  errmess => this.errMess = <any>errmess);\n        \n  }\n\n  scanForRelease(id) {\n\n    console.log(\"INSIDE MAKE AVAILABLE\");\n    \n    this.booksService.getBook(id)\n                  .subscribe(book => {\n                  \n                   this.bookcurrentUsername = book.bookcurrentuser;\n                   this.qrCheckString = book._id +\n                                        book.bookowner.username +\n                                        book.bookcurrentuser;\n      \n                  console.log(\"QR CHECK STRING IS\", this.qrCheckString);\n\n                  const options: BarcodeScannerOptions = {\n                    preferFrontCamera: false,\n                    showFlipCameraButton: true,\n                    showTorchButton: true,\n                    torchOn: false,\n                    prompt: 'Place a barcode inside the scan area',\n                    resultDisplayDuration: 500,\n                    formats: 'EAN_13,EAN_8,QR_CODE,PDF_417 ',\n                    orientation: 'portrait',\n                  };\n              \n                  this.barCodeScanner.scan(options).then(barcodeData => {\n                   \n                    console.log(\"CHECK STRING IS ------>\", this.qrCheckString);\n                    this.scannedData = barcodeData;\n                    console.log(\"SCANNED DATA IS ------> \", this.scannedData[\"text\"]);\n\n                    if(this.qrCheckString === this.scannedData[\"text\"]) {\n\n                      console.log(\"MATCH SUCCESS\")\n                      console.log('RELEASING BOOK ' + id);\n                      this.presentToast(\"Authorization Successful\")\n                      this.router.navigate([this.currentRouter]);\n                     \n                      //this.book.bookcurrentuser = \"\";\n\n\n                      this.booksService.deleteQRBookImage(id, this.bookcurrentUsername)\n                          .subscribe(resp => {\n                            console.log(resp)\n                            console.log(\"QR IMAGE DELETED\");\n\n                            this.book = book;\n                            this.book.bookavailable = true;\n                            this.book.bookreserved = false;\n                            this.book.bookborrowed = false;\n                            this.book.bookcurrentuser = \"\";\n                            this.book.bookcurrentstatus = 'available';\n                            this.booksService.releaseBook(this.book._id, this.book)\n                            .subscribe(book => {\n                                console.log(book); \n                                this.available = true; \n                                this.reserved = false;\n                                this.qrCheckString = \"\";\n                                this.presentToast(\"Book is now available\")\n                              });\n\n\n                          }, errmess => this.errMess = <any>errmess);\n\n                     \n                          \n                      this.ngOnInit();\n              \n                    }\n                    else {\n                      console.log(\"QR CODES DON'T MATCH\");\n                      this.presentToast(\"QR Codes mismatch. Authorization failed\")\n                    }\n                    \n                  })\n                  .catch(err => {\n                    \n                    console.log('Error', err);\n                   \n                  });\n\n\n      \n                  },  errmess => this.errMess = <any>errmess);\n        \n  }\n\n\n\n\n  /*scanForRelease1(id) {\n\n    console.log(\"INSIDE SCAN FOR RELEASE\");\n\n    this.qrCheckString = this.getQRCheckString(id);\n\n    if (this.qrCheckString) {\n        console.log(\"QR CHECK STRING IS\", this.qrCheckString);\n\n\n        const options: BarcodeScannerOptions = {\n          preferFrontCamera: false,\n          showFlipCameraButton: true,\n          showTorchButton: true,\n          torchOn: false,\n          prompt: 'Place a barcode inside the scan area',\n          resultDisplayDuration: 500,\n          formats: 'EAN_13,EAN_8,QR_CODE,PDF_417 ',\n          orientation: 'portrait',\n        };\n\n        this.barCodeScanner.scan(options).then(barcodeData => {\n          //console.log('Barcode data', barcodeData);\n          console.log(\"CHECK STRING IS ------>\", this.qrCheckString);\n          this.scannedData = barcodeData;\n          console.log(\"SCANNED DATA IS ------> \", this.scannedData[\"text\"]);\n          \n          if(this.qrCheckString === this.scannedData[\"text\"]) {\n            console.log(\"MATCH SUCCESS\")\n            console.log('RELEASING BOOK ' + id);\n\n            this.booksService.getBook(id)\n            .subscribe(book => {\n              this.router.navigate([this.currentRouter]);\n              this.book = book;\n              this.book.bookavailable = true;\n              this.book.bookreserved = false;\n              this.book.bookborrowed = false;\n              this.book.bookcurrentuser = \"\";\n              this.booksService.releaseBook(this.book._id, this.book)\n              .subscribe(book => {\n                  console.log(book); \n                  this.available = true; \n                  this.reserved = false;\n                  this.qrCheckString = '';\n                  console.log(\"ABOUT TO DELETE QR IMAGE FOR THIS BOOK ID\", id);\n                  this.booksService.deleteQRBookImage(id)\n                  .subscribe(resp => console.log(resp), errmess => this.errMess = <any>errmess);\n        \n                });\n              },  errmess => this.errMess = <any>errmess);\n            this.ngOnInit();\n          }\n          else {\n            console.log(\"QR CODES DON'T MATCH\");\n          }\n          \n        })\n        .catch(err => {console.log('Error', err);});\n                \n    } \n    else {\n      console.log(\"QR CHECK STRING NOT FOUND\");\n    }\n\n  }*/\n\n \n\n  /*\n\n  this.reservedService.isReserved(this.book._id)\n  .subscribe(resp => { console.log(resp); this.reserved = <boolean>resp.exists; },\n      err => console.log(err));\n\n   this.availableService.isAvailable(this.book._id)\n   .subscribe(resp => { console.log(resp); this.available = <boolean>resp.exists; },\n      err => console.log(err));\n\n\n          */\n\n  \n\n  loadMoreBooks(event) {\n    setTimeout(() => {\n    /*  this.bookList = this.books;\n      const newBooks = [...this.bookList];\n      this.books = this.bookList.concat(newBooks);*/\n    }, 3000);\n  }\n\n\n\n  async addBookModal() {\n\n    const addbookModal = await this._modalController.create({\n      component: AddbookPage\n    });\n\n    return addbookModal.present();\n  }\n\n  async arBookModal(id: string, name: string) {\n\n    const arbookModal = await this._modalController.create({\n      component: ArbookPage,\n      componentProps: {\n        bookId: id,\n        bookName: name\n      }\n    });\n\n    return arbookModal.present();\n  }\n\n\n\n}\n"],"sourceRoot":""}