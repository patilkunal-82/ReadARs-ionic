(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{W9vR:function(n,l,e){"use strict";e.r(l);var o=e("CcnG"),t=function(){return function(){}}(),r=e("oBZk"),i=e("ZZ/e"),u=e("gIcY"),a=e("Ip0R"),c=e("mrSG"),s=e("a3Cf"),b=function(n){function l(){var l=null!==n&&n.apply(this,arguments)||this;return l.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},l}return Object(c.d)(l,n),l.prototype.getFreeDiskSpace=function(){var n=this;return function(){if(!0===Object(s.checkAvailability)(n))return Object(s.getPromise)(function(n,l){cordova.exec(n,l,"File","getFreeDiskSpace",[])})}()},l.prototype.checkDir=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e)){if(/^\//.test(l)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return e.resolveDirectoryUrl(n+l).then(function(){return!0})}}()},l.prototype.createDir=function(n,l,e){var o=this;return function(){if(!0===Object(s.checkAvailability)(o)){if(/^\//.test(l)){var t=new FileError(5);return t.message="directory cannot start with /",Promise.reject(t)}var r={create:!0};return e||(r.exclusive=!0),o.resolveDirectoryUrl(n).then(function(n){return o.getDirectory(n,l,r)})}}()},l.prototype.removeDir=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e)){if(/^\//.test(l)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return e.resolveDirectoryUrl(n).then(function(n){return e.getDirectory(n,l,{create:!1})}).then(function(n){return e.remove(n)})}}()},l.prototype.moveDir=function(n,l,e,o){var t=this;return function(){if(!0===Object(s.checkAvailability)(t)){if(/^\//.test(o=o||l)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return t.resolveDirectoryUrl(n).then(function(n){return t.getDirectory(n,l,{create:!1})}).then(function(n){return t.resolveDirectoryUrl(e).then(function(l){return t.move(n,l,o)})})}}()},l.prototype.copyDir=function(n,l,e,o){var t=this;return function(){if(!0===Object(s.checkAvailability)(t)){if(/^\//.test(o)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return t.resolveDirectoryUrl(n).then(function(n){return t.getDirectory(n,l,{create:!1})}).then(function(n){return t.resolveDirectoryUrl(e).then(function(l){return t.copy(n,l,o)})})}}()},l.prototype.listDir=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e)){if(/^\//.test(l)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return e.resolveDirectoryUrl(n).then(function(n){return e.getDirectory(n,l,{create:!1,exclusive:!1})}).then(function(n){var l=n.createReader();return e.readEntries(l)})}}()},l.prototype.removeRecursively=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e)){if(/^\//.test(l)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return e.resolveDirectoryUrl(n).then(function(n){return e.getDirectory(n,l,{create:!1})}).then(function(n){return e.rimraf(n)})}}()},l.prototype.checkFile=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e)){if(/^\//.test(l)){var o=new FileError(5);return o.message="file cannot start with /",Promise.reject(o)}return e.resolveLocalFilesystemUrl(n+l).then(function(n){if(n.isFile)return!0;var l=new FileError(13);return l.message="input is not a file",Promise.reject(l)})}}()},l.prototype.createFile=function(n,l,e){var o=this;return function(){if(!0===Object(s.checkAvailability)(o)){if(/^\//.test(l)){var t=new FileError(5);return t.message="file-name cannot start with /",Promise.reject(t)}var r={create:!0};return e||(r.exclusive=!0),o.resolveDirectoryUrl(n).then(function(n){return o.getFile(n,l,r)})}}()},l.prototype.removeFile=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e)){if(/^\//.test(l)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}return e.resolveDirectoryUrl(n).then(function(n){return e.getFile(n,l,{create:!1})}).then(function(n){return e.remove(n)})}}()},l.prototype.writeFile=function(n,l,e,o){var t=this;return void 0===o&&(o={}),function(){if(!0===Object(s.checkAvailability)(t)){if(/^\//.test(l)){var r=new FileError(5);return r.message="file-name cannot start with /",Promise.reject(r)}var i={create:!o.append,exclusive:!o.replace};return t.resolveDirectoryUrl(n).then(function(n){return t.getFile(n,l,i)}).then(function(n){return t.writeFileEntry(n,e,o)})}}()},l.prototype.writeFileEntry=function(n,l,e){var o=this;return this.createWriter(n).then(function(n){return e.append&&n.seek(n.length),e.truncate&&n.truncate(e.truncate),o.write(n,l)}).then(function(){return n})},l.prototype.writeExistingFile=function(n,l,e){var o=this;return function(){if(!0===Object(s.checkAvailability)(o))return o.writeFile(n,l,e,{replace:!0})}()},l.prototype.readAsText=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e))return e.readFile(n,l,"Text")}()},l.prototype.readAsDataURL=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e))return e.readFile(n,l,"DataURL")}()},l.prototype.readAsBinaryString=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e))return e.readFile(n,l,"BinaryString")}()},l.prototype.readAsArrayBuffer=function(n,l){var e=this;return function(){if(!0===Object(s.checkAvailability)(e))return e.readFile(n,l,"ArrayBuffer")}()},l.prototype.moveFile=function(n,l,e,o){var t=this;return function(){if(!0===Object(s.checkAvailability)(t)){if(/^\//.test(o=o||l)){var r=new FileError(5);return r.message="file name cannot start with /",Promise.reject(r)}return t.resolveDirectoryUrl(n).then(function(n){return t.getFile(n,l,{create:!1})}).then(function(n){return t.resolveDirectoryUrl(e).then(function(l){return t.move(n,l,o)})})}}()},l.prototype.copyFile=function(n,l,e,o){var t=this;return function(){if(!0===Object(s.checkAvailability)(t)){if(/^\//.test(o=o||l)){var r=new FileError(5);return r.message="file name cannot start with /",Promise.reject(r)}return t.resolveDirectoryUrl(n).then(function(n){return t.getFile(n,l,{create:!1})}).then(function(n){return t.resolveDirectoryUrl(e).then(function(l){return t.copy(n,l,o)})})}}()},l.prototype.fillErrorMessage=function(n){try{n.message=this.cordovaFileError[n.code]}catch(l){}},l.prototype.resolveLocalFilesystemUrl=function(n){var l=this;return function(){if(!0===Object(s.checkAvailability)(l))return Object(s.getPromise)(function(e,o){try{window.resolveLocalFileSystemURL(n,function(n){e(n)},function(n){l.fillErrorMessage(n),o(n)})}catch(t){l.fillErrorMessage(t),o(t)}})}()},l.prototype.resolveDirectoryUrl=function(n){var l=this;return function(){if(!0===Object(s.checkAvailability)(l))return l.resolveLocalFilesystemUrl(n).then(function(n){if(n.isDirectory)return n;var l=new FileError(13);return l.message="input is not a directory",Promise.reject(l)})}()},l.prototype.getDirectory=function(n,l,e){var o=this;return function(){if(!0===Object(s.checkAvailability)(o))return new Promise(function(t,r){try{n.getDirectory(l,e,function(n){t(n)},function(n){o.fillErrorMessage(n),r(n)})}catch(i){o.fillErrorMessage(i),r(i)}})}()},l.prototype.getFile=function(n,l,e){var o=this;return function(){if(!0===Object(s.checkAvailability)(o))return new Promise(function(t,r){try{n.getFile(l,e,t,function(n){o.fillErrorMessage(n),r(n)})}catch(i){o.fillErrorMessage(i),r(i)}})}()},l.prototype.readFile=function(n,l,e){var o=this;if(/^\//.test(l)){var t=new FileError(5);return t.message="file-name cannot start with /",Promise.reject(t)}return this.resolveDirectoryUrl(n).then(function(n){return o.getFile(n,l,{create:!1})}).then(function(n){var l=new FileReader;return Object(s.getPromise)(function(o,t){l.onloadend=function(){void 0!==l.result||null!==l.result?o(l.result):t(void 0!==l.error||null!==l.error?l.error:{code:null,message:"READER_ONLOADEND_ERR"})},n.file(function(n){l["readAs"+e].call(l,n)},function(n){t(n)})})})},l.prototype.remove=function(n){var l=this;return new Promise(function(e,o){n.remove(function(){e({success:!0,fileRemoved:n})},function(n){l.fillErrorMessage(n),o(n)})})},l.prototype.move=function(n,l,e){var o=this;return new Promise(function(t,r){n.moveTo(l,e,function(n){t(n)},function(n){o.fillErrorMessage(n),r(n)})})},l.prototype.copy=function(n,l,e){var o=this;return new Promise(function(t,r){n.copyTo(l,e,function(n){t(n)},function(n){o.fillErrorMessage(n),r(n)})})},l.prototype.readEntries=function(n){var l=this;return new Promise(function(e,o){n.readEntries(function(n){e(n)},function(n){l.fillErrorMessage(n),o(n)})})},l.prototype.rimraf=function(n){var l=this;return new Promise(function(e,o){n.removeRecursively(function(){e({success:!0,fileRemoved:n})},function(n){l.fillErrorMessage(n),o(n)})})},l.prototype.createWriter=function(n){var l=this;return new Promise(function(e,o){n.createWriter(function(n){e(n)},function(n){l.fillErrorMessage(n),o(n)})})},l.prototype.write=function(n,l){return l instanceof Blob?this.writeFileInChunks(n,l):new Promise(function(e,o){n.onwriteend=function(l){n.error?o(n.error):e(l)},n.write(l)})},l.prototype.writeFileInChunks=function(n,l){var e=1048576,o=0;function t(){var t=Math.min(e,l.size-o),r=l.slice(o,o+t);o+=t,n.write(r)}return Object(s.getPromise)(function(e,r){n.onerror=r,n.onwrite=function(){o<l.size?t():e()},t()})},Object.defineProperty(l.prototype,"applicationDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"applicationDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"applicationDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"applicationStorageDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"applicationStorageDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"applicationStorageDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dataDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"dataDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"dataDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cacheDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"cacheDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"cacheDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"externalApplicationStorageDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalApplicationStorageDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"externalApplicationStorageDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"externalDataDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalDataDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"externalDataDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"externalCacheDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalCacheDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"externalCacheDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"externalRootDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"externalRootDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"externalRootDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"tempDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"tempDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"tempDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"syncedDataDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"syncedDataDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"syncedDataDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"documentsDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"documentsDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"documentsDirectory",n)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"sharedDirectory",{get:function(){return Object(s.cordovaPropertyGet)(this,"sharedDirectory")},set:function(n){Object(s.cordovaPropertySet)(this,"sharedDirectory",n)},enumerable:!1,configurable:!0}),l.pluginName="File",l.plugin="cordova-plugin-file",l.pluginRef="cordova.file",l.repo="https://github.com/apache/cordova-plugin-file",l.platforms=["Android","Browser","iOS","macOS","Windows"],l}(s.IonicNativePlugin),d=["English","Hindi","Marathi","German","Tamil","Spanish","French","Telugu","Latin","Malyalam"],p=e("d5rD"),g=e("Pn9U"),h=function(){function n(n,l,e,o,t,r){this._modalController=n,this._alertController=l,this.booksService=e,this.fb=o,this._camera=t,this.file=r,this.dataReader=new FileReader,this.booklanguage=d,this.submitted=null,this.showForm=!0,this.panelOpenState=!1,this.formErrors={bookname:"",booklanguage:"",bookowneraddress:"",bookdescription:"",bookownertelnum:"",bookrating:"",bookauthor:""},this.validationMessages={bookname:{required:"Book Name is required.",minlength:"Book Name must be at least 1 character long.",maxlength:"BookName cannot be more than 40 characters long."},booklanguage:{required:"Book Language is required.",minlength:"Book Language must be at least 2 characters long.",maxlength:"Book Language cannot be more than 25 characters long."},bookowneraddress:{required:"Address is required."},bookownertelnum:{required:"Contact number is required.",pattern:"Contact number must contain only numbers."},booauthor:{required:"Author Name is required.",minlength:"Author Name must be at least 1 character long.",maxlength:"Author Name cannot be more than 40 characters long."}}}return n.prototype.ngOnInit=function(){var n=this;this.createForm(),this.booksService.getBooks().subscribe(function(l){n.books=l},function(l){return n.errMess=l}),document.querySelector("ion-button").addEventListener("click",this.onSubmit)},n.prototype.onFileChanged=function(n){var l=this;console.log(n),this.selectedFile=n.target.files[0];var e=new FileReader;e.readAsDataURL(n.target.files[0]),e.onload=function(n){l.imgURL=e.result,l.bookCoverImage=e.result},this.uploadData=new FormData,this.uploadData.append("imageFile",this.selectedFile,this.selectedFile.name),this.dataReader.readAsArrayBuffer(n.target.files[0])},n.prototype.createForm=function(){var n=this;this.addBookFormGroup=this.fb.group({bookname:["",[u.m.required,u.m.minLength(1),u.m.maxLength(40)]],booklanguage:["",[u.m.required,u.m.minLength(2),u.m.maxLength(25)]],bookowneraddress:["",[u.m.required]],bookdescription:["",[u.m.required,u.m.minLength(2),u.m.maxLength(200)]],bookownertelnum:["",[u.m.required,u.m.pattern]],bookrating:"5",bookauthor:["",[u.m.required,u.m.minLength(1),u.m.maxLength(200)]],bookcoverimage:""}),this.addBookFormGroup.valueChanges.subscribe(function(l){return n.onValueChanged(l)})},n.prototype.onValueChanged=function(n){if(this.addBookFormGroup){var l=this.addBookFormGroup;for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]="";var o=l.get(e);if(o&&o.dirty&&!o.valid){var t=this.validationMessages[e];for(var r in o.errors)o.errors.hasOwnProperty(r)&&(this.formErrors[e]+=t[r]+" ")}}}},n.prototype.onSubmit=function(){return c.b(this,void 0,void 0,function(){var n=this;return c.e(this,function(l){switch(l.label){case 0:return[4,this._alertController.create({header:"Add Book",message:"Select your option..",buttons:[{text:"Add this",handler:function(){n.addbook=n.addBookFormGroup.value,console.log(n.addbook),n.showForm=!1,n.booksService.addBook(n.addbook).subscribe(function(l){console.log("response received"),n.submitted=l,n.booksService.uploadImage(n.submitted._id,n.uploadData).subscribe(function(l){console.log(l),n.receivedImageData=l,n.base64Data=n.receivedImageData.pic,n.convertedImage="data:image/jpeg;base64,"+n.base64Data}),n.addbook=null,setTimeout(function(){n.submitted=null,n.showForm=!0},5e3)},function(n){return console.log(n.status,n.message)}),n.addBookFormGroup.reset({bookname:"",booklanguage:"",bookowneraddress:"",bookdescription:"",bookownertelnum:"",bookrating:"5"}),n.addbookDetailsFormDirective.resetForm(),n.closeModal()}},{text:"Add this & 1 more",handler:function(){n.addbook=n.addBookFormGroup.value,console.log(n.addbook),n.showForm=!1,n.booksService.addBook(n.addbook).subscribe(function(l){console.log("response received"),n.submitted=l,console.log(n.submitted),n.booksService.uploadImage(n.submitted._id,n.uploadData).subscribe(function(l){console.log(l),n.receivedImageData=l,n.base64Data=n.receivedImageData.pic,n.convertedImage="data:image/jpeg;base64,"+n.base64Data}),n.addbook=null,setTimeout(function(){n.submitted=null,n.showForm=!0},5e3)},function(n){return console.log(n.status,n.message)}),n.addBookFormGroup.reset({bookname:"",booklanguage:"",bookowneraddress:"",bookdescription:"",bookownertelnum:"",bookrating:"5"}),n.addbookDetailsFormDirective.resetForm()}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.selectImageSource=function(){return c.b(this,void 0,void 0,function(){var n,l,e=this;return c.e(this,function(o){switch(o.label){case 0:return n={quality:100,destinationType:this._camera.DestinationType.DATA_URL,encodingType:this._camera.EncodingType.JPEG,mediaType:this._camera.MediaType.PICTURE,targetHeight:200,correctOrientation:!0,sourceType:this._camera.PictureSourceType.CAMERA},l={quality:100,destinationType:this._camera.DestinationType.DATA_URL,encodingType:this._camera.EncodingType.JPEG,mediaType:this._camera.MediaType.PICTURE,targetHeight:200,correctOrientation:!0,sourceType:this._camera.PictureSourceType.SAVEDPHOTOALBUM},[4,this._alertController.create({header:"Select Source",message:"Pick a source for your image",buttons:[{text:"Camera",handler:function(){e._camera.getPicture(n).then(function(n){e.imageData=n,e.image=window.Ionic.WebView.convertFileSrc(n);var l=new FileReader,o=new Blob([l.result],{type:"image/jpeg"});e.uploadData=new FormData,e.uploadData.append("imageFile",o)},function(n){console.log(n)})}},{text:"Gallery",handler:function(){e._camera.getPicture(l).then(function(n){e.bookCoverImage="data:image/jpeg;base64,"+n,e.uploadData=new FormData,e.uploadData.append("imageFile",e.bookCoverImage)})}}]})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2]}})})},n.prototype.dataURItoBlob=function(n){for(var l=window.atob(n),e=new ArrayBuffer(l.length),o=new Uint8Array(e),t=0;t<l.length;t++)o[t]=l.charCodeAt(t);return new Blob([o],{type:"image/jpeg"})},n.prototype.closeModal=function(){console.log("inside close modal"),this._modalController.dismiss()},n}(),f=o.nb({encapsulation:0,styles:[[".book-img[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid gray;margin:5px auto}"]],data:{}});function m(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.yb,r.H)),o.ob(1,49152,null,0,i.mb,[o.h,o.k],{value:[0,"value"]},null),(n()(),o.Fb(2,0,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function y(n){return o.Hb(0,[o.Db(402653184,1,{addbookDetailsFormDirective:0}),(n()(),o.pb(1,0,null,null,6,"ion-header",[],null,null,null,r.hb,r.p)),o.ob(2,49152,null,0,i.A,[o.h,o.k],null,null),(n()(),o.pb(3,0,null,0,4,"ion-toolbar",[],null,null,null,r.Jb,r.R)),o.ob(4,49152,null,0,i.Ab,[o.h,o.k],null,null),(n()(),o.pb(5,0,null,0,2,"ion-title",[],null,null,null,r.Ib,r.Q)),o.ob(6,49152,null,0,i.yb,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,["Add new book.."])),(n()(),o.pb(8,0,null,null,113,"ion-content",[],null,null,null,r.db,r.l)),o.ob(9,49152,null,0,i.t,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,111,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0;return"submit"===l&&(t=!1!==o.yb(n,12).onSubmit(e)&&t),"reset"===l&&(t=!1!==o.yb(n,12).onReset()&&t),t},null,null)),o.ob(11,16384,null,0,u.o,[],null,null),o.ob(12,540672,[[1,4],["fform",4]],0,u.e,[[8,null],[8,null]],{form:[0,"form"]},null),o.Cb(2048,null,u.a,null,[u.e]),o.ob(14,16384,null,0,u.j,[[4,u.a]],null,null),(n()(),o.pb(15,0,null,null,11,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(16,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(17,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,r.rb,r.z)),o.ob(18,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Book Name:"])),(n()(),o.pb(20,0,null,0,6,"ion-input",[["formControlName","bookname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,21)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,21)._handleInputEvent(e.target.value)&&t),t},r.mb,r.u)),o.ob(21,16384,null,0,i.Lb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Lb]),o.ob(23,671744,null,0,u.d,[[3,u.a],[8,null],[8,null],[6,u.g],[2,u.q]],{name:[0,"name"]},null),o.Cb(2048,null,u.h,null,[u.d]),o.ob(25,16384,null,0,u.i,[[4,u.h]],null,null),o.ob(26,49152,null,0,i.F,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.pb(27,0,null,null,8,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(28,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(29,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,r.rb,r.z)),o.ob(30,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Book Cover Image:"])),(n()(),o.pb(32,0,null,0,3,"ion-avatar",[["class","book-img"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.selectImageSource()&&o),o},r.T,r.b)),o.ob(33,49152,null,0,i.e,[o.h,o.k],null,null),(n()(),o.pb(34,0,null,0,1,"ion-img",[],null,null,null,r.jb,r.r)),o.ob(35,49152,null,0,i.C,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(36,0,null,null,13,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(37,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(38,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,r.rb,r.z)),o.ob(39,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Book Language:"])),(n()(),o.pb(41,0,null,0,8,"ion-select",[["formControlName","booklanguage"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,42)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,42)._handleChangeEvent(e.target.value)&&t),t},r.zb,r.G)),o.ob(42,16384,null,0,i.Kb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Kb]),o.ob(44,671744,null,0,u.d,[[3,u.a],[8,null],[8,null],[6,u.g],[2,u.q]],{name:[0,"name"]},null),o.Cb(2048,null,u.h,null,[u.d]),o.ob(46,16384,null,0,u.i,[[4,u.h]],null,null),o.ob(47,49152,null,0,i.lb,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,m)),o.ob(49,278528,null,0,a.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.pb(50,0,null,null,11,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(51,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(52,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,r.rb,r.z)),o.ob(53,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Book's Author:"])),(n()(),o.pb(55,0,null,0,6,"ion-input",[["formControlName","bookauthor"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,56)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,56)._handleInputEvent(e.target.value)&&t),t},r.mb,r.u)),o.ob(56,16384,null,0,i.Lb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Lb]),o.ob(58,671744,null,0,u.d,[[3,u.a],[8,null],[8,null],[6,u.g],[2,u.q]],{name:[0,"name"]},null),o.Cb(2048,null,u.h,null,[u.d]),o.ob(60,16384,null,0,u.i,[[4,u.h]],null,null),o.ob(61,49152,null,0,i.F,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.pb(62,0,null,null,11,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(63,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(64,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,r.rb,r.z)),o.ob(65,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Book Description:"])),(n()(),o.pb(67,0,null,0,6,"ion-input",[["formControlName","bookdescription"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,68)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,68)._handleInputEvent(e.target.value)&&t),t},r.mb,r.u)),o.ob(68,16384,null,0,i.Lb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Lb]),o.ob(70,671744,null,0,u.d,[[3,u.a],[8,null],[8,null],[6,u.g],[2,u.q]],{name:[0,"name"]},null),o.Cb(2048,null,u.h,null,[u.d]),o.ob(72,16384,null,0,u.i,[[4,u.h]],null,null),o.ob(73,49152,null,0,i.F,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.pb(74,0,null,null,11,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(75,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(76,0,null,0,2,"ion-text",[["color","medium"]],null,null,null,r.Fb,r.N)),o.ob(77,49152,null,0,i.vb,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Your Rating for the book:"])),(n()(),o.pb(79,0,null,0,6,"ion-range",[["formControlName","bookrating"],["max","5"],["min","1"],["name","rating"],["pin","true"],["snaps",""],["tickInterval","1"],["value","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,80)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,80)._handleChangeEvent(e.target.value)&&t),t},r.tb,r.B)),o.ob(80,16384,null,0,i.Kb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Kb]),o.ob(82,671744,null,0,u.d,[[3,u.a],[8,null],[8,null],[6,u.g],[2,u.q]],{name:[0,"name"]},null),o.Cb(2048,null,u.h,null,[u.d]),o.ob(84,16384,null,0,u.i,[[4,u.h]],null,null),o.ob(85,49152,null,0,i.ab,[o.h,o.k],{name:[0,"name"],min:[1,"min"],max:[2,"max"],pin:[3,"pin"],snaps:[4,"snaps"],value:[5,"value"]},null),(n()(),o.pb(86,0,null,null,11,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(87,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(88,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,r.rb,r.z)),o.ob(89,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Your address:"])),(n()(),o.pb(91,0,null,0,6,"ion-input",[["formControlName","bookowneraddress"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,92)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,92)._handleInputEvent(e.target.value)&&t),t},r.mb,r.u)),o.ob(92,16384,null,0,i.Lb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Lb]),o.ob(94,671744,null,0,u.d,[[3,u.a],[8,null],[8,null],[6,u.g],[2,u.q]],{name:[0,"name"]},null),o.Cb(2048,null,u.h,null,[u.d]),o.ob(96,16384,null,0,u.i,[[4,u.h]],null,null),o.ob(97,49152,null,0,i.F,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.pb(98,0,null,null,11,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(99,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(100,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,r.rb,r.z)),o.ob(101,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(-1,0,["Your contact number:"])),(n()(),o.pb(103,0,null,0,6,"ion-input",[["formControlName","bookownertelnum"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==o.yb(n,104)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,104)._handleInputEvent(e.target.value)&&t),t},r.mb,r.u)),o.ob(104,16384,null,0,i.Lb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Lb]),o.ob(106,671744,null,0,u.d,[[3,u.a],[8,null],[8,null],[6,u.g],[2,u.q]],{name:[0,"name"]},null),o.Cb(2048,null,u.h,null,[u.d]),o.ob(108,16384,null,0,u.i,[[4,u.h]],null,null),o.ob(109,49152,null,0,i.F,[o.h,o.k],{type:[0,"type"]},null),(n()(),o.pb(110,0,null,null,11,"ion-row",[],null,null,null,r.wb,r.E)),o.ob(111,49152,null,0,i.hb,[o.h,o.k],null,null),(n()(),o.pb(112,0,null,0,4,"ion-col",[],null,null,null,r.cb,r.k)),o.ob(113,49152,null,0,i.s,[o.h,o.k],null,null),(n()(),o.pb(114,0,null,0,2,"ion-button",[["expand","full"],["margin-top",""]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.onSubmit()&&o),o},r.V,r.d)),o.ob(115,49152,null,0,i.j,[o.h,o.k],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(n()(),o.Fb(-1,0,["Submit"])),(n()(),o.pb(117,0,null,0,4,"ion-col",[],null,null,null,r.cb,r.k)),o.ob(118,49152,null,0,i.s,[o.h,o.k],null,null),(n()(),o.pb(119,0,null,0,2,"ion-button",[["color","danger"],["expand","full"],["margin-top",""]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.closeModal()&&o),o},r.V,r.d)),o.ob(120,49152,null,0,i.j,[o.h,o.k],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),o.Fb(-1,0,["Cancel"]))],function(n,l){var e=l.component;n(l,12,0,e.addBookFormGroup),n(l,18,0,"medium"),n(l,23,0,"bookname"),n(l,26,0,"text"),n(l,30,0,"medium"),n(l,35,0,e.image),n(l,39,0,"medium"),n(l,44,0,"booklanguage"),n(l,49,0,e.booklanguage),n(l,53,0,"medium"),n(l,58,0,"bookauthor"),n(l,61,0,"text"),n(l,65,0,"medium"),n(l,70,0,"bookdescription"),n(l,73,0,"text"),n(l,77,0,"medium"),n(l,82,0,"bookrating"),n(l,85,0,"rating","1","5","true","","5"),n(l,89,0,"medium"),n(l,94,0,"bookowneraddress"),n(l,97,0,"text"),n(l,101,0,"medium"),n(l,106,0,"bookownertelnum"),n(l,109,0,"text"),n(l,115,0,e.addBookFormGroup.invalid,"full"),n(l,120,0,"danger","full")},function(n,l){n(l,10,0,o.yb(l,14).ngClassUntouched,o.yb(l,14).ngClassTouched,o.yb(l,14).ngClassPristine,o.yb(l,14).ngClassDirty,o.yb(l,14).ngClassValid,o.yb(l,14).ngClassInvalid,o.yb(l,14).ngClassPending),n(l,20,0,o.yb(l,25).ngClassUntouched,o.yb(l,25).ngClassTouched,o.yb(l,25).ngClassPristine,o.yb(l,25).ngClassDirty,o.yb(l,25).ngClassValid,o.yb(l,25).ngClassInvalid,o.yb(l,25).ngClassPending),n(l,41,0,o.yb(l,46).ngClassUntouched,o.yb(l,46).ngClassTouched,o.yb(l,46).ngClassPristine,o.yb(l,46).ngClassDirty,o.yb(l,46).ngClassValid,o.yb(l,46).ngClassInvalid,o.yb(l,46).ngClassPending),n(l,55,0,o.yb(l,60).ngClassUntouched,o.yb(l,60).ngClassTouched,o.yb(l,60).ngClassPristine,o.yb(l,60).ngClassDirty,o.yb(l,60).ngClassValid,o.yb(l,60).ngClassInvalid,o.yb(l,60).ngClassPending),n(l,67,0,o.yb(l,72).ngClassUntouched,o.yb(l,72).ngClassTouched,o.yb(l,72).ngClassPristine,o.yb(l,72).ngClassDirty,o.yb(l,72).ngClassValid,o.yb(l,72).ngClassInvalid,o.yb(l,72).ngClassPending),n(l,79,0,o.yb(l,84).ngClassUntouched,o.yb(l,84).ngClassTouched,o.yb(l,84).ngClassPristine,o.yb(l,84).ngClassDirty,o.yb(l,84).ngClassValid,o.yb(l,84).ngClassInvalid,o.yb(l,84).ngClassPending),n(l,91,0,o.yb(l,96).ngClassUntouched,o.yb(l,96).ngClassTouched,o.yb(l,96).ngClassPristine,o.yb(l,96).ngClassDirty,o.yb(l,96).ngClassValid,o.yb(l,96).ngClassInvalid,o.yb(l,96).ngClassPending),n(l,103,0,o.yb(l,108).ngClassUntouched,o.yb(l,108).ngClassTouched,o.yb(l,108).ngClassPristine,o.yb(l,108).ngClassDirty,o.yb(l,108).ngClassValid,o.yb(l,108).ngClassInvalid,o.yb(l,108).ngClassPending)})}function v(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,1,"app-addbook",[],null,null,null,y,f)),o.ob(1,114688,null,0,h,[i.Eb,i.a,p.a,u.b,g.a,b],null,null)],function(n,l){n(l,1,0)},null)}var k=o.lb("app-addbook",h,v,{},{},[]),C=e("pMnS"),w=["None","Tel","Email"],D=e("lGQG"),F=e("JhVf"),I=e("fNyx"),O=e("S6gA"),j=e("F/XL"),P=e("9Z1F"),E=e("mI4i"),B=e("lUK6"),x=e("t/Na"),S=function(){function n(n,l,e){this.http=n,this.auth=l,this.processHTTPMsgService=e}return n.prototype.isBorrowed=function(n){var l=this;return this.auth.isLoggedIn()?this.http.get(E.a+"borrowed/"+n).pipe(Object(P.a)(function(n){return l.processHTTPMsgService.handleError(n)})):Object(j.a)({exists:!1,book:null})},n.ngInjectableDef=o.S({factory:function(){return new n(o.W(x.c),o.W(D.a),o.W(B.a))},token:n,providedIn:"root"}),n}(),A=function(){function n(n,l){this.http=n,this.processHTTPMsgService=l}return n.prototype.submitFeedback=function(n){var l={headers:new x.h({"Content-Type":"application/json"})};return this.http.post(E.a+"feedback/",n,l).pipe(Object(P.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeedback=function(){return this.http.get(E.a+"feedback").pipe(Object(P.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeaturedFeedback=function(){return this.http.get(E.a+"feedback?rating=5").pipe(Object(P.a)(this.processHTTPMsgService.handleError))},n.ngInjectableDef=o.S({factory:function(){return new n(o.W(x.c),o.W(B.a))},token:n,providedIn:"root"}),n}(),T=e("LwiL"),R=function(){function n(n,l,e,o,t,r,i,a,c,s,b,p,g,h,f,m,y){this._camera=n,this._alertController=l,this._modalController=e,this.authService=o,this.navCtrl=t,this.readarsService=r,this.baseURL=i,this.router=a,this.route=c,this.searchedMyData=s,this.fb=b,this.feedbackservice=p,this.booksService=g,this.reservedService=h,this.borrowedService=f,this.availableService=m,this.activatedRoute=y,this.searchTerm="",this.bookIdsImages=new Map,this.bookIdImageMap=new Map,this.name="Angular",this.currentRouter=this.router.url,this.booklanguage=d,this.contactType=w,this.submitted=null,this.showForm=!0,this.panelOpenState=!1,this.searchControl=new u.c}return n.prototype.ngOnInit=function(){this.setFilteredItems(),this.authService.loadUserCredentials()},n.prototype.ionViewWillEnter=function(){var n=this;this.booksService.getBooks().subscribe(function(l){n.books=l},function(l){return n.errMess=l}),this.prepareBookIdsImagesMap()},n.prototype.prepareBookIdsImagesMap=function(){var n=this;this.booksService.getBookIds().subscribe(function(l){n.bookIds=l,n.storeBookIds(n.bookIds),n.lbookIds=n.loadBookIds();for(var e=function(l){n.booksService.getBookImage(n.lbookIds[l]).subscribe(function(e){n.url=e,console.log("this.url",n.url),n.bookIdImageMap.set(n.lbookIds[l],n.url),console.log("book image map",n.bookIdImageMap)},function(n){return console.log(n)})},o=0;o<n.lbookIds.length;o++)e(o)},function(l){return n.errMess=l})},n.prototype.storeBookIds=function(n){console.log("BookIds stored are :",n),localStorage.setItem("bookIds",JSON.stringify(n))},n.prototype.loadBookIds=function(){if(this.bookIds=JSON.parse(localStorage.getItem("bookIds")),console.log("bookIds ",this.bookIds),this.bookIds)return this.bookIds},n.prototype.ngAfterViewInit=function(){},n.prototype.refreshBookList=function(n){var l=this;setTimeout(function(){l.booksService.getBooks().subscribe(function(n){l.books=n},function(n){return l.errMess=n}),n.target.complete()},2e3)},n.prototype.setFilteredItems=function(){this.books=this.searchedMyData.filterItems(this.searchTerm),console.log("Searched my data",this.books)},n.prototype.deleteBook=function(n){var l=this;console.log("Deleting Book "+n),this.booksService.deleteBook(n).subscribe(function(n){return l.removebook=n},function(n){return l.errMess=n}),this.booksService.deleteBookImage(n).subscribe(function(n){return console.log(n)},function(n){return l.errMess=n}),this.delete=!1,this.ngOnInit()},n.prototype.lendBook=function(n){var l=this;console.log("Lending Book "+n),this.booksService.getBook(n).subscribe(function(e){l.router.navigate([l.currentRouter]),l.book=e,l.book.bookavailable=!1,l.book.bookreserved=!0,l.book.bookborrowed=!0,l.booksService.lendBook(n,l.book).subscribe(function(n){console.log(n),l.borrowed=!0,l.reserved=!0}),l.ngOnInit()},function(n){return l.errMess=n})},n.prototype.releaseBook=function(n){var l=this;console.log("Releasing Book "+n),this.booksService.getBook(n).subscribe(function(n){l.router.navigate([l.currentRouter]),l.book=n,l.book.bookavailable=!0,l.book.bookreserved=!1,l.book.bookborrowed=!1,l.booksService.releaseBook(l.book._id,l.book).subscribe(function(n){console.log(n),l.available=!0,l.reserved=!1})},function(n){return l.errMess=n}),this.ngOnInit()},n.prototype.loadMoreBooks=function(n){setTimeout(function(){},3e3)},n.prototype.addBookModal=function(){return c.b(this,void 0,void 0,function(){return c.e(this,function(n){switch(n.label){case 0:return[4,this._modalController.create({component:h})];case 1:return[2,n.sent().present()]}})})},n}(),M=e("ZYCi"),_=o.nb({encapsulation:0,styles:[[".profile-pic[_ngcontent-%COMP%]{width:200px;height:200px;border:1px solid gray;margin:10px auto}.welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.display_heading[_ngcontent-%COMP%]{margin:10px auto;padding:10px}.spinner-container[_ngcontent-%COMP%]{width:100%;text-align:center;padding:10px}.book-card[_ngcontent-%COMP%]{margin:5px;padding:10px}.book-image[_ngcontent-%COMP%]{border:1px solid gray;margin:5px}"]],data:{}});function L(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,4,"ion-chip",[["color","warning"]],null,null,null,r.bb,r.j)),o.ob(1,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(2,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Fb(-1,null,["Current status"])),(n()(),o.Fb(-1,0,[" : Reserved "]))],function(n,l){n(l,1,0,"warning")},null)}function U(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,4,"ion-chip",[["color","danger"]],null,null,null,r.bb,r.j)),o.ob(1,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(2,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Fb(-1,null,["Current status"])),(n()(),o.Fb(-1,0,[" : Borrowed "]))],function(n,l){n(l,1,0,"danger")},null)}function q(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,4,"ion-chip",[["color","success"]],null,null,null,r.bb,r.j)),o.ob(1,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(2,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Fb(-1,null,["Current status"])),(n()(),o.Fb(-1,0,[" : Available "]))],function(n,l){n(l,1,0,"success")},null)}function G(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/thumbs-up.svg"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.lendBook(n.parent.context.$implicit._id)&&o),o},r.ib,r.q)),o.ob(1,49152,null,0,i.B,[o.h,o.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/thumbs-up.svg")},null)}function N(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/make-available.svg"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.releaseBook(n.parent.context.$implicit._id)&&o),o},r.ib,r.q)),o.ob(1,49152,null,0,i.B,[o.h,o.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/make-available.svg")},null)}function H(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/trash.svg"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.deleteBook(n.parent.context.$implicit._id)&&o),o},r.ib,r.q)),o.ob(1,49152,null,0,i.B,[o.h,o.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/trash.svg")},null)}function V(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,37,"ion-item-sliding",[],null,null,null,r.pb,r.y)),o.ob(1,49152,null,0,i.L,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,21,"ion-item",[],null,null,null,r.qb,r.v)),o.ob(3,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,"ion-thumbnail",[],null,null,null,r.Hb,r.P)),o.ob(5,49152,null,0,i.xb,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,"ion-img",[["class","book-image"]],null,null,null,r.jb,r.r)),o.ob(7,49152,null,0,i.C,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(8,0,null,0,15,"ion-label",[],null,null,null,r.rb,r.z)),o.ob(9,49152,null,0,i.M,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,13,"ion-card",[["class","book-card"]],null,null,null,r.ab,r.f)),o.ob(11,49152,null,0,i.l,[o.h,o.k],null,null),(n()(),o.pb(12,0,null,0,4,"ion-chip",[["color","primary"]],null,null,null,r.bb,r.j)),o.ob(13,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(14,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),o.Fb(15,null,["",""])),(n()(),o.Fb(16,0,[", ",""])),(n()(),o.pb(17,0,null,0,0,"p",[],null,null,null,null,null)),(n()(),o.gb(16777216,null,0,1,null,L)),o.ob(19,16384,null,0,a.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,U)),o.ob(21,16384,null,0,a.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,q)),o.ob(23,16384,null,0,a.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(24,0,null,0,13,"ion-item-options",[["side","end"]],null,null,null,r.ob,r.x)),o.ob(25,49152,null,0,i.K,[o.h,o.k],{side:[0,"side"]},null),(n()(),o.pb(26,0,null,0,3,"ion-item-option",[],null,null,null,r.nb,r.w)),o.ob(27,49152,null,0,i.J,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,G)),o.ob(29,16384,null,0,a.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(30,0,null,0,3,"ion-item-option",[],null,null,null,r.nb,r.w)),o.ob(31,49152,null,0,i.J,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,N)),o.ob(33,16384,null,0,a.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(34,0,null,0,3,"ion-item-option",[["color","danger"]],null,null,null,r.nb,r.w)),o.ob(35,49152,null,0,i.J,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.gb(16777216,null,0,1,null,H)),o.ob(37,16384,null,0,a.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,7,0,l.component.bookIdImageMap.get(l.context.$implicit._id)),n(l,13,0,"primary"),n(l,19,0,l.context.$implicit.isReserved&&!l.context.$implicit.isBorrowed),n(l,21,0,l.context.$implicit.isBorrowed),n(l,23,0,l.context.$implicit.isAvailable),n(l,25,0,"end"),n(l,29,0,l.context.$implicit.isReserved&&!l.context.$implicit.isBorrowed&&!l.context.$implicit.isAvailable),n(l,33,0,l.context.$implicit.isReserved||l.context.$implicit.isBorrowed&&!l.context.$implicit.isAvailable),n(l,35,0,"danger"),n(l,37,0,l.context.$implicit.isAvailable)},function(n,l){n(l,15,0,l.context.$implicit.bookname),n(l,16,0,l.context.$implicit.booklanguage)})}function $(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,6,"ion-header",[],null,null,null,r.hb,r.p)),o.ob(1,49152,null,0,i.A,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,4,"ion-toolbar",[],null,null,null,r.Jb,r.R)),o.ob(3,49152,null,0,i.Ab,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,2,"ion-title",[],null,null,null,r.Ib,r.Q)),o.ob(5,49152,null,0,i.yb,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,[" Manage my books "])),(n()(),o.pb(7,0,null,null,59,"ion-content",[],null,null,null,r.db,r.l)),o.ob(8,49152,null,0,i.t,[o.h,o.k],null,null),(n()(),o.pb(9,0,null,0,6,"ion-card",[],null,null,null,r.ab,r.f)),o.ob(10,49152,null,0,i.l,[o.h,o.k],null,null),(n()(),o.pb(11,0,null,0,4,"ion-button",[["expand","full"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.addBookModal()&&o),o},r.V,r.d)),o.ob(12,49152,null,0,i.j,[o.h,o.k],{expand:[0,"expand"]},null),(n()(),o.Fb(-1,0,[" Add New Book "])),(n()(),o.pb(14,0,null,0,1,"ion-icon",[["src","../assets/icon/add-circle.svg"]],null,null,null,r.ib,r.q)),o.ob(15,49152,null,0,i.B,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(16,0,null,0,8,"ion-col",[],null,null,null,r.cb,r.k)),o.ob(17,49152,null,0,i.s,[o.h,o.k],null,null),(n()(),o.pb(18,0,null,0,6,"ion-searchbar",[["no-margin",""],["placeholder","Search my books by title or language ..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var t=!0,r=n.component;return"ionBlur"===l&&(t=!1!==o.yb(n,20)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,20)._handleInputEvent(e.target.value)&&t),"ngModelChange"===l&&(t=!1!==(r.searchTerm=e)&&t),"ionChange"===l&&(t=!1!==r.setFilteredItems()&&t),t},r.xb,r.F)),o.ob(19,49152,null,0,i.ib,[o.h,o.k],{placeholder:[0,"placeholder"]},null),o.ob(20,16384,null,0,i.Lb,[o.k],null,null),o.Cb(1024,null,u.g,function(n){return[n]},[i.Lb]),o.ob(22,671744,null,0,u.k,[[8,null],[8,null],[8,null],[6,u.g]],{model:[0,"model"]},{update:"ngModelChange"}),o.Cb(2048,null,u.h,null,[u.k]),o.ob(24,16384,null,0,u.i,[[4,u.h]],null,null),(n()(),o.pb(25,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,e){var o=!0;return"ionRefresh"===l&&(o=!1!==n.component.refreshBookList(e)&&o),o},r.vb,r.C)),o.ob(26,49152,null,0,i.bb,[o.h,o.k],null,null),(n()(),o.pb(27,0,null,0,1,"ion-refresher-content",[["pullingText","pull for update"],["refreshingText","...updating"]],null,null,null,r.ub,r.D)),o.ob(28,49152,null,0,i.cb,[o.h,o.k],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(n()(),o.pb(29,0,null,0,27,"ion-card",[],null,null,null,r.ab,r.f)),o.ob(30,49152,null,0,i.l,[o.h,o.k],null,null),(n()(),o.pb(31,0,null,0,4,"ion-chip",[["color","primary"],["outline",""]],null,null,null,r.bb,r.j)),o.ob(32,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"],outline:[1,"outline"]},null),(n()(),o.pb(33,0,null,0,2,"ion-label",[],null,null,null,r.rb,r.z)),o.ob(34,49152,null,0,i.M,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,["Slide left the book to.. "])),(n()(),o.pb(36,0,null,0,6,"ion-chip",[["color","danger"]],null,null,null,r.bb,r.j)),o.ob(37,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(38,0,null,0,1,"ion-icon",[["src","../assets/icon/trash.svg"]],null,null,null,r.ib,r.q)),o.ob(39,49152,null,0,i.B,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(40,0,null,0,2,"ion-label",[],null,null,null,r.rb,r.z)),o.ob(41,49152,null,0,i.M,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,["Remove"])),(n()(),o.pb(43,0,null,0,6,"ion-chip",[["color","primary"]],null,null,null,r.bb,r.j)),o.ob(44,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(45,0,null,0,1,"ion-icon",[["src","../assets/icon/thumbs-up.svg"]],null,null,null,r.ib,r.q)),o.ob(46,49152,null,0,i.B,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(47,0,null,0,2,"ion-label",[],null,null,null,r.rb,r.z)),o.ob(48,49152,null,0,i.M,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,["Lend"])),(n()(),o.pb(50,0,null,0,6,"ion-chip",[["color","primary"]],null,null,null,r.bb,r.j)),o.ob(51,49152,null,0,i.r,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(52,0,null,0,1,"ion-icon",[["src","../assets/icon/make-available.svg"]],null,null,null,r.ib,r.q)),o.ob(53,49152,null,0,i.B,[o.h,o.k],{src:[0,"src"]},null),(n()(),o.pb(54,0,null,0,2,"ion-label",[],null,null,null,r.rb,r.z)),o.ob(55,49152,null,0,i.M,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,["Return"])),(n()(),o.pb(57,0,null,0,5,"ion-card",[],null,null,null,r.ab,r.f)),o.ob(58,49152,null,0,i.l,[o.h,o.k],null,null),(n()(),o.pb(59,0,null,0,3,"ion-list",[],null,null,null,r.sb,r.A)),o.ob(60,49152,null,0,i.N,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,V)),o.ob(62,278528,null,0,a.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.pb(63,0,null,0,3,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(n,l,e){var o=!0;return"ionInfinite"===l&&(o=!1!==n.component.loadMoreBooks(e)&&o),o},r.lb,r.s)),o.ob(64,49152,null,0,i.D,[o.h,o.k],null,null),(n()(),o.pb(65,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","..loading"]],null,null,null,r.kb,r.t)),o.ob(66,49152,null,0,i.E,[o.h,o.k],{loadingText:[0,"loadingText"]},null)],function(n,l){var e=l.component;n(l,12,0,"full"),n(l,15,0,"../assets/icon/add-circle.svg"),n(l,19,0,"Search my books by title or language ..."),n(l,22,0,e.searchTerm),n(l,28,0,"pull for update","...updating"),n(l,32,0,"primary",""),n(l,37,0,"danger"),n(l,39,0,"../assets/icon/trash.svg"),n(l,44,0,"primary"),n(l,46,0,"../assets/icon/thumbs-up.svg"),n(l,51,0,"primary"),n(l,53,0,"../assets/icon/make-available.svg"),n(l,62,0,e.books),n(l,66,0,"..loading")},function(n,l){n(l,18,0,o.yb(l,24).ngClassUntouched,o.yb(l,24).ngClassTouched,o.yb(l,24).ngClassPristine,o.yb(l,24).ngClassDirty,o.yb(l,24).ngClassValid,o.yb(l,24).ngClassInvalid,o.yb(l,24).ngClassPending)})}function z(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,1,"app-tab3",[],null,null,null,$,_)),o.ob(1,4308992,null,0,R,[g.a,i.a,i.Eb,D.a,i.Fb,F.a,"baseURL",M.m,M.a,T.a,u.b,A,p.a,O.a,S,I.a,M.a],null,null)],function(n,l){n(l,1,0)},null)}var W=o.lb("app-tab3",R,z,{},{},[]),J=function(){return function(){}}();e.d(l,"Tab3PageModuleNgFactory",function(){return Y});var Y=o.mb(t,[],function(n){return o.vb([o.wb(512,o.j,o.bb,[[8,[k,C.a,W]],[3,o.j],o.x]),o.wb(4608,a.l,a.k,[o.u,[2,a.r]]),o.wb(4608,u.p,u.p,[]),o.wb(4608,i.b,i.b,[o.z,o.g]),o.wb(4608,i.Eb,i.Eb,[i.b,o.j,o.q,a.c]),o.wb(4608,i.Ib,i.Ib,[i.b,o.j,o.q,a.c]),o.wb(4608,u.b,u.b,[]),o.wb(1073742336,a.b,a.b,[]),o.wb(1073742336,u.n,u.n,[]),o.wb(1073742336,u.f,u.f,[]),o.wb(1073742336,i.Cb,i.Cb,[]),o.wb(1073742336,u.l,u.l,[]),o.wb(1073742336,J,J,[]),o.wb(1073742336,M.o,M.o,[[2,M.u],[2,M.m]]),o.wb(1073742336,t,t,[]),o.wb(1024,M.k,function(){return[[{path:"",component:R}]]},[])])})}}]);