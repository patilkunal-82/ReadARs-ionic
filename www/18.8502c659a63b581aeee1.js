(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{W9vR:function(n,l,o){"use strict";o.r(l);var e=o("CcnG"),t=function(){return function(){}}(),u=o("oBZk"),i=o("ZZ/e"),r=o("gIcY"),s=o("Ip0R"),a=o("mrSG"),c=o("azqb"),p=o("d5rD"),b=o("lGQG"),d=o("Pn9U"),h=o("Yttj"),g=o("t8sF"),m=o("iWj2"),f=function(){function n(n,l,o,e,t,u,i,r,s,a,p){this._modalController=n,this._alertController=l,this.booksService=o,this.fb=e,this._camera=t,this._webview=u,this.file=i,this.plt=r,this.filePath=s,this.authService=a,this.webview=p,this.dataReader=new FileReader,this.images=[],this.booklanguage=c.d,this.bookgenre=c.c,this.submitted=null,this.showForm=!0,this.panelOpenState=!1,this.username=void 0,this.formErrors={bookname:"",booklanguage:"",bookgenre:"",bookowneraddress:"",bookownertelnum:"",bookrating:"",bookauthor:""},this.validationMessages={bookname:{required:"Book Name is required.",minlength:"Book Name must be at least 1 character long.",maxlength:"BookName cannot be more than 40 characters long."},booklanguage:{required:"Book Language is required.",minlength:"Book Language must be at least 2 characters long.",maxlength:"Book Language cannot be more than 25 characters long."},bookgenre:{required:"Book Language is required.",minlength:"Book Language must be at least 2 characters long.",maxlength:"Book Language cannot be more than 25 characters long."},bookowneraddress:{required:"Address is required."},bookownertelnum:{required:"Contact number is required.",pattern:"Contact number must contain only numbers."},booauthor:{required:"Author Name is required.",minlength:"Author Name must be at least 1 character long.",maxlength:"Author Name cannot be more than 40 characters long."}}}return n.prototype.ngOnInit=function(){var n=this;this.createForm(),this.authService.loadUserCredentials(),this.subscription=this.authService.getUsername().subscribe(function(l){console.log(l),n.username=l}),this.booksService.getBooks().subscribe(function(l){n.books=l},function(l){return n.errMess=l}),document.querySelector("ion-button").addEventListener("click",this.onSubmit)},n.prototype.onFileChanged=function(n){console.log(n),this.selectedFile=n.target.files[0],console.log("Event",n),console.log("Event target files",n.target.files),console.log("selected file contnets",this.selectedFile),console.log("selected file name",this.selectedFile.name),this.uploadData=new FormData,this.uploadData.append("imageFile",this.selectedFile,this.selectedFile.name),this.dataReader.readAsArrayBuffer(n.target.files[0])},n.prototype.createForm=function(){var n=this;this.addBookFormGroup=this.fb.group({bookname:["",[r.m.required,r.m.minLength(1),r.m.maxLength(40)]],booklanguage:["",[r.m.required,r.m.minLength(2),r.m.maxLength(25)]],bookgenre:["",[r.m.required,r.m.minLength(2),r.m.maxLength(25)]],bookowneraddress:["",[r.m.required]],bookownertelnum:["",[r.m.required,r.m.pattern]],bookrating:"5",bookauthor:["",[r.m.required,r.m.minLength(1),r.m.maxLength(200)]],bookcoverimage:""}),this.addBookFormGroup.valueChanges.subscribe(function(l){return n.onValueChanged(l)})},n.prototype.onValueChanged=function(n){if(this.addBookFormGroup){var l=this.addBookFormGroup;for(var o in this.formErrors)if(this.formErrors.hasOwnProperty(o)){this.formErrors[o]="";var e=l.get(o);if(e&&e.dirty&&!e.valid){var t=this.validationMessages[o];for(var u in e.errors)e.errors.hasOwnProperty(u)&&(this.formErrors[o]+=t[u]+" ")}}}},n.prototype.onSubmit=function(){return a.a(this,void 0,void 0,function(){var n=this;return a.c(this,function(l){switch(l.label){case 0:return[4,this._alertController.create({header:"Add Book",message:"Select your option..",buttons:[{text:"Add this",handler:function(){n.addbook=n.addBookFormGroup.value,n.addbook.bookcurrentstatus="available",console.log(n.addbook),n.showForm=!1,n.booksService.addBook(n.addbook).subscribe(function(l){console.log("response received-BOOK ADDED"),n.submitted=l,n.booksService.uploadImage(n.submitted._id,n.uploadData).subscribe(function(l){console.log(l),n.receivedImageData=l,n.base64Data=n.receivedImageData.pic,n.convertedImage="data:image/jpeg;base64,"+n.base64Data}),n.addbook=null,setTimeout(function(){n.submitted=null,n.showForm=!0},5e3)},function(n){return console.log(n.status,n.message)}),n.addBookFormGroup.reset({bookname:"",booklanguage:"",bookgenre:"",bookowneraddress:"",bookownertelnum:"",bookrating:"5",bookcoverimage:""}),n.capturedImage=void 0,n.addbookDetailsFormDirective.resetForm(),n.closeModal()}},{text:"Add this & 1 more",handler:function(){n.addbook=n.addBookFormGroup.value,n.addbook.bookcurrentstatus="available",console.log(n.addbook),n.showForm=!1,n.booksService.addBook(n.addbook).subscribe(function(l){console.log("response received"),n.submitted=l,console.log(n.submitted),n.booksService.uploadImage(n.submitted._id,n.uploadData).subscribe(function(l){console.log(l),n.receivedImageData=l,n.base64Data=n.receivedImageData.pic,n.convertedImage="data:image/jpeg;base64,"+n.base64Data}),n.addbook=null,setTimeout(function(){n.submitted=null,n.showForm=!0},5e3)},function(n){return console.log(n.status,n.message)}),n.addBookFormGroup.reset({bookname:"",booklanguage:"",bookgenre:"",bookowneraddress:"",bookownertelnum:"",bookrating:"5",bookcoverimage:""}),n.capturedImage=void 0,n.addbookDetailsFormDirective.resetForm()}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.selectImageSource=function(){return a.a(this,void 0,void 0,function(){var n,l,o=this;return a.c(this,function(e){switch(e.label){case 0:return n={quality:100,destinationType:this._camera.DestinationType.FILE_URI,encodingType:this._camera.EncodingType.PNG,mediaType:this._camera.MediaType.PICTURE,targetHeight:180,targetWidth:100,correctOrientation:!0,sourceType:this._camera.PictureSourceType.CAMERA},l={quality:100,destinationType:this._camera.DestinationType.FILE_URI,encodingType:this._camera.EncodingType.PNG,mediaType:this._camera.MediaType.PICTURE,targetHeight:180,targetWidth:100,correctOrientation:!0,sourceType:this._camera.PictureSourceType.SAVEDPHOTOALBUM},[4,this._alertController.create({header:"Select Source",message:"Pick a source for your image",buttons:[{text:"Camera",handler:function(){o._camera.getPicture(n).then(function(n){console.log(n);var l=n.substring(n.lastIndexOf("/")+1),e=n.substring(0,n.lastIndexOf("/")+1);console.log("image name",l),console.log("image path",e),console.log("before read as data url"),o.file.readAsDataURL(e,l).then(function(n){return o.capturedImage=n}),console.log("after read as data url"),o.file.resolveLocalFilesystemUrl(n).then(function(n){console.log("inside resolve local file system url"),n.file(function(n){return o.readFile(n)})}).catch(function(n){console.log("error reading file")})},function(n){console.log(n)})}},{text:"Gallery",handler:function(){o._camera.getPicture(l).then(function(n){var l=n.substring(n.lastIndexOf("/")+1),e=n.substring(0,n.lastIndexOf("/")+1);o.file.readAsDataURL(e,l).then(function(n){return o.capturedImage=n}),o.file.resolveLocalFilesystemUrl(n).then(function(n){console.log("inside resolve local file system url"),n.file(function(n){return o.readFile(n)})}).catch(function(n){console.log("error reading file")})},function(n){console.log(n)})}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.readFile=function(n){var l=this,o=new FileReader;console.log("file type",n.type),console.log("file type",n.name),o.onloadend=function(){if(l.uploadData=new FormData,o.result){var e=new Blob([o.result],{type:n.type});l.uploadData.append("imageFile",e,n.name)}},o.readAsArrayBuffer(n)},n.prototype.closeModal=function(){console.log("inside close modal"),this._modalController.dismiss()},n}(),k=e.nb({encapsulation:0,styles:[[".book-img[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid gray;margin:5px auto}.displaycard[_ngcontent-%COMP%]{margin:5px;padding:5px}ion-button[_ngcontent-%COMP%]{--background:#F4F6F7}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}"]],data:{}});function v(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["src","../assets/icon/camera-outline.svg"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.selectImageSource()&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/camera-outline.svg")},null)}function y(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,4,"ion-img",[["formControlName","bookcoverimage"],["height","100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,u.pb,u.s)),e.ob(1,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[8,null],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(3,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(4,49152,null,0,i.C,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){var o=l.component;n(l,1,0,"bookcoverimage"),n(l,4,0,o.capturedImage)},function(n,l){n(l,0,0,e.yb(l,3).ngClassUntouched,e.yb(l,3).ngClassTouched,e.yb(l,3).ngClassPristine,e.yb(l,3).ngClassDirty,e.yb(l,3).ngClassValid,e.yb(l,3).ngClassInvalid,e.yb(l,3).ngClassPending)})}function I(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,u.Hb,u.L)),e.ob(1,49152,null,0,i.mb,[e.h,e.k],{value:[0,"value"]},null),(n()(),e.Gb(2,0,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function x(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,u.Hb,u.L)),e.ob(1,49152,null,0,i.mb,[e.h,e.k],{value:[0,"value"]},null),(n()(),e.Gb(2,0,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function C(n){return e.Ib(0,[e.Eb(402653184,1,{addbookDetailsFormDirective:0}),(n()(),e.pb(1,0,null,null,6,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,u.nb,u.q)),e.ob(2,49152,null,0,i.A,[e.h,e.k],{translucent:[0,"translucent"]},null),(n()(),e.pb(3,0,null,0,4,"ion-toolbar",[],null,null,null,u.Tb,u.W)),e.ob(4,49152,null,0,i.Ab,[e.h,e.k],null,null),(n()(),e.pb(5,0,null,0,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n               color: #FDFEFE  ; font-weight: bolder; font-size: 15px;"]],null,null,null,u.Sb,u.V)),e.ob(6,49152,null,0,i.yb,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,[" Add 1 or more books.. "])),(n()(),e.pb(8,0,null,null,118,"ion-content",[],null,null,null,u.jb,u.m)),e.ob(9,49152,null,0,i.t,[e.h,e.k],null,null),(n()(),e.pb(10,0,null,0,116,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,o){var t=!0;return"submit"===l&&(t=!1!==e.yb(n,12).onSubmit(o)&&t),"reset"===l&&(t=!1!==e.yb(n,12).onReset()&&t),t},null,null)),e.ob(11,16384,null,0,r.o,[],null,null),e.ob(12,540672,[[1,4],["fform",4]],0,r.e,[[8,null],[8,null]],{form:[0,"form"]},null),e.Db(2048,null,r.a,null,[r.e]),e.ob(14,16384,null,0,r.j,[[4,r.a]],null,null),(n()(),e.pb(15,0,null,null,11,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(16,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(17,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.wb,u.z)),e.ob(18,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Book Name:"])),(n()(),e.pb(20,0,null,0,6,"ion-input",[["formControlName","bookname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,o){var t=!0;return"ionBlur"===l&&(t=!1!==e.yb(n,21)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,21)._handleInputEvent(o.target.value)&&t),t},u.rb,u.u)),e.ob(21,16384,null,0,i.Nb,[e.k],null,null),e.Db(1024,null,r.g,function(n){return[n]},[i.Nb]),e.ob(23,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(25,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(26,49152,null,0,i.F,[e.h,e.k],{type:[0,"type"]},null),(n()(),e.pb(27,0,null,null,11,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(28,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(29,0,null,0,5,"ion-label",[["color","medium"]],null,null,null,u.wb,u.z)),e.ob(30,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Book Cover "])),(n()(),e.gb(16777216,null,0,1,null,v)),e.ob(33,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.Gb(-1,0,[": "])),(n()(),e.pb(35,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),e.ob(36,49152,null,0,i.xb,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,y)),e.ob(38,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(39,0,null,null,13,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(40,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(41,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.wb,u.z)),e.ob(42,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Book Genre:"])),(n()(),e.pb(44,0,null,0,8,"ion-select",[["formControlName","bookgenre"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,o){var t=!0;return"ionBlur"===l&&(t=!1!==e.yb(n,45)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,45)._handleChangeEvent(o.target.value)&&t),t},u.Ib,u.K)),e.ob(45,16384,null,0,i.Mb,[e.k],null,null),e.Db(1024,null,r.g,function(n){return[n]},[i.Mb]),e.ob(47,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(49,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(50,49152,null,0,i.lb,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,I)),e.ob(52,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(53,0,null,null,13,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(54,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(55,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.wb,u.z)),e.ob(56,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Book Language:"])),(n()(),e.pb(58,0,null,0,8,"ion-select",[["formControlName","booklanguage"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,o){var t=!0;return"ionBlur"===l&&(t=!1!==e.yb(n,59)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,59)._handleChangeEvent(o.target.value)&&t),t},u.Ib,u.K)),e.ob(59,16384,null,0,i.Mb,[e.k],null,null),e.Db(1024,null,r.g,function(n){return[n]},[i.Mb]),e.ob(61,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(63,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(64,49152,null,0,i.lb,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,x)),e.ob(66,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(67,0,null,null,11,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(68,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(69,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.wb,u.z)),e.ob(70,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Book's Author:"])),(n()(),e.pb(72,0,null,0,6,"ion-input",[["formControlName","bookauthor"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,o){var t=!0;return"ionBlur"===l&&(t=!1!==e.yb(n,73)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,73)._handleInputEvent(o.target.value)&&t),t},u.rb,u.u)),e.ob(73,16384,null,0,i.Nb,[e.k],null,null),e.Db(1024,null,r.g,function(n){return[n]},[i.Nb]),e.ob(75,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(77,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(78,49152,null,0,i.F,[e.h,e.k],{type:[0,"type"]},null),(n()(),e.pb(79,0,null,null,11,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(80,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(81,0,null,0,2,"ion-text",[["color","medium"]],null,null,null,u.Pb,u.S)),e.ob(82,49152,null,0,i.vb,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Your Rating for the book:"])),(n()(),e.pb(84,0,null,0,6,"ion-range",[["formControlName","bookrating"],["max","5"],["min","1"],["name","rating"],["pin","true"],["snaps",""],["tickInterval","1"],["value","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,o){var t=!0;return"ionBlur"===l&&(t=!1!==e.yb(n,85)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,85)._handleChangeEvent(o.target.value)&&t),t},u.Ab,u.D)),e.ob(85,16384,null,0,i.Mb,[e.k],null,null),e.Db(1024,null,r.g,function(n){return[n]},[i.Mb]),e.ob(87,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(89,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(90,49152,null,0,i.ab,[e.h,e.k],{name:[0,"name"],min:[1,"min"],max:[2,"max"],pin:[3,"pin"],snaps:[4,"snaps"],value:[5,"value"]},null),(n()(),e.pb(91,0,null,null,11,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(92,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(93,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.wb,u.z)),e.ob(94,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Your address:"])),(n()(),e.pb(96,0,null,0,6,"ion-input",[["formControlName","bookowneraddress"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,o){var t=!0;return"ionBlur"===l&&(t=!1!==e.yb(n,97)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,97)._handleInputEvent(o.target.value)&&t),t},u.rb,u.u)),e.ob(97,16384,null,0,i.Nb,[e.k],null,null),e.Db(1024,null,r.g,function(n){return[n]},[i.Nb]),e.ob(99,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(101,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(102,49152,null,0,i.F,[e.h,e.k],{type:[0,"type"]},null),(n()(),e.pb(103,0,null,null,11,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(104,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(105,0,null,0,2,"ion-label",[["color","medium"]],null,null,null,u.wb,u.z)),e.ob(106,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Your contact number:"])),(n()(),e.pb(108,0,null,0,6,"ion-input",[["formControlName","bookownertelnum"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,o){var t=!0;return"ionBlur"===l&&(t=!1!==e.yb(n,109)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,109)._handleInputEvent(o.target.value)&&t),t},u.rb,u.u)),e.ob(109,16384,null,0,i.Nb,[e.k],null,null),e.Db(1024,null,r.g,function(n){return[n]},[i.Nb]),e.ob(111,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),e.Db(2048,null,r.h,null,[r.d]),e.ob(113,16384,null,0,r.i,[[4,r.h]],null,null),e.ob(114,49152,null,0,i.F,[e.h,e.k],{type:[0,"type"]},null),(n()(),e.pb(115,0,null,null,11,"ion-row",[],null,null,null,u.Fb,u.I)),e.ob(116,49152,null,0,i.hb,[e.h,e.k],null,null),(n()(),e.pb(117,0,null,0,4,"ion-col",[],null,null,null,u.ib,u.l)),e.ob(118,49152,null,0,i.s,[e.h,e.k],null,null),(n()(),e.pb(119,0,null,0,2,"ion-button",[["expand","full"],["margin-top",""],["shape","round"],["style","color:#1B4F72"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.onSubmit()&&e),e},u.ab,u.d)),e.ob(120,49152,null,0,i.j,[e.h,e.k],{disabled:[0,"disabled"],expand:[1,"expand"],shape:[2,"shape"]},null),(n()(),e.Gb(-1,0,["Submit"])),(n()(),e.pb(122,0,null,0,4,"ion-col",[],null,null,null,u.ib,u.l)),e.ob(123,49152,null,0,i.s,[e.h,e.k],null,null),(n()(),e.pb(124,0,null,0,2,"ion-button",[["expand","full"],["margin-top",""],["shape","round"],["style","color: grey"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.closeModal()&&e),e},u.ab,u.d)),e.ob(125,49152,null,0,i.j,[e.h,e.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e.Gb(-1,0,["Cancel"]))],function(n,l){var o=l.component;n(l,2,0,!0),n(l,12,0,o.addBookFormGroup),n(l,18,0,"medium"),n(l,23,0,"bookname"),n(l,26,0,"text"),n(l,30,0,"medium"),n(l,33,0,!o.capturedImage),n(l,38,0,o.capturedImage),n(l,42,0,"medium"),n(l,47,0,"bookgenre"),n(l,52,0,o.bookgenre),n(l,56,0,"medium"),n(l,61,0,"booklanguage"),n(l,66,0,o.booklanguage),n(l,70,0,"medium"),n(l,75,0,"bookauthor"),n(l,78,0,"text"),n(l,82,0,"medium"),n(l,87,0,"bookrating"),n(l,90,0,"rating","1","5","true","","5"),n(l,94,0,"medium"),n(l,99,0,"bookowneraddress"),n(l,102,0,"text"),n(l,106,0,"medium"),n(l,111,0,"bookownertelnum"),n(l,114,0,"text"),n(l,120,0,o.addBookFormGroup.invalid,"full","round"),n(l,125,0,"full","round")},function(n,l){n(l,10,0,e.yb(l,14).ngClassUntouched,e.yb(l,14).ngClassTouched,e.yb(l,14).ngClassPristine,e.yb(l,14).ngClassDirty,e.yb(l,14).ngClassValid,e.yb(l,14).ngClassInvalid,e.yb(l,14).ngClassPending),n(l,20,0,e.yb(l,25).ngClassUntouched,e.yb(l,25).ngClassTouched,e.yb(l,25).ngClassPristine,e.yb(l,25).ngClassDirty,e.yb(l,25).ngClassValid,e.yb(l,25).ngClassInvalid,e.yb(l,25).ngClassPending),n(l,44,0,e.yb(l,49).ngClassUntouched,e.yb(l,49).ngClassTouched,e.yb(l,49).ngClassPristine,e.yb(l,49).ngClassDirty,e.yb(l,49).ngClassValid,e.yb(l,49).ngClassInvalid,e.yb(l,49).ngClassPending),n(l,58,0,e.yb(l,63).ngClassUntouched,e.yb(l,63).ngClassTouched,e.yb(l,63).ngClassPristine,e.yb(l,63).ngClassDirty,e.yb(l,63).ngClassValid,e.yb(l,63).ngClassInvalid,e.yb(l,63).ngClassPending),n(l,72,0,e.yb(l,77).ngClassUntouched,e.yb(l,77).ngClassTouched,e.yb(l,77).ngClassPristine,e.yb(l,77).ngClassDirty,e.yb(l,77).ngClassValid,e.yb(l,77).ngClassInvalid,e.yb(l,77).ngClassPending),n(l,84,0,e.yb(l,89).ngClassUntouched,e.yb(l,89).ngClassTouched,e.yb(l,89).ngClassPristine,e.yb(l,89).ngClassDirty,e.yb(l,89).ngClassValid,e.yb(l,89).ngClassInvalid,e.yb(l,89).ngClassPending),n(l,96,0,e.yb(l,101).ngClassUntouched,e.yb(l,101).ngClassTouched,e.yb(l,101).ngClassPristine,e.yb(l,101).ngClassDirty,e.yb(l,101).ngClassValid,e.yb(l,101).ngClassInvalid,e.yb(l,101).ngClassPending),n(l,108,0,e.yb(l,113).ngClassUntouched,e.yb(l,113).ngClassTouched,e.yb(l,113).ngClassPristine,e.yb(l,113).ngClassDirty,e.yb(l,113).ngClassValid,e.yb(l,113).ngClassInvalid,e.yb(l,113).ngClassPending)})}function w(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"app-addbook",[],null,null,null,C,k)),e.ob(1,114688,null,0,f,[i.Gb,i.a,p.a,r.b,d.a,h.a,g.a,i.Jb,m.a,b.a,h.a],null,null)],function(n,l){n(l,1,0)},null)}var O=e.lb("app-addbook",f,w,{},{},[]),_=o("0mKY"),F=o("5IZ8"),B=function(){function n(n){this.rawFile=n;var l,o=(l=n)&&(l.nodeName||l.prop&&l.attr&&l.find)?n.value:n;this["_createFrom"+("string"==typeof o?"FakePath":"Object")](o)}return n.prototype._createFromFakePath=function(n){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+n.slice(n.lastIndexOf(".")+1).toLowerCase(),this.name=n.slice(n.lastIndexOf("/")+n.lastIndexOf("\\")+2)},n.prototype._createFromObject=function(n){this.size=n.size,this.type=n.type,this.name=n.name},n}(),A=function(){function n(n,l,o){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=n,this.some=l,this.options=o,this.file=new B(l),this._file=l,n.options&&(this.method=n.options.method||"POST",this.alias=n.options.itemAlias||"file"),this.url=n.options.url}return n.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(n){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},n.prototype.cancel=function(){this.uploader.cancelItem(this)},n.prototype.remove=function(){this.uploader.removeFromQueue(this)},n.prototype.onBeforeUpload=function(){},n.prototype.onBuildForm=function(n){return{form:n}},n.prototype.onProgress=function(n){return{progress:n}},n.prototype.onSuccess=function(n,l,o){return{response:n,status:l,headers:o}},n.prototype.onError=function(n,l,o){return{response:n,status:l,headers:o}},n.prototype.onCancel=function(n,l,o){return{response:n,status:l,headers:o}},n.prototype.onComplete=function(n,l,o){return{response:n,status:l,headers:o}},n.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},n.prototype._onBuildForm=function(n){this.onBuildForm(n)},n.prototype._onProgress=function(n){this.progress=n,this.onProgress(n)},n.prototype._onSuccess=function(n,l,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(n,l,o)},n.prototype._onError=function(n,l,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(n,l,o)},n.prototype._onCancel=function(n,l,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(n,l,o)},n.prototype._onComplete=function(n,l,o){this.onComplete(n,l,o),this.uploader.options.removeAfterUpload&&this.remove()},n.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},n}(),S=function(){function n(){}return n.getMimeClass=function(n){var l="application";return-1!==this.mime_psd.indexOf(n.type)?l="image":n.type.match("image.*")?l="image":n.type.match("video.*")?l="video":n.type.match("audio.*")?l="audio":"application/pdf"===n.type?l="pdf":-1!==this.mime_compress.indexOf(n.type)?l="compress":-1!==this.mime_doc.indexOf(n.type)?l="doc":-1!==this.mime_xsl.indexOf(n.type)?l="xls":-1!==this.mime_ppt.indexOf(n.type)&&(l="ppt"),"application"===l&&(l=this.fileTypeDetection(n.name)),l},n.fileTypeDetection=function(n){var l={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},o=n.split(".");if(o.length<2)return"application";var e=o[o.length-1].toLowerCase();return void 0===l[e]?"application":l[e]},n.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],n.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],n.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],n.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],n.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],n}(),M=function(n){var l="function"==typeof Symbol&&n[Symbol.iterator],o=0;return l?l.call(n):{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}}},L=function(){function n(n){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(n){return n._file},formatDataFunctionIsAsync:!1},this.setOptions(n),this.response=new e.m}return n.prototype.setOptions=function(n){this.options=Object.assign(this.options,n),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var l=0;l<this.queue.length;l++)this.queue[l].url=this.options.url},n.prototype.addToQueue=function(n,l,o){var e,t,u=this,i=[];try{for(var r=M(n),s=r.next();!s.done;s=r.next())i.push(s.value)}catch(b){e={error:b}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}var a=this._getFilters(o),c=this.queue.length,p=[];i.map(function(n){l||(l=u.options);var o=new B(n);if(u._isValidFile(o,a,l)){var e=new A(u,n,l);p.push(e),u.queue.push(e),u._onAfterAddingFile(e)}else u._onWhenAddingFileFailed(o,a[u._failFilterIndex],l)}),this.queue.length!==c&&(this._onAfterAddingAll(p),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},n.prototype.removeFromQueue=function(n){var l=this.getIndexOfItem(n),o=this.queue[l];o.isUploading&&o.cancel(),this.queue.splice(l,1),this.progress=this._getTotalProgress()},n.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},n.prototype.uploadItem=function(n){var l=this.getIndexOfItem(n),o=this.queue[l],e=this.options.isHTML5?"_xhrTransport":"_iframeTransport";o._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[e](o))},n.prototype.cancelItem=function(n){var l=this.getIndexOfItem(n),o=this.queue[l];o&&o.isUploading&&(this.options.isHTML5?o._xhr:o._form).abort()},n.prototype.uploadAll=function(){var n=this.getNotUploadedItems().filter(function(n){return!n.isUploading});n.length&&(n.map(function(n){return n._prepareToUploading()}),n[0].upload())},n.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(n){return n.cancel()})},n.prototype.isFile=function(n){return function(n){return File&&n instanceof File}(n)},n.prototype.isFileLikeObject=function(n){return n instanceof B},n.prototype.getIndexOfItem=function(n){return"number"==typeof n?n:this.queue.indexOf(n)},n.prototype.getNotUploadedItems=function(){return this.queue.filter(function(n){return!n.isUploaded})},n.prototype.getReadyItems=function(){return this.queue.filter(function(n){return n.isReady&&!n.isUploading}).sort(function(n,l){return n.index-l.index})},n.prototype.destroy=function(){},n.prototype.onAfterAddingAll=function(n){return{fileItems:n}},n.prototype.onBuildItemForm=function(n,l){return{fileItem:n,form:l}},n.prototype.onAfterAddingFile=function(n){return{fileItem:n}},n.prototype.onWhenAddingFileFailed=function(n,l,o){return{item:n,filter:l,options:o}},n.prototype.onBeforeUploadItem=function(n){return{fileItem:n}},n.prototype.onProgressItem=function(n,l){return{fileItem:n,progress:l}},n.prototype.onProgressAll=function(n){return{progress:n}},n.prototype.onSuccessItem=function(n,l,o,e){return{item:n,response:l,status:o,headers:e}},n.prototype.onErrorItem=function(n,l,o,e){return{item:n,response:l,status:o,headers:e}},n.prototype.onCancelItem=function(n,l,o,e){return{item:n,response:l,status:o,headers:e}},n.prototype.onCompleteItem=function(n,l,o,e){return{item:n,response:l,status:o,headers:e}},n.prototype.onCompleteAll=function(){},n.prototype._mimeTypeFilter=function(n){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(n.type))},n.prototype._fileSizeFilter=function(n){return!(this.options.maxFileSize&&n.size>this.options.maxFileSize)},n.prototype._fileTypeFilter=function(n){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(S.getMimeClass(n)))},n.prototype._onErrorItem=function(n,l,o,e){n._onError(l,o,e),this.onErrorItem(n,l,o,e)},n.prototype._onCompleteItem=function(n,l,o,e){n._onComplete(l,o,e),this.onCompleteItem(n,l,o,e);var t=this.getReadyItems()[0];this.isUploading=!1,t?t.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},n.prototype._headersGetter=function(n){return function(l){return l?n[l.toLowerCase()]||void 0:n}},n.prototype._xhrTransport=function(n){var l,o,e,t,u,i=this,r=this,s=n._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(n),"number"!=typeof n._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)u=this.options.formatDataFunction(n);else{u=new FormData,this._onBuildItemForm(n,u);var a=function(){return u.append(n.alias,n._file,n.file.name)};this.options.parametersBeforeFiles||a(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(l){var o=i.options.additionalParameter[l];"string"==typeof o&&o.indexOf("{{file_name}}")>=0&&(o=o.replace("{{file_name}}",n.file.name)),u.append(l,o)}),this.options.parametersBeforeFiles&&a()}if(s.upload.onprogress=function(l){var o=Math.round(l.lengthComputable?100*l.loaded/l.total:0);i._onProgressItem(n,o)},s.onload=function(){var l=i._parseHeaders(s.getAllResponseHeaders()),o=i._transformResponse(s.response,l),e=i._isSuccessCode(s.status)?"Success":"Error";i["_on"+e+"Item"](n,o,s.status,l),i._onCompleteItem(n,o,s.status,l)},s.onerror=function(){var l=i._parseHeaders(s.getAllResponseHeaders()),o=i._transformResponse(s.response,l);i._onErrorItem(n,o,s.status,l),i._onCompleteItem(n,o,s.status,l)},s.onabort=function(){var l=i._parseHeaders(s.getAllResponseHeaders()),o=i._transformResponse(s.response,l);i._onCancelItem(n,o,s.status,l),i._onCompleteItem(n,o,s.status,l)},s.open(n.method,n.url,!0),s.withCredentials=n.withCredentials,this.options.headers)try{for(var c=M(this.options.headers),p=c.next();!p.done;p=c.next())s.setRequestHeader((h=p.value).name,h.value)}catch(g){l={error:g}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(l)throw l.error}}if(n.headers.length)try{for(var b=M(n.headers),d=b.next();!d.done;d=b.next()){var h;s.setRequestHeader((h=d.value).name,h.value)}}catch(m){e={error:m}}finally{try{d&&!d.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}this.authToken&&s.setRequestHeader(this.authTokenHeader,this.authToken),s.onreadystatechange=function(){s.readyState==XMLHttpRequest.DONE&&r.response.emit(s.responseText)},this.options.formatDataFunctionIsAsync?u.then(function(n){return s.send(JSON.stringify(n))}):s.send(u),this._render()},n.prototype._getTotalProgress=function(n){if(void 0===n&&(n=0),this.options.removeAfterUpload)return n;var l=this.getNotUploadedItems().length,o=100/this.queue.length;return Math.round((l?this.queue.length-l:this.queue.length)*o+n*o/100)},n.prototype._getFilters=function(n){if(!n)return this.options.filters;if(Array.isArray(n))return n;if("string"==typeof n){var l=n.match(/[^\s,]+/g);return this.options.filters.filter(function(n){return-1!==l.indexOf(n.name)})}return this.options.filters},n.prototype._render=function(){},n.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},n.prototype._isValidFile=function(n,l,o){var e=this;return this._failFilterIndex=-1,!l.length||l.every(function(l){return e._failFilterIndex++,l.fn.call(e,n,o)})},n.prototype._isSuccessCode=function(n){return n>=200&&n<300||304===n},n.prototype._transformResponse=function(n,l){return n},n.prototype._parseHeaders=function(n){var l,o,e,t={};return n?(n.split("\n").map(function(n){e=n.indexOf(":"),l=n.slice(0,e).trim().toLowerCase(),o=n.slice(e+1).trim(),l&&(t[l]=t[l]?t[l]+", "+o:o)}),t):t},n.prototype._onWhenAddingFileFailed=function(n,l,o){this.onWhenAddingFileFailed(n,l,o)},n.prototype._onAfterAddingFile=function(n){this.onAfterAddingFile(n)},n.prototype._onAfterAddingAll=function(n){this.onAfterAddingAll(n)},n.prototype._onBeforeUploadItem=function(n){n._onBeforeUpload(),this.onBeforeUploadItem(n)},n.prototype._onBuildItemForm=function(n,l){n._onBuildForm(l),this.onBuildItemForm(n,l)},n.prototype._onProgressItem=function(n,l){var o=this._getTotalProgress(l);this.progress=o,n._onProgress(l),this.onProgressItem(n,l),this.onProgressAll(o),this._render()},n.prototype._onSuccessItem=function(n,l,o,e){n._onSuccess(l,o,e),this.onSuccessItem(n,l,o,e)},n.prototype._onCancelItem=function(n,l,o,e){n._onCancel(l,o,e),this.onCancelItem(n,l,o,e)},n}(),E=function(){function n(n){this.onFileSelected=new e.m,this.element=n}return n.prototype.getOptions=function(){return this.uploader.options},n.prototype.getFilters=function(){return{}},n.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},n.prototype.onChange=function(){var n=this.element.nativeElement.files,l=this.getOptions(),o=this.getFilters();this.uploader.addToQueue(n,l,o),this.onFileSelected.emit(n),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},n}(),T=function(){return function(){}}(),D=function(){function n(){this.uploaderAnchor=new L({}),this.uploaderContent=new L({}),this.hasBaseDropZoneOver=!1}return n.prototype.getAnchorFiles=function(){return this.uploaderAnchor.queue.map(function(n){return n.file})},n.prototype.getAnchorContentFiles=function(){return this.uploaderContent.queue.map(function(n){return n.file})},n.prototype.fileOverBase=function(n){this.hasBaseDropZoneOver=n},n.prototype.reorderFiles=function(n){var l=this.uploaderAnchor.queue.splice(n.detail.from,1)[0];this.uploaderAnchor.queue.splice(n.detail.to,0,l)},n}(),R=e.nb({encapsulation:0,styles:[[".drop-zone[_ngcontent-%COMP%]{background-color:#f6f6f6;border:3px dotted #dedddd;height:30vh;display:flex;align-items:center;justify-content:center;margin:20px 0}.file-input-container[_ngcontent-%COMP%]{text-align:right}.file-input-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid #ccc;padding:6px 12px;cursor:pointer}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}"]],data:{}});function P(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,6,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(1,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,2,"ion-label",[],null,null,null,u.wb,u.z)),e.ob(3,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(4,0,[" "," "])),(n()(),e.pb(5,0,null,0,1,"ion-reorder",[],null,null,null,u.Eb,u.G)),e.ob(6,49152,null,0,i.db,[e.h,e.k],null,null)],null,function(n,l){n(l,4,0,null==l.context.$implicit?null:null==l.context.$implicit.file?null:l.context.$implicit.file.name)})}function U(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,6,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(1,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,2,"ion-label",[],null,null,null,u.wb,u.z)),e.ob(3,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(4,0,[" "," "])),(n()(),e.pb(5,0,null,0,1,"ion-reorder",[],null,null,null,u.Eb,u.G)),e.ob(6,49152,null,0,i.db,[e.h,e.k],null,null)],null,function(n,l){n(l,4,0,null==l.context.$implicit?null:null==l.context.$implicit.file?null:l.context.$implicit.file.name)})}function G(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,29,"ion-content",[],null,null,null,u.jb,u.m)),e.ob(1,49152,null,0,i.t,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,4,"div",[["class","file-input-container"]],null,null,null,null,null)),(n()(),e.pb(3,0,null,null,3,"label",[],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,1,"input",[["ng2FileSelect",""],["single",""],["type","file"]],null,[[null,"change"]],function(n,l,o){var t=!0;return"change"===l&&(t=!1!==e.yb(n,5).onChange()&&t),t},null,null)),e.ob(5,16384,null,0,E,[e.k],{uploader:[0,"uploader"]},null),(n()(),e.Gb(-1,null,[" Add Anchor "])),(n()(),e.pb(7,0,null,0,2,"ion-label",[],null,null,null,u.wb,u.z)),e.ob(8,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(9,0,["Files: ",""])),(n()(),e.pb(10,0,null,0,5,"ion-list",[],null,null,null,u.yb,u.A)),e.ob(11,49152,null,0,i.N,[e.h,e.k],null,null),(n()(),e.pb(12,0,null,0,3,"ion-reorder-group",[["disabled","false"]],null,[[null,"ionItemReorder"]],function(n,l,o){var e=!0;return"ionItemReorder"===l&&(e=!1!==n.component.reorderFiles(o)&&e),e},u.Db,u.H)),e.ob(13,49152,null,0,i.eb,[e.h,e.k],{disabled:[0,"disabled"]},null),(n()(),e.gb(16777216,null,0,1,null,P)),e.ob(15,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(16,0,null,0,4,"div",[["class","file-input-container"]],null,null,null,null,null)),(n()(),e.pb(17,0,null,null,3,"label",[],null,null,null,null,null)),(n()(),e.pb(18,0,null,null,1,"input",[["multiple",""],["ng2FileSelect",""],["type","file"]],null,[[null,"change"]],function(n,l,o){var t=!0;return"change"===l&&(t=!1!==e.yb(n,19).onChange()&&t),t},null,null)),e.ob(19,16384,null,0,E,[e.k],{uploader:[0,"uploader"]},null),(n()(),e.Gb(-1,null,[" Add Content corresponding to above anchor "])),(n()(),e.pb(21,0,null,0,2,"ion-label",[],null,null,null,u.wb,u.z)),e.ob(22,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(23,0,["Files: ",""])),(n()(),e.pb(24,0,null,0,5,"ion-list",[],null,null,null,u.yb,u.A)),e.ob(25,49152,null,0,i.N,[e.h,e.k],null,null),(n()(),e.pb(26,0,null,0,3,"ion-reorder-group",[["disabled","false"]],null,[[null,"ionItemReorder"]],function(n,l,o){var e=!0;return"ionItemReorder"===l&&(e=!1!==n.component.reorderFiles(o)&&e),e},u.Db,u.H)),e.ob(27,49152,null,0,i.eb,[e.h,e.k],{disabled:[0,"disabled"]},null),(n()(),e.gb(16777216,null,0,1,null,U)),e.ob(29,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var o=l.component;n(l,5,0,o.uploaderAnchor),n(l,13,0,"false"),n(l,15,0,o.uploaderAnchor.queue),n(l,19,0,o.uploaderContent),n(l,27,0,"false"),n(l,29,0,o.uploaderContent.queue)},function(n,l){var o=l.component;n(l,9,0,null==o.uploaderAnchor?null:null==o.uploaderAnchor.queue?null:o.uploaderAnchor.queue.length),n(l,23,0,null==o.uploaderContent?null:null==o.uploaderContent.queue?null:o.uploaderContent.queue.length)})}var q=o("cdBk"),$=o("gRf5"),j=function(){function n(n,l,o,e,t,u,i,r){this._modalController=n,this.booksService=l,this._camera=o,this.file=e,this._alertController=t,this.imagePicker=u,this.transfer=i,this.imageLoaderService=r,this.sliderConfig={slidesPerView:4,coverflowEffect:{rotate:30,stretch:0,depth:100,modifier:1,autoplay:!0},on:{beforeInit:function(){this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0},setTranslate:function(){for(var n=this.width,l=this.height,o=this.slides,e=this.$wrapperEl,t=this.slidesSizesGrid,u=this.params.coverflowEffect,i=this.isHorizontal(),r=this.translate,s=i?n/2-r:l/2-r,a=i?u.rotate:-u.rotate,c=u.depth,p=0,b=o.length;p<b;p+=1){var d=o.eq(p),h=t[p],g=(s-d[0].swiperSlideOffset-h/2)/h*u.modifier,m=i?a*g:0,f=i?0:a*g,k=-c*Math.abs(g),v=i?0:u.stretch*g,y=i?u.stretch*g:0;if(Math.abs(y)<.001&&(y=0),Math.abs(v)<.001&&(v=0),Math.abs(k)<.001&&(k=0),Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),d.transform("translate3d("+y+"px,"+v+"px,"+k+"px)  rotateX("+f+"deg) rotateY("+m+"deg)"),d[0].style.zIndex=1-Math.abs(Math.round(g)),u.slideShadows){var I=d.find(i?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),x=d.find(i?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===I.length&&(I=this.$('<div class="swiper-slide-shadow-'+(i?"left":"top")+'"></div>'),d.append(I)),0===x.length&&(x=this.$('<div class="swiper-slide-shadow-'+(i?"right":"bottom")+'"></div>'),d.append(x)),I.length&&(I[0].style.opacity=g>0?g:0),x.length&&(x[0].style.opacity=-g>0?-g:0)}}(this.support.pointerEvents||this.support.prefixedPointerEvents)&&(e[0].style.perspectiveOrigin=s+"px 50%")},setTransition:function(n){this.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n)}}},this.uploadData=new FormData,this.dataReader=new FileReader,this.uploadStatus="",this.files=[],this.anchorFiles=[],this.anchorContentFiles=[],this.updateFlag=!1,this.showComonentFlag=!1,this.imgAnchorURLs=[],this.imgContentURLs=[],this.bookAnchorContentURLsMap=new Map,this.bookAnchorContentURLsArray=[]}return n.prototype.ngOnInit=function(){var n=this;this.booksService.getBook(this.bookId).subscribe(function(l){n.bookCopy=l,console.log("Book Copy in AR Book",n.bookCopy)},function(l){return n.errMess=l}),this.booksService.getBookARContent(this.bookId).subscribe(function(l){n.imgURLs=l;for(var o=0;o<n.imgURLs.length;o++)if(n.imgURLs[o].includes("content")){for(var e,t=n.imgURLs[o].indexOf("content"),u="anchor"+n.imgURLs[o].charAt(t-1),i=[],r=[],s=0;s<n.imgURLs.length;s++)n.imgURLs[s].includes(u)&&i.push(n.imgURLs[s]);for(var a=0;a<i.length;a++)-1===i[a].indexOf("content")?e=i[a]:r.push(i[a]);n.bookAnchorContentURLsMap.set(e,r)}n.bookAnchorContentURLsArray=Array.from(n.bookAnchorContentURLsMap.entries()),console.log("bookAnchorContentURLsMap",n.bookAnchorContentURLsMap),console.log("bookAnchorContentURLsArray",n.bookAnchorContentURLsArray)},function(l){return n.errMess=l})},n.prototype.clearCache=function(){this.imageLoaderService.clearCache()},n.prototype.onImageLoad=function(n){console.log("image ready")},n.prototype.anchorContentComponent=function(){console.log("inside anchor and Content Component"),this.showComonentFlag=!0},n.prototype.upload=function(){var n=this;this.booksService.getBookPlistXml(this.bookId).subscribe(function(l){console.log("link to book plist found"),console.log("plist",l),l?(n.plistCopy=l,n.updateFlag=!0,n.prepareAnchorAndContentsDataAndUpload(n.updateFlag)):(n.updateFlag=!1,console.log("plist is empty"),n.prepareAnchorAndContentsDataAndUpload(n.updateFlag))})},n.prototype.prepareAnchorAndContentsDataAndUpload=function(n){var l=this.fileField.getAnchorFiles(),o=this.fileField.getAnchorContentFiles();if(n){var e=(new DOMParser).parseFromString(this.plistCopy.toString(),"text/xml");console.log("xmlDocument from s3",e);var t=e.getElementsByTagName("key").length;console.log("keyElLength",t);var u=e.getElementsByTagName("key")[t-1].childNodes[0].nodeValue;console.log("prev anchor name",u);var i=u.slice(6);console.log("prev anchor index",i);var r="anchor"+(parseInt(i)+1);(k=new Map).set(r,[]);for(var s=0;s<o.length;s++){var a=r+"content"+(s+1);k.get(r).push(a)}console.log("plistMap",k),this.uploadData.append("imageFile",l[0].rawFile,r);for(var c=0;c<o.length;c++)this.uploadData.append("imageFile",o[c].rawFile,a=r+"content"+(c+1));var p=e.getElementsByTagName("plist")[0];console.log("root ",p);for(var b=0,d=Array.from(k.entries());b<d.length;b++){var h=d[b];console.log("Entries",h),(x=e.createElement("key")).textContent=h[0],p.appendChild(x);var g=h[1];for(s=0;s<g.length;s++)(C=e.createElement("value")).textContent=g[s],x.appendChild(C)}var m=(new XMLSerializer).serializeToString(e);console.log("xml serailizd doc",m);var f=new Blob([m],{type:"text/xml"});this.uploadData.append("xmlFile",f,this.bookId+"plist")}else{var k;for(r="anchor0",(k=new Map).set(r,[]),s=0;s<o.length;s++)a=r+"content"+(s+1),k.get(r).push(a);for(console.log("plistMap",k),this.uploadData.append("imageFile",l[0].rawFile,r),c=0;c<o.length;c++)this.uploadData.append("imageFile",o[c].rawFile,a=r+"content"+(c+1));var v=document.implementation.createDocument("","",null);p=v.createElement("plist"),v.appendChild(p);for(var y=0,I=Array.from(k.entries());y<I.length;y++){var x;for(h=I[y],console.log("Entries",h),(x=v.createElement("key")).textContent=h[0],p.appendChild(x),g=h[1],s=0;s<g.length;s++){var C;(C=v.createElement("value")).textContent=g[s],x.appendChild(C)}}m=(new XMLSerializer).serializeToString(v),console.log("xml serailizd doc",m),f=new Blob([m],{type:"text/xml"}),this.uploadData.append("xmlFile",f,this.bookId+"plist")}this.booksService.uploadAnchorContentAndPlist(this.bookId,this.uploadData,this.updateFlag).subscribe(function(n){console.log(n)})},n.prototype.closeModal=function(){console.log("inside close modal"),this.showComonentFlag=!1},n.prototype.close=function(){this._modalController.dismiss()},n}(),N=e.nb({encapsulation:0,styles:[[".book-img[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid gray;margin:5px auto}.displaycard[_ngcontent-%COMP%]{margin:5px;padding:5px}.anchor-display[_ngcontent-%COMP%]{padding-left:5px;padding-bottom:10px;padding-top:5px}.anchorcontnet-display[_ngcontent-%COMP%]{padding:5px 2px}ion-list-header[_ngcontent-%COMP%]{padding-left:0;display:block;text-align:center}ion-button[_ngcontent-%COMP%]{--background:#E9F7EF}ion-card-subtitle[_ngcontent-%COMP%]{text-align:center;font-weight:700}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}.image-container[_ngcontent-%COMP%]{min-height:200px;background-size:cover}@media (min-width:0px){.images[_ngcontent-%COMP%]{-webkit-column-count:2;-moz-column-count:2;column-count:2}}@media (min-width:420px){.images[_ngcontent-%COMP%]{-webkit-column-count:3;-moz-column-count:3;column-count:3}}@media (min-width:720px){.images[_ngcontent-%COMP%]{-webkit-column-count:4;-moz-column-count:4;column-count:4}}.one-image[_ngcontent-%COMP%]{margin:2px}.drop-zone[_ngcontent-%COMP%]{background-color:#f6f6f6;border:3px dotted #dedddd;height:30vh;display:flex;align-items:center;justify-content:center;margin:20px 0}.file-input-container[_ngcontent-%COMP%]{text-align:right}.file-input-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid #ccc;padding:6px 12px;cursor:pointer}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}"]],data:{}});function z(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.anchorContentComponent()&&e),e},u.ab,u.d)),e.ob(1,49152,null,0,i.j,[e.h,e.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e.pb(2,0,null,0,1,"ion-icon",[["src","../assets/icon/add-circle.svg"],["style","color: #145A32;"]],null,null,null,u.ob,u.r)),e.ob(3,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null),(n()(),e.pb(4,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  #17202A; margin-left: 5px; "]],null,null,null,null,null)),(n()(),e.Gb(-1,null,["Add New Anchor and Content"]))],function(n,l){n(l,1,0,"block","round"),n(l,3,0,"../assets/icon/add-circle.svg")},null)}function H(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,6,"ion-list-header",[],null,null,null,u.xb,u.B)),e.ob(1,49152,null,0,i.O,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,4,"ion-item",[["class","ion-text-center"]],null,null,null,u.vb,u.v)),e.ob(3,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,2,"ion-label",[["style","color: #17202A "]],null,null,null,u.wb,u.z)),e.ob(5,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,[" List of existing anchors and content "]))],null,null)}function K(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,5,"ion-slide",[],null,null,null,u.Jb,u.M)),e.ob(1,49152,null,0,i.ob,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,3,"ion-thumbnail",[["class","anchorcontnet-display"]],null,null,null,u.Rb,u.U)),e.ob(3,49152,null,0,i.xb,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,o){var e=!0;return"load"===l&&(e=!1!==n.component.onImageLoad(o)&&e),e},_.b,_.a)),e.ob(5,114688,null,0,F.c,[e.k,e.D,F.b,F.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"})],function(n,l){n(l,5,0,"",l.context.$implicit)},null)}function W(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,27,"ion-card",[["button",""]],null,null,null,u.gb,u.f)),e.ob(1,49152,null,0,i.l,[e.h,e.k],{button:[0,"button"]},null),(n()(),e.pb(2,0,null,0,14,"ion-card-header",[],null,null,null,u.db,u.h)),e.ob(3,49152,null,0,i.n,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,2,"ion-card-subtitle",[],null,null,null,u.eb,u.i)),e.ob(5,49152,null,0,i.o,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,[" Anchor "])),(n()(),e.pb(7,0,null,0,9,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(8,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(9,0,null,0,3,"ion-thumbnail",[["class","anchor-display"]],null,null,null,u.Rb,u.U)),e.ob(10,49152,null,0,i.xb,[e.h,e.k],null,null),(n()(),e.pb(11,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,o){var e=!0;return"load"===l&&(e=!1!==n.component.onImageLoad(o)&&e),e},_.b,_.a)),e.ob(12,114688,null,0,F.c,[e.k,e.D,F.b,F.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),e.pb(13,0,null,0,3,"ion-button",[["class","ion-text-center"],["shape","round"],["style","color: #145A32"]],null,null,null,u.ab,u.d)),e.ob(14,49152,null,0,i.j,[e.h,e.k],{shape:[0,"shape"]},null),(n()(),e.pb(15,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),e.Gb(-1,null,["Augment Content"])),(n()(),e.pb(17,0,null,0,10,"ion-card-content",[],null,null,null,u.cb,u.g)),e.ob(18,49152,null,0,i.m,[e.h,e.k],null,null),(n()(),e.pb(19,0,null,0,2,"ion-card-subtitle",[],null,null,null,u.eb,u.i)),e.ob(20,49152,null,0,i.o,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,[" Augmented content "])),(n()(),e.pb(22,0,null,0,5,"ion-item-sliding",[],null,null,null,u.ub,u.y)),e.ob(23,49152,null,0,i.L,[e.h,e.k],null,null),(n()(),e.pb(24,0,null,0,3,"ion-slides",[],null,null,null,u.Kb,u.N)),e.ob(25,49152,null,0,i.pb,[e.h,e.k],{options:[0,"options"]},null),(n()(),e.gb(16777216,null,0,1,null,K)),e.ob(27,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var o=l.component;n(l,1,0,""),n(l,12,0,"",l.context.$implicit[0]),n(l,14,0,"round"),n(l,25,0,o.sliderConfig),n(l,27,0,l.context.$implicit[1])},null)}function V(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-list",[],null,null,null,u.yb,u.A)),e.ob(1,49152,null,0,i.N,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,W)),e.ob(3,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.bookAnchorContentURLsArray)},null)}function J(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"app-multi-file-upload",[],null,null,null,G,R)),e.ob(1,49152,[[1,4]],0,D,[],null,null)],null,null)}function Q(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-button",[["expand","full"],["margin-top",""],["shape","round"],["style","color: black"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.upload()&&e),e},u.ab,u.d)),e.ob(1,49152,null,0,i.j,[e.h,e.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e.Gb(-1,0,["Upload Anchor & Content"]))],function(n,l){n(l,1,0,"full","round")},null)}function X(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,4,"ion-col",[],null,null,null,u.ib,u.l)),e.ob(1,49152,null,0,i.s,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,2,"ion-button",[["expand","full"],["margin-top",""],["shape","round"],["style","color: grey"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.closeModal()&&e),e},u.ab,u.d)),e.ob(3,49152,null,0,i.j,[e.h,e.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e.Gb(-1,0,["Cancel"]))],function(n,l){n(l,3,0,"full","round")},null)}function Y(n){return e.Ib(0,[e.Eb(671088640,1,{fileField:0}),(n()(),e.pb(1,0,null,null,12,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,u.nb,u.q)),e.ob(2,49152,null,0,i.A,[e.h,e.k],{translucent:[0,"translucent"]},null),(n()(),e.pb(3,0,null,0,10,"ion-toolbar",[],null,null,null,u.Tb,u.W)),e.ob(4,49152,null,0,i.Ab,[e.h,e.k],null,null),(n()(),e.pb(5,0,null,0,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n               color: #FDFEFE  ; font-weight: bolder; font-size: 15px;"]],null,null,null,u.Sb,u.V)),e.ob(6,49152,null,0,i.yb,[e.h,e.k],null,null),(n()(),e.Gb(7,0,[" Enable "," as AR Book "])),(n()(),e.pb(8,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,u.bb,u.e)),e.ob(9,49152,null,0,i.k,[e.h,e.k],null,null),(n()(),e.pb(10,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.close()&&e),e},u.ab,u.d)),e.ob(11,49152,null,0,i.j,[e.h,e.k],null,null),(n()(),e.pb(12,0,null,0,1,"ion-icon",[["name","close"],["slot","icon-only"],["style","color:#FDFEFE"]],null,null,null,u.ob,u.r)),e.ob(13,49152,null,0,i.B,[e.h,e.k],{name:[0,"name"]},null),(n()(),e.pb(14,0,null,null,13,"ion-content",[],null,null,null,u.jb,u.m)),e.ob(15,49152,null,0,i.t,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,z)),e.ob(17,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,H)),e.ob(19,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,V)),e.ob(21,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,J)),e.ob(23,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Q)),e.ob(25,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,X)),e.ob(27,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var o=l.component;n(l,2,0,!0),n(l,13,0,"close"),n(l,17,0,!o.showComonentFlag),n(l,19,0,!o.showComonentFlag),n(l,21,0,!o.showComonentFlag),n(l,23,0,o.showComonentFlag),n(l,25,0,o.showComonentFlag),n(l,27,0,o.showComonentFlag)},function(n,l){n(l,7,0,l.component.bookName)})}function Z(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"app-arbook",[],null,null,null,Y,N)),e.ob(1,114688,null,0,j,[i.Gb,p.a,d.a,g.a,i.a,q.a,$.a,F.b],null,null)],function(n,l){n(l,1,0)},null)}var nn=e.lb("app-arbook",j,Z,{},{},[]),ln=o("pMnS"),on=o("zA0m"),en=["None","Tel","Email"],tn=o("JhVf"),un=o("fNyx"),rn=o("S6gA"),sn=o("+6W9"),an=o("9Z1F"),cn=o("t/Na"),pn=o("mI4i"),bn=o("lUK6"),dn=function(){function n(n,l){this.http=n,this.processHTTPMsgService=l}return n.prototype.submitFeedback=function(n){var l={headers:new cn.h({"Content-Type":"application/json"})};return this.http.post(pn.a+"feedback/",n,l).pipe(Object(an.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeedback=function(){return this.http.get(pn.a+"feedback").pipe(Object(an.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeaturedFeedback=function(){return this.http.get(pn.a+"feedback?rating=5").pipe(Object(an.a)(this.processHTTPMsgService.handleError))},n.ngInjectableDef=e.S({factory:function(){return new n(e.W(cn.c),e.W(bn.a))},token:n,providedIn:"root"}),n}(),hn=o("LwiL"),gn=function(n){return n[n.getQrCode=0]="getQrCode",n[n.getScannedCode=1]="getScannedCode",n[n.compareCodes=2]="compareCodes",n}({}),mn=function(){function n(n,l,o,e,t,u,i,s,a,p,b,d,h,g,m,f,k,v,y){this._camera=n,this._alertController=l,this._modalController=o,this.authService=e,this.navCtrl=t,this.readarsService=u,this.baseURL=i,this.router=s,this.route=a,this.searchedMyData=p,this.fb=b,this.feedbackservice=d,this.booksService=h,this.reservedService=g,this.borrowedService=m,this.availableService=f,this.activatedRoute=k,this.barCodeScanner=v,this.imageLoaderService=y,this.username=void 0,this.reservedBooks=[],this.availableBooks=[],this.borrowedBooks=[],this.searchTerm="",this.descending=!1,this.column="booklanguage",this.bookIdsImages=new Map,this.bookIdImageMap=new Map,this.name="Angular",this.currentRouter=this.router.url,this.booklanguage=c.d,this.bookactions=c.a,this.bookcurrentstatus=c.b,this.contactType=en,this.submitted=null,this.showForm=!0,this.panelOpenState=!1,this.searchControl=new r.c}return n.prototype.ngOnInit=function(){var n=this;this.setFilteredItems(),this.authService.loadUserCredentials(),this.subscription=this.authService.getUsername().subscribe(function(l){console.log(l),n.username=l,n.booksService.getBooks().subscribe(function(l){n.allBooks=l,console.log("TAB3 BOOKS",n.allBooks)},function(l){return n.errMess=l}),n.prepareBookIdsImagesMap()})},n.prototype.ionViewWillEnter=function(){var n=this;this.prepareBookIdsImagesMap(),this.booksService.getBooks().subscribe(function(l){n.allBooks=l,console.log("TAB3 BOOKS",n.allBooks)},function(l){return n.errMess=l})},n.prototype.displayBooksByStatus=function(n){if(console.log("inside displayBooksBYStatus function"),this.showAvailable=!1,this.showReserved=!1,this.showBorrowed=!1,this.showAll=!1,"Available"===n.detail.value){console.log("inside AVAILABLE condition"),this.showAvailable=!0,this.availableBooks=[];for(var l=0,o=0;l<this.allBooks.length;)"available"===this.allBooks[l].bookcurrentstatus&&(this.availableBooks[o]=this.allBooks[l],o++),l++;console.log("BOOK Status & COLLECTION",n.detail.value,this.availableBooks.length)}if("Reserved"===n.detail.value){for(console.log("inside RESERVED condition"),this.showReserved=!0,this.reservedBooks=[],l=0,o=0;l<this.allBooks.length;)"reserved"===this.allBooks[l].bookcurrentstatus&&(this.reservedBooks[o]=this.allBooks[l],o++),l++;console.log("BOOK Status & COLLECTION",n.detail.value,this.reservedBooks.length)}if("Borrowed"===n.detail.value){for(console.log("inside BORROWED condition"),this.showBorrowed=!0,this.borrowedBooks=[],l=0,o=0;l<this.allBooks.length;)"borrowed"===this.allBooks[l].bookcurrentstatus&&(this.borrowedBooks[o]=this.allBooks[l],o++),l++;console.log("BOOK Status & COLLECTION",n.detail.value,this.borrowedBooks.length)}"All"===n.detail.value&&(this.showAll=!0)},n.prototype.clearCache=function(){this.imageLoaderService.clearCache()},n.prototype.onImageLoad=function(n){console.log("image ready")},n.prototype.prepareBookIdsImagesMap=function(){var n=this;this.booksService.getBookIds().subscribe(function(l){n.bookIds=l,n.storeBookIds(n.bookIds),n.lbookIds=n.loadBookIds();for(var o=function(l){n.booksService.getBookImage(n.lbookIds[l]).subscribe(function(o){n.url=o,console.log("this.url",n.url),n.bookIdImageMap.set(n.lbookIds[l],n.url),console.log("book image map",n.bookIdImageMap)},function(n){return console.log(n)})},e=0;e<n.lbookIds.length;e++)o(e)},function(l){return n.errMess=l})},n.prototype.storeBookIds=function(n){localStorage.setItem("bookIds",JSON.stringify(n))},n.prototype.loadBookIds=function(){if(this.bookIds=JSON.parse(localStorage.getItem("bookIds")),console.log("bookIds ",this.bookIds),this.bookIds)return this.bookIds},n.prototype.ngAfterViewInit=function(){},n.prototype.refreshBookList=function(n){var l=this;setTimeout(function(){l.booksService.getBooks().subscribe(function(n){l.books=n},function(n){return l.errMess=n}),l.clearCache(),n.target.complete()},2e3)},n.prototype.setFilteredItems=function(){this.books=this.searchedMyData.filterItems(this.searchTerm),console.log("Searched my data",this.books)},n.prototype.deleteBook=function(n){var l=this;console.log("Deleting Book "+n),this.booksService.deleteBook(n).subscribe(function(n){return l.removebook=n},function(n){return l.errMess=n}),this.booksService.deleteBookImage(n).subscribe(function(n){return console.log(n)},function(n){return l.errMess=n}),this.delete=!1,this.ngOnInit()},n.prototype.getCodeValue=function(n){return"xyz"===n?gn.getQrCode:"abc"===n?gn.getScannedCode:void 0},n.prototype.scanToLendOrRelease=function(n){return a.a(this,void 0,void 0,function(){var l=this;return a.c(this,function(o){switch(o.label){case 0:return[4,this._alertController.create({header:"Choose your action",message:"Lend or Make Book Available",buttons:[{text:"Lend",handler:function(){l.scanForLend(n)}},{text:"Make Available",handler:function(){l.scanForRelease(n)}}]})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2]}})})},n.prototype.getQRCheckString=function(n){console.log("INSIDE GET CHECK QR STRING");for(var l=0;l<this.books.length;l++)if(this.books[l]._id===n)return this.qrCheckString=this.books[l]._id+this.books[l].bookowner.username+this.books[l].bookcurrentuser,console.log("QR CHECK STRING",this.qrCheckString),this.qrCheckString},n.prototype.scanForLend=function(n){var l=this;console.log("INSIDE LEND"),this.booksService.getBook(n).subscribe(function(o){l.bookcurrentUsername=o.bookcurrentuser,l.qrCheckString=o._id+o.bookowner.username+o.bookcurrentuser,console.log("QR CHECK STRING IS",l.qrCheckString),l.barCodeScanner.scan({preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:500,formats:"EAN_13,EAN_8,QR_CODE,PDF_417 ",orientation:"portrait"}).then(function(e){console.log("CHECK STRING IS ------\x3e",l.qrCheckString),l.scannedData=e,console.log("SCANNED DATA IS ------\x3e ",l.scannedData.text),l.qrCheckString===l.scannedData.text?(console.log("MATCH SUCCESS"),console.log("LENDING BOOK "+n),l.router.navigate([l.currentRouter]),l.book=o,l.book.bookavailable=!1,l.book.bookreserved=!0,l.book.bookborrowed=!0,l.book.bookcurrentuser=l.bookcurrentUsername,l.book.bookcurrentstatus="borrowed",l.booksService.lendBook(n,l.book).subscribe(function(n){console.log(n),l.borrowed=!0,l.reserved=!0,l.qrCheckString=""}),l.ngOnInit()):console.log("QR CODES DON'T MATCH")}).catch(function(n){console.log("Error",n)})},function(n){return l.errMess=n})},n.prototype.scanForRelease=function(n){var l=this;console.log("INSIDE MAKE AVAILABLE"),this.booksService.getBook(n).subscribe(function(o){l.bookcurrentUsername=o.bookcurrentuser,l.qrCheckString=o._id+o.bookowner.username+o.bookcurrentuser,console.log("QR CHECK STRING IS",l.qrCheckString),l.barCodeScanner.scan({preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:500,formats:"EAN_13,EAN_8,QR_CODE,PDF_417 ",orientation:"portrait"}).then(function(e){console.log("CHECK STRING IS ------\x3e",l.qrCheckString),l.scannedData=e,console.log("SCANNED DATA IS ------\x3e ",l.scannedData.text),l.qrCheckString===l.scannedData.text?(console.log("MATCH SUCCESS"),console.log("RELEASING BOOK "+n),l.router.navigate([l.currentRouter]),l.booksService.deleteQRBookImage(n,l.bookcurrentUsername).subscribe(function(n){console.log(n),console.log("QR IMAGE DELETED"),l.book=o,l.book.bookavailable=!0,l.book.bookreserved=!1,l.book.bookborrowed=!1,l.book.bookcurrentuser="",l.book.bookcurrentstatus="available",l.booksService.releaseBook(l.book._id,l.book).subscribe(function(n){console.log(n),l.available=!0,l.reserved=!1,l.qrCheckString=""})},function(n){return l.errMess=n}),l.ngOnInit()):console.log("QR CODES DON'T MATCH")}).catch(function(n){console.log("Error",n)})},function(n){return l.errMess=n})},n.prototype.loadMoreBooks=function(n){setTimeout(function(){},3e3)},n.prototype.addBookModal=function(){return a.a(this,void 0,void 0,function(){return a.c(this,function(n){switch(n.label){case 0:return[4,this._modalController.create({component:f})];case 1:return[2,n.sent().present()]}})})},n.prototype.arBookModal=function(n,l){return a.a(this,void 0,void 0,function(){return a.c(this,function(o){switch(o.label){case 0:return[4,this._modalController.create({component:j,componentProps:{bookId:n,bookName:l}})];case 1:return[2,o.sent().present()]}})})},n}(),fn=o("ZYCi"),kn=e.nb({encapsulation:0,styles:[[".profile-pic[_ngcontent-%COMP%]{width:200px;height:200px;border:1px solid gray;margin:10px auto}.welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.display_heading[_ngcontent-%COMP%]{margin:10px auto}.spinner-container[_ngcontent-%COMP%]{width:100%;text-align:center;padding:10px}.book-card[_ngcontent-%COMP%]{margin:5px;padding:10px}.book-image[_ngcontent-%COMP%]{border:1px solid gray;margin:5px}.displaycard[_ngcontent-%COMP%]{margin:5px;padding:5px;background-color:#f5f5f5}.displayinnercard[_ngcontent-%COMP%]{margin-top:auto;margin-left:30px;padding:5px;background-color:#f8f8ff}.display_heading[_ngcontent-%COMP%]{margin-left:0;padding:0}ion-button[_ngcontent-%COMP%]{--background:#E9F7EF}ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}ion-item-option[_ngcontent-%COMP%]{--background:#F8F9F9}ion-list-header[_ngcontent-%COMP%]{padding-left:0;display:block;text-align:center}span.ion-text-left[_ngcontent-%COMP%]{margin-right:auto}"]],data:{}});function vn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    color: #FDFEFE  ; font-weight: bolder; font-size: 25px;"]],null,null,null,u.Sb,u.V)),e.ob(1,49152,null,0,i.yb,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,[" Manage "]))],null,null)}function yn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,u.Hb,u.L)),e.ob(1,49152,null,0,i.mb,[e.h,e.k],{value:[0,"value"]},null),(n()(),e.Gb(2,0,[" ",""]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function In(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),e.ob(1,49152,null,0,i.xb,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,o){var e=!0;return"load"===l&&(e=!1!==n.component.onImageLoad(o)&&e),e},_.b,_.a)),e.ob(3,114688,null,0,F.c,[e.k,e.D,F.b,F.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"})],function(n,l){n(l,3,0,"",l.component.bookIdImageMap.get(l.parent.parent.parent.context.$implicit._id))},null)}function xn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-card",[],null,null,null,u.gb,u.f)),e.ob(1,49152,null,0,i.l,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,In)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.component.showReserved)},null)}function Cn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: green"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function wn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: red"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function On(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: orange"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function _n(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,12,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.wb,u.z)),e.ob(1,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),e.Gb(3,null,["",""])),(n()(),e.pb(4,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),e.Gb(5,null,[" in ",". By - ","."])),(n()(),e.pb(6,0,null,0,0,"p",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,0,1,null,Cn)),e.ob(8,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,wn)),e.ob(10,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,On)),e.ob(12,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,8,0,"available"==l.parent.parent.context.$implicit.bookcurrentstatus),n(l,10,0,"borrowed"==l.parent.parent.context.$implicit.bookcurrentstatus),n(l,12,0,"reserved"==l.parent.parent.context.$implicit.bookcurrentstatus)},function(n,l){n(l,3,0,l.parent.parent.context.$implicit.bookname),n(l,5,0,l.parent.parent.context.$implicit.booklanguage,l.parent.parent.context.$implicit.bookauthor)})}function Fn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,5,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(1,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,xn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,_n)),e.ob(5,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var o=l.component;n(l,3,0,o.showReserved),n(l,5,0,o.showReserved)},null)}function Bn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/trash.svg"],["style","color: red"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.deleteBook(n.parent.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/trash.svg")},null)}function An(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(1,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Bn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.parent.context.$implicit.isAvailable)},null)}function Sn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.scanToLendOrRelease(n.parent.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/scan.svg")},null)}function Mn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(1,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Sn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,(l.parent.context.$implicit.isReserved||l.parent.context.$implicit.isBorrowed)&&!l.parent.context.$implicit.isAvailable)},null)}function Ln(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,15,"ion-item-sliding",[],null,null,null,u.ub,u.y)),e.ob(1,49152,null,0,i.L,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Fn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(4,0,null,0,3,"ion-item-options",[["side","start"]],null,null,null,u.tb,u.x)),e.ob(5,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.gb(16777216,null,0,1,null,An)),e.ob(7,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(8,0,null,0,7,"ion-item-options",[["side","end"]],null,null,null,u.tb,u.x)),e.ob(9,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.gb(16777216,null,0,1,null,Mn)),e.ob(11,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(12,0,null,0,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(13,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.pb(14,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan-circle-outline.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.arBookModal(n.context.$implicit._id,n.context.$implicit.bookname)&&e),e},u.ob,u.r)),e.ob(15,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){var o=l.component;n(l,3,0,o.showReserved),n(l,5,0,"start"),n(l,7,0,o.showReserved),n(l,9,0,"end"),n(l,11,0,o.showReserved),n(l,15,0,"../assets/icon/scan-circle-outline.svg")},null)}function En(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),e.ob(1,49152,null,0,i.xb,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,o){var e=!0;return"load"===l&&(e=!1!==n.component.onImageLoad(o)&&e),e},_.b,_.a)),e.ob(3,114688,null,0,F.c,[e.k,e.D,F.b,F.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"})],function(n,l){n(l,3,0,"",l.component.bookIdImageMap.get(l.parent.parent.parent.context.$implicit._id))},null)}function Tn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-card",[],null,null,null,u.gb,u.f)),e.ob(1,49152,null,0,i.l,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,En)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.component.showAvailable)},null)}function Dn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: green"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function Rn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: red"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function Pn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: orange"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function Un(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,12,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.wb,u.z)),e.ob(1,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),e.Gb(3,null,["",""])),(n()(),e.pb(4,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),e.Gb(5,null,[" in ",". By - ","."])),(n()(),e.pb(6,0,null,0,0,"p",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,0,1,null,Dn)),e.ob(8,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Rn)),e.ob(10,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Pn)),e.ob(12,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,8,0,"available"==l.parent.parent.context.$implicit.bookcurrentstatus),n(l,10,0,"borrowed"==l.parent.parent.context.$implicit.bookcurrentstatus),n(l,12,0,"reserved"==l.parent.parent.context.$implicit.bookcurrentstatus)},function(n,l){n(l,3,0,l.parent.parent.context.$implicit.bookname),n(l,5,0,l.parent.parent.context.$implicit.booklanguage,l.parent.parent.context.$implicit.bookauthor)})}function Gn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,5,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(1,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Tn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Un)),e.ob(5,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var o=l.component;n(l,3,0,o.showAvailable),n(l,5,0,o.showAvailable)},null)}function qn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/trash.svg"],["style","color: red"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.deleteBook(n.parent.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/trash.svg")},null)}function $n(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(1,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,qn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.parent.context.$implicit.isAvailable)},null)}function jn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.scanToLendOrRelease(n.parent.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/scan.svg")},null)}function Nn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(1,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,jn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,(l.parent.context.$implicit.isReserved||l.parent.context.$implicit.isBorrowed)&&!l.parent.context.$implicit.isAvailable)},null)}function zn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,15,"ion-item-sliding",[],null,null,null,u.ub,u.y)),e.ob(1,49152,null,0,i.L,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Gn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(4,0,null,0,3,"ion-item-options",[["side","start"]],null,null,null,u.tb,u.x)),e.ob(5,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.gb(16777216,null,0,1,null,$n)),e.ob(7,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(8,0,null,0,7,"ion-item-options",[["side","end"]],null,null,null,u.tb,u.x)),e.ob(9,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.gb(16777216,null,0,1,null,Nn)),e.ob(11,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(12,0,null,0,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(13,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.pb(14,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan-circle-outline.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.arBookModal(n.context.$implicit._id,n.context.$implicit.bookname)&&e),e},u.ob,u.r)),e.ob(15,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){var o=l.component;n(l,3,0,o.showAvailable),n(l,5,0,"start"),n(l,7,0,o.showAvailable),n(l,9,0,"end"),n(l,11,0,o.showAvailable),n(l,15,0,"../assets/icon/scan-circle-outline.svg")},null)}function Hn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),e.ob(1,49152,null,0,i.xb,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,o){var e=!0;return"load"===l&&(e=!1!==n.component.onImageLoad(o)&&e),e},_.b,_.a)),e.ob(3,114688,null,0,F.c,[e.k,e.D,F.b,F.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"})],function(n,l){n(l,3,0,"",l.component.bookIdImageMap.get(l.parent.parent.parent.context.$implicit._id))},null)}function Kn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-card",[],null,null,null,u.gb,u.f)),e.ob(1,49152,null,0,i.l,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Hn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.component.showBorrowed)},null)}function Wn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: green"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function Vn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: red"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function Jn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: orange"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit.bookcurrentstatus)})}function Qn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,12,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.wb,u.z)),e.ob(1,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),e.Gb(3,null,["",""])),(n()(),e.pb(4,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),e.Gb(5,null,[" in ",". By - ","."])),(n()(),e.pb(6,0,null,0,0,"p",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,0,1,null,Wn)),e.ob(8,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Vn)),e.ob(10,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Jn)),e.ob(12,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,8,0,"available"==l.parent.parent.context.$implicit.bookcurrentstatus),n(l,10,0,"borrowed"==l.parent.parent.context.$implicit.bookcurrentstatus),n(l,12,0,"reserved"==l.parent.parent.context.$implicit.bookcurrentstatus)},function(n,l){n(l,3,0,l.parent.parent.context.$implicit.bookname),n(l,5,0,l.parent.parent.context.$implicit.booklanguage,l.parent.parent.context.$implicit.bookauthor)})}function Xn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,5,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(1,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Kn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,Qn)),e.ob(5,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var o=l.component;n(l,3,0,o.showBorrowed),n(l,5,0,o.showBorrowed)},null)}function Yn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/trash.svg"],["style","color: red"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.deleteBook(n.parent.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/trash.svg")},null)}function Zn(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(1,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Yn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.parent.context.$implicit.isAvailable)},null)}function nl(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.scanToLendOrRelease(n.parent.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/scan.svg")},null)}function ll(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(1,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,nl)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,(l.parent.context.$implicit.isReserved||l.parent.context.$implicit.isBorrowed)&&!l.parent.context.$implicit.isAvailable)},null)}function ol(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,15,"ion-item-sliding",[],null,null,null,u.ub,u.y)),e.ob(1,49152,null,0,i.L,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,Xn)),e.ob(3,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(4,0,null,0,3,"ion-item-options",[["side","start"]],null,null,null,u.tb,u.x)),e.ob(5,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.gb(16777216,null,0,1,null,Zn)),e.ob(7,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(8,0,null,0,7,"ion-item-options",[["side","end"]],null,null,null,u.tb,u.x)),e.ob(9,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.gb(16777216,null,0,1,null,ll)),e.ob(11,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(12,0,null,0,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(13,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.pb(14,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan-circle-outline.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.arBookModal(n.context.$implicit._id,n.context.$implicit.bookname)&&e),e},u.ob,u.r)),e.ob(15,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){var o=l.component;n(l,3,0,o.showBorrowed),n(l,5,0,"start"),n(l,7,0,o.showBorrowed),n(l,9,0,"end"),n(l,11,0,o.showBorrowed),n(l,15,0,"../assets/icon/scan-circle-outline.svg")},null)}function el(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: green"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.context.$implicit.bookcurrentstatus)})}function tl(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: red"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.context.$implicit.bookcurrentstatus)})}function ul(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,2,"ion-note",[["style","color: orange"]],null,null,null,u.zb,u.C)),e.ob(1,49152,null,0,i.W,[e.h,e.k],null,null),(n()(),e.Gb(2,0,["",""]))],null,function(n,l){n(l,2,0,l.parent.context.$implicit.bookcurrentstatus)})}function il(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/trash.svg"],["style","color: red"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.deleteBook(n.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/trash.svg")},null)}function rl(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.scanToLendOrRelease(n.parent.context.$implicit._id)&&e),e},u.ob,u.r)),e.ob(1,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/scan.svg")},null)}function sl(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,38,"ion-item-sliding",[],null,null,null,u.ub,u.y)),e.ob(1,49152,null,0,i.L,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,20,"ion-item",[],null,null,null,u.vb,u.v)),e.ob(3,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,5,"ion-card",[],null,null,null,u.gb,u.f)),e.ob(5,49152,null,0,i.l,[e.h,e.k],null,null),(n()(),e.pb(6,0,null,0,3,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),e.ob(7,49152,null,0,i.xb,[e.h,e.k],null,null),(n()(),e.pb(8,0,null,0,1,"img-loader",[["useImg",""]],null,[[null,"load"]],function(n,l,o){var e=!0;return"load"===l&&(e=!1!==n.component.onImageLoad(o)&&e),e},_.b,_.a)),e.ob(9,114688,null,0,F.c,[e.k,e.D,F.b,F.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),e.pb(10,0,null,0,12,"ion-label",[["class","ion-text-wrap"]],null,null,null,u.wb,u.z)),e.ob(11,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.pb(12,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),e.Gb(13,null,["",""])),(n()(),e.pb(14,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),e.Gb(15,null,[" in ",". By - ","."])),(n()(),e.pb(16,0,null,0,0,"p",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,0,1,null,el)),e.ob(18,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,tl)),e.ob(20,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,ul)),e.ob(22,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(23,0,null,0,5,"ion-item-options",[["side","start"]],null,null,null,u.tb,u.x)),e.ob(24,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.pb(25,0,null,0,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(26,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,il)),e.ob(28,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(29,0,null,0,9,"ion-item-options",[["side","end"]],null,null,null,u.tb,u.x)),e.ob(30,49152,null,0,i.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.pb(31,0,null,0,7,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(32,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,rl)),e.ob(34,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(35,0,null,0,3,"ion-item-option",[],null,null,null,u.sb,u.w)),e.ob(36,49152,null,0,i.J,[e.h,e.k],null,null),(n()(),e.pb(37,0,null,0,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/scan-circle-outline.svg"],["style","color: darkgreen"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.arBookModal(n.context.$implicit._id,n.context.$implicit.bookname)&&e),e},u.ob,u.r)),e.ob(38,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,9,0,"",l.component.bookIdImageMap.get(l.context.$implicit._id)),n(l,18,0,"available"==l.context.$implicit.bookcurrentstatus),n(l,20,0,"borrowed"==l.context.$implicit.bookcurrentstatus),n(l,22,0,"reserved"==l.context.$implicit.bookcurrentstatus),n(l,24,0,"start"),n(l,28,0,l.context.$implicit.isAvailable),n(l,30,0,"end"),n(l,34,0,(l.context.$implicit.isReserved||l.context.$implicit.isBorrowed)&&!l.context.$implicit.isAvailable),n(l,38,0,"../assets/icon/scan-circle-outline.svg")},function(n,l){n(l,13,0,l.context.$implicit.bookname),n(l,15,0,l.context.$implicit.booklanguage,l.context.$implicit.bookauthor)})}function al(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,5,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,u.nb,u.q)),e.ob(1,49152,null,0,i.A,[e.h,e.k],{translucent:[0,"translucent"]},null),(n()(),e.pb(2,0,null,0,3,"ion-toolbar",[],null,null,null,u.Tb,u.W)),e.ob(3,49152,null,0,i.Ab,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,vn)),e.ob(5,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(6,0,null,null,39,"ion-content",[],null,null,null,u.jb,u.m)),e.ob(7,49152,null,0,i.t,[e.h,e.k],null,null),(n()(),e.pb(8,0,null,0,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.addBookModal()&&e),e},u.ab,u.d)),e.ob(9,49152,null,0,i.j,[e.h,e.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e.pb(10,0,null,0,1,"ion-icon",[["src","../assets/icon/add-circle.svg"],["style","color: #145A32;"]],null,null,null,u.ob,u.r)),e.ob(11,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null),(n()(),e.pb(12,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  #17202A; margin-left: 5px; "]],null,null,null,null,null)),(n()(),e.Gb(-1,null,["Add New Book"])),(n()(),e.pb(14,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,o){var e=!0;return"ionRefresh"===l&&(e=!1!==n.component.refreshBookList(o)&&e),e},u.Cb,u.E)),e.ob(15,49152,null,0,i.bb,[e.h,e.k],null,null),(n()(),e.pb(16,0,null,0,1,"ion-refresher-content",[["pullingText","pull for update"],["refreshingText","...updating"]],null,null,null,u.Bb,u.F)),e.ob(17,49152,null,0,i.cb,[e.h,e.k],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(n()(),e.pb(18,0,null,0,27,"ion-list",[],null,null,null,u.yb,u.A)),e.ob(19,49152,null,0,i.N,[e.h,e.k],null,null),(n()(),e.pb(20,0,null,0,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"]],null,null,null,u.ab,u.d)),e.ob(21,49152,null,0,i.j,[e.h,e.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e.pb(22,0,null,0,1,"ion-icon",[["src","../assets/icon/book.svg"],["style","color: #145A32; "]],null,null,null,u.ob,u.r)),e.ob(23,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null),(n()(),e.pb(24,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  #17202A; margin-left: 5px; "]],null,null,null,null,null)),(n()(),e.Gb(-1,null,["My books by status"])),(n()(),e.pb(26,0,null,0,5,"ion-select",[["interface","popover"],["placeholder","Select .."]],null,[[null,"ionChange"],[null,"ionBlur"]],function(n,l,o){var t=!0,u=n.component;return"ionBlur"===l&&(t=!1!==e.yb(n,29)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==e.yb(n,29)._handleChangeEvent(o.target.value)&&t),"ionChange"===l&&(t=!1!==u.displayBooksByStatus(o)&&t),t},u.Ib,u.K)),e.Db(5120,null,r.g,function(n){return[n]},[i.Mb]),e.ob(28,49152,null,0,i.lb,[e.h,e.k],{placeholder:[0,"placeholder"],interface:[1,"interface"]},null),e.ob(29,16384,null,0,i.Mb,[e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,yn)),e.ob(31,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.gb(16777216,null,0,1,null,Ln)),e.ob(33,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.gb(16777216,null,0,1,null,zn)),e.ob(35,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.gb(16777216,null,0,1,null,ol)),e.ob(37,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(38,0,null,0,5,"ion-button",[["expand","block"],["margin-top",""],["shape","round"]],null,null,null,u.ab,u.d)),e.ob(39,49152,null,0,i.j,[e.h,e.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e.pb(40,0,null,0,1,"ion-icon",[["src","../assets/icon/book.svg"],["style","color: #145A32; "]],null,null,null,u.ob,u.r)),e.ob(41,49152,null,0,i.B,[e.h,e.k],{src:[0,"src"]},null),(n()(),e.pb(42,0,null,0,1,"span",[["class","ion-text-left"],["style","color:  #17202A; margin-left: 5px; "]],null,null,null,null,null)),(n()(),e.Gb(-1,null,["All my books"])),(n()(),e.gb(16777216,null,0,1,null,sl)),e.ob(45,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var o=l.component;n(l,1,0,!0),n(l,5,0,o.username),n(l,9,0,"block","round"),n(l,11,0,"../assets/icon/add-circle.svg"),n(l,17,0,"pull for update","...updating"),n(l,21,0,"block","round"),n(l,23,0,"../assets/icon/book.svg"),n(l,28,0,"Select ..","popover"),n(l,31,0,o.bookcurrentstatus),n(l,33,0,o.reservedBooks),n(l,35,0,o.availableBooks),n(l,37,0,o.borrowedBooks),n(l,39,0,"block","round"),n(l,41,0,"../assets/icon/book.svg"),n(l,45,0,o.allBooks)},null)}function cl(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"app-tab3",[],null,null,null,al,kn)),e.ob(1,4308992,null,0,mn,[d.a,i.a,i.Gb,b.a,i.Hb,tn.a,"baseURL",fn.m,fn.a,hn.a,r.b,dn,p.a,rn.a,sn.a,un.a,fn.a,on.a,F.b],null,null)],function(n,l){n(l,1,0)},null)}var pl=e.lb("app-tab3",mn,cl,{},{},[]),bl=function(){return function(){}}(),dl=function(){return function(){}}();o.d(l,"Tab3PageModuleNgFactory",function(){return hl});var hl=e.mb(t,[],function(n){return e.vb([e.wb(512,e.j,e.bb,[[8,[O,nn,ln.a,pl]],[3,e.j],e.x]),e.wb(4608,s.l,s.k,[e.u,[2,s.r]]),e.wb(4608,r.p,r.p,[]),e.wb(4608,i.b,i.b,[e.z,e.g]),e.wb(4608,i.Gb,i.Gb,[i.b,e.j,e.q,s.c]),e.wb(4608,i.Kb,i.Kb,[i.b,e.j,e.q,s.c]),e.wb(4608,r.b,r.b,[]),e.wb(4608,cn.j,cn.p,[s.c,e.B,cn.n]),e.wb(4608,cn.q,cn.q,[cn.j,cn.o]),e.wb(5120,cn.a,function(n){return[n]},[cn.q]),e.wb(4608,cn.m,cn.m,[]),e.wb(6144,cn.k,null,[cn.m]),e.wb(4608,cn.i,cn.i,[cn.k]),e.wb(6144,cn.b,null,[cn.i]),e.wb(4608,cn.g,cn.l,[cn.b,e.q]),e.wb(4608,cn.c,cn.c,[cn.g]),e.wb(4608,g.a,g.a,[]),e.wb(4608,F.a,F.a,[]),e.wb(4608,F.b,F.b,[F.a,g.a,cn.c,i.Jb,h.a]),e.wb(1073742336,s.b,s.b,[]),e.wb(1073742336,r.n,r.n,[]),e.wb(1073742336,r.f,r.f,[]),e.wb(1073742336,i.Cb,i.Cb,[]),e.wb(1073742336,r.l,r.l,[]),e.wb(1073742336,bl,bl,[]),e.wb(1073742336,T,T,[]),e.wb(1073742336,cn.e,cn.e,[]),e.wb(1073742336,cn.d,cn.d,[]),e.wb(1073742336,F.d,F.d,[]),e.wb(1073742336,dl,dl,[]),e.wb(1073742336,fn.o,fn.o,[[2,fn.u],[2,fn.m]]),e.wb(1073742336,t,t,[]),e.wb(256,cn.n,"XSRF-TOKEN",[]),e.wb(256,cn.o,"X-XSRF-TOKEN",[]),e.wb(1024,fn.k,function(){return[[{path:"",component:mn}]]},[])])})}}]);