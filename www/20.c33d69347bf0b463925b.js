(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{JQOA:function(n,o,t){"use strict";t.r(o);var l=t("CcnG"),e=t("mrSG"),u=t("ZZ/e"),r=t("a3Cf"),i=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return e.b(o,n),o.prototype.add=function(n,o){return Object(r.cordova)(this,"add",{},[{param1:n,param2:o}])},o.prototype.getContacts=function(){return Object(r.cordova)(this,"getContacts",{},[{}])},o.prototype.viewAR=function(n){return Object(r.cordova)(this,"viewAR",{},[{param1:n}])},o.pluginName="arplugin",o.plugin="cordova-plugin-arplugin",o.pluginRef="ArPlugin",o.repo="https://github.com/patilkunal-82/arplugin.git",o.platforms=["iOS"],o.ngInjectableDef=l.S({factory:function(){return new o},token:o,providedIn:"root"}),o}(r.IonicNativePlugin),a=t("JhVf"),s=t("d5rD"),c=t("F/XL"),b=t("9Z1F"),p=t("mI4i"),d=t("lUK6"),h=t("lGQG"),g=t("t/Na"),f=function(){function n(n,o,t){this.http=n,this.auth=o,this.processHTTPMsgService=t}return n.prototype.getARenabledBooks=function(){return this.auth.isLoggedIn()?this.http.get(p.a+"arenabled?isARenabled=true").pipe(Object(b.a)(this.processHTTPMsgService.handleError)):null},n.prototype.isARenabled=function(n){var o=this;return this.auth.isLoggedIn()?this.http.get(p.a+"arenabled/"+n).pipe(Object(b.a)(function(n){return o.processHTTPMsgService.handleError(n)})):Object(c.a)({exists:!1,book:null})},n.ngInjectableDef=l.S({factory:function(){return new n(l.W(g.c),l.W(h.a),l.W(d.a))},token:n,providedIn:"root"}),n}(),k=function(){function n(n,o,t,l,e,u,r){this.modalCtrl=n,this.pluginService=o,this.alertController=t,this.readarsService=l,this.imageLoaderService=e,this.booksService=u,this.arenabledService=r,this.contacts=[],this.images=[],this.arbooks=[],this.recobooks=[],this.bookGenreCollection=[],this.bookLanguageCollection=[],this.bookIdsImages=new Map,this.bookIdImageMap=new Map}return n.prototype.ngOnInit=function(){var n=this;this.arenabledService.getARenabledBooks().subscribe(function(o){n.arbooks=o,n.prepareBookIdsImagesMap()},function(o){return n.errMess=o})},n.prototype.prepareBookIdsImagesMap=function(){var n=this;this.readarsService.getBookIds().subscribe(function(o){n.bookIds=o,n.storeBookIds(n.bookIds),n.lbookIds=n.loadBookIds();for(var t=function(o){n.readarsService.getBookImage(n.lbookIds[o]).subscribe(function(t){n.url=t,console.log("this.url",n.url),n.bookIdImageMap.set(n.lbookIds[o],n.url),console.log("book image map",n.bookIdImageMap)},function(n){return console.log(n)})},l=0;l<n.lbookIds.length;l++)t(l)},function(o){return n.errMess=o})},n.prototype.onImageLoad=function(n){console.log("image ready")},n.prototype.storeBookIds=function(n){console.log("BookIds stored are :",n),localStorage.setItem("bookIds",JSON.stringify(n))},n.prototype.loadBookIds=function(){if(this.bookIds=JSON.parse(localStorage.getItem("bookIds")),console.log("bookIds ",this.bookIds),this.bookIds)return this.bookIds},n.prototype.viewAR=function(n){return e.a(this,void 0,void 0,function(){return e.c(this,function(o){return console.log("bookID is ",n),this.pluginService.viewAR(n),[2]})})},n.prototype.viewAnchors=function(){},n.prototype.close=function(){this.modalCtrl.dismiss()},n.prototype.add=function(){var n=this;this.pluginService.add(5,3).then(function(o){n.total=o,n.presentAlert("The sum is "+o)}).catch(function(n){return console.error("add"+n)})},n.prototype.loadContacts=function(){return e.a(this,void 0,void 0,function(){var n;return e.c(this,function(o){switch(o.label){case 0:return n=this,[4,this.pluginService.getContacts()];case 1:return n.contacts=o.sent(),console.log("my contacts",this.contacts),[2]}})})},n.prototype.presentAlert=function(n){return e.a(this,void 0,void 0,function(){return e.c(this,function(o){switch(o.label){case 0:return[4,this.alertController.create({subHeader:"Alert",message:n,buttons:["OK"]})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2]}})})},n}(),m=function(){return function(){}}(),I=t("pMnS"),w=t("oBZk"),v=t("0mKY"),y=t("5IZ8"),S=t("Ip0R"),A=l.nb({encapsulation:2,styles:[["ion-toolbar{--background:#145A32}iframe{position:absolute;width:100%;height:100%;border:none}.bookimage{width:225%;height:auto;margin:10px auto}ion-button{--background:#E9F7EF}"]],data:{}});function j(n){return l.Ib(0,[(n()(),l.pb(0,0,null,null,10,"ion-item",[],null,null,null,w.vb,w.v)),l.ob(1,49152,null,0,u.G,[l.h,l.k],null,null),(n()(),l.pb(2,0,null,0,1,"img-loader",[["button",""],["class","bookimage"],["useImg",""]],null,[[null,"load"]],function(n,o,t){var l=!0;return"load"===o&&(l=!1!==n.component.onImageLoad(t)&&l),l},v.b,v.a)),l.ob(3,114688,null,0,y.c,[l.k,l.D,y.b,y.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),l.pb(4,0,null,0,2,"ion-button",[["expand","block"],["margin",""],["shape","round"],["style","color: #145A32"]],null,[[null,"click"]],function(n,o,t){var l=!0;return"click"===o&&(l=!1!==n.component.viewAR(n.context.$implicit._id)&&l),l},w.ab,w.d)),l.ob(5,49152,null,0,u.j,[l.h,l.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),l.Gb(-1,0,["View AR"])),(n()(),l.pb(7,0,null,0,0,"p",[],null,null,null,null,null)),(n()(),l.pb(8,0,null,0,2,"ion-button",[["expand","block"],["margin",""],["shape","round"],["style","color: #145A32"]],null,[[null,"click"]],function(n,o,t){var l=!0;return"click"===o&&(l=!1!==n.component.viewAnchors()&&l),l},w.ab,w.d)),l.ob(9,49152,null,0,u.j,[l.h,l.k],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),l.Gb(-1,0,["View Anchor Index"]))],function(n,o){n(o,3,0,"",o.component.bookIdImageMap.get(o.context.$implicit._id)),n(o,5,0,"block","round"),n(o,9,0,"block","round")},null)}function O(n){return l.Ib(0,[(n()(),l.pb(0,0,null,null,12,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,w.nb,w.q)),l.ob(1,49152,null,0,u.A,[l.h,l.k],{translucent:[0,"translucent"]},null),(n()(),l.pb(2,0,null,0,10,"ion-toolbar",[],null,null,null,w.Tb,w.W)),l.ob(3,49152,null,0,u.Ab,[l.h,l.k],null,null),(n()(),l.pb(4,0,null,0,2,"ion-title",[["size","large"],["style","font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n               color: #FDFEFE  ; font-weight: bolder; font-size: 25px;"]],null,null,null,w.Sb,w.V)),l.ob(5,49152,null,0,u.yb,[l.h,l.k],null,null),(n()(),l.Gb(-1,0,[" Immerse "])),(n()(),l.pb(7,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,w.bb,w.e)),l.ob(8,49152,null,0,u.k,[l.h,l.k],null,null),(n()(),l.pb(9,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,o,t){var l=!0;return"click"===o&&(l=!1!==n.component.close()&&l),l},w.ab,w.d)),l.ob(10,49152,null,0,u.j,[l.h,l.k],null,null),(n()(),l.pb(11,0,null,0,1,"ion-icon",[["name","close"],["slot","icon-only"]],null,null,null,w.ob,w.r)),l.ob(12,49152,null,0,u.B,[l.h,l.k],{name:[0,"name"]},null),(n()(),l.pb(13,0,null,null,5,"ion-content",[],null,null,null,w.jb,w.m)),l.ob(14,49152,null,0,u.t,[l.h,l.k],null,null),(n()(),l.pb(15,0,null,0,3,"ion-list",[],null,null,null,w.yb,w.A)),l.ob(16,49152,null,0,u.N,[l.h,l.k],null,null),(n()(),l.gb(16777216,null,0,1,null,j)),l.ob(18,278528,null,0,S.i,[l.O,l.L,l.s],{ngForOf:[0,"ngForOf"]},null)],function(n,o){var t=o.component;n(o,1,0,!0),n(o,12,0,"close"),n(o,18,0,t.arbooks)},null)}function x(n){return l.Ib(0,[(n()(),l.pb(0,0,null,null,1,"app-tab5",[],null,null,null,O,A)),l.ob(1,114688,null,0,k,[u.Gb,i,u.a,a.a,y.b,s.a,f],null,null)],function(n,o){n(o,1,0)},null)}var C=l.lb("app-tab5",k,x,{},{},[]),M=t("gIcY"),B=t("t8sF"),R=t("Yttj"),F=t("ZYCi");t.d(o,"Tab5PageModuleNgFactory",function(){return G});var G=l.mb(m,[],function(n){return l.vb([l.wb(512,l.j,l.bb,[[8,[I.a,C]],[3,l.j],l.x]),l.wb(4608,S.l,S.k,[l.u,[2,S.r]]),l.wb(4608,M.p,M.p,[]),l.wb(4608,u.b,u.b,[l.z,l.g]),l.wb(4608,u.Gb,u.Gb,[u.b,l.j,l.q,S.c]),l.wb(4608,u.Kb,u.Kb,[u.b,l.j,l.q,S.c]),l.wb(4608,g.j,g.p,[S.c,l.B,g.n]),l.wb(4608,g.q,g.q,[g.j,g.o]),l.wb(5120,g.a,function(n){return[n]},[g.q]),l.wb(4608,g.m,g.m,[]),l.wb(6144,g.k,null,[g.m]),l.wb(4608,g.i,g.i,[g.k]),l.wb(6144,g.b,null,[g.i]),l.wb(4608,g.g,g.l,[g.b,l.q]),l.wb(4608,g.c,g.c,[g.g]),l.wb(4608,B.a,B.a,[]),l.wb(4608,y.a,y.a,[]),l.wb(4608,y.b,y.b,[y.a,B.a,g.c,u.Jb,R.a]),l.wb(1073742336,S.b,S.b,[]),l.wb(1073742336,M.n,M.n,[]),l.wb(1073742336,M.f,M.f,[]),l.wb(1073742336,u.Cb,u.Cb,[]),l.wb(1073742336,F.o,F.o,[[2,F.u],[2,F.m]]),l.wb(1073742336,g.e,g.e,[]),l.wb(1073742336,g.d,g.d,[]),l.wb(1073742336,y.d,y.d,[]),l.wb(1073742336,m,m,[]),l.wb(256,g.n,"XSRF-TOKEN",[]),l.wb(256,g.o,"X-XSRF-TOKEN",[]),l.wb(1024,F.k,function(){return[[{path:"",component:k}]]},[])])})}}]);