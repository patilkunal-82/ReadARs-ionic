<ion-header>
  <ion-toolbar>
    <ion-title>
      My Books
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!-- <ion-avatar (click)="selectImageSource()" class="profile-pic">
    <ion-img [src]="myProfileImage"></ion-img>
  </ion-avatar>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Dummy Text</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      Dummy Text
    </ion-card-content>
  </ion-card> -->
  <ion-refresher slot="fixed" (ionRefresh)="refreshBookList($event)">
    <ion-refresher-content pullingText="pull for update" refreshingText= "...updating">
    </ion-refresher-content>
  </ion-refresher>

  <ion-card>
    <ion-card-title style="color: green;" class="display_heading">Your books in ReadARs Library</ion-card-title>

    <ion-fab vertical="top" horizontal="end" slot="fixed">
      <ion-fab-button>
        <ion-icon src="../assets/icon/caret-back.svg"></ion-icon>
      </ion-fab-button>
      <ion-fab-list side="start">
        <ion-fab-button (click)="addBookModal()">
          <ion-icon src="../assets/icon/add-circle.svg" color="primary"></ion-icon>
        </ion-fab-button>
      </ion-fab-list>
    </ion-fab>

  </ion-card>

  <ion-searchbar no-margin [(ngModel)]="searchTerm"
    (ionChange)="setFilteredItems()" placeholder="Search by book title or language ..."></ion-searchbar>

  <ion-list>
    <ion-item-sliding *ngFor="let book of books">
         <ion-item>
           <ion-label>
             <h2>{{book.bookname}}</h2>
             <p>{{book.bookdescription}}</p>
             <h3>{{book.booklanguage}}</h3>
           </ion-label>
         </ion-item>
        <ion-item-options side="start">
         <ion-item-option>
           <ion-icon *ngIf="book.isAvailable" slot="icon-only" src="../assets/icon/trash.svg"
           (click)="deleteBook(book._id)"></ion-icon>
         </ion-item-option>
       </ion-item-options>
       <ion-item-options side="end">
        <ion-item-option >
          <ion-icon  *ngIf="book.isReserved && !book.isBorrowed && !book.isAvailable" slot="icon-only"
          src="../assets/icon/book.svg" (click)="lendBook(book._id)"></ion-icon>
        </ion-item-option>
        <ion-item-option>
          <ion-icon  *ngIf="book.isReserved || book.isBorrowed && !book.isAvailable" slot="icon-only"
          src="../assets/icon/make-available.svg" (click)="releaseBook(book._id)"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

<!--
 -->

  <ion-infinite-scroll (ionInfinite)="loadMoreBooks($event)">
  <!--<ion-infinite-scroll-content loadingText="..loading">
    </ion-infinite-scroll-content> -->
  </ion-infinite-scroll>



</ion-content>
