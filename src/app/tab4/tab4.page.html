<ion-header color="success" [translucent]="true" collapse="condense">
  <ion-toolbar >
    <ion-title size="large" 
               style="font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
               color: #FDFEFE  ; font-weight: bolder; font-size: 25px;">
     Search All
    </ion-title>
  </ion-toolbar>


</ion-header> 

<ion-content>

  <ion-searchbar shape="round" no-margin [(ngModel)]="searchTerm"
      (ionChange)="setFilteredItems()" placeholder="Search..">
  </ion-searchbar>

  <ion-refresher slot="fixed" (ionRefresh)="refreshBookList($event)">
    <ion-refresher-content pullingText="pull for update" refreshingText= "...updating">
    </ion-refresher-content>
  </ion-refresher>

  <ion-spinner *ngIf="showSpinner" class="spin"></ion-spinner>
   <ion-list *ngIf="!showSpinner">
      <ion-virtual-scroll [items]="books | sort: {property: column, order: order}">
        <div *virtualItem="let book">
            <ion-item [routerLink]="['bookdetail', book._id]"> 
              <ion-avatar>
                <!--<ion-img [src]="(bookIdImageMap.get(book._id))"></ion-img>-->
                <img-loader [src]="(bookIdImageMap.get(book._id))" useImg (load)="onImageLoad($event)"></img-loader>
              </ion-avatar>
               <ion-label class="book-display">
                <span class="ion-text-wrap"><h3><strong>{{book.bookname}}</strong></h3></span>
                <h4 style="color:darkgrey"> in {{book.booklanguage}}. By - {{book.bookauthor}}.</h4>
                <span *ngIf="book.bookcurrentstatus == 'available' " style="color: green; font-size: small;">{{book.bookcurrentstatus}}</span>
                <span *ngIf="book.bookcurrentstatus == 'borrowed' " style="color: red; font-size: small;">{{book.bookcurrentstatus}}</span>
                <span *ngIf="book.bookcurrentstatus == 'reserved' " style="color: orange; font-size: small;">{{book.bookcurrentstatus}}</span>
              </ion-label>
            </ion-item>
        </div>
      </ion-virtual-scroll>
    </ion-list>
 
  
  
    <!--<ion-list *ngIf="showSkeleton">
      <ion-virtual-scroll [items]="books | sort: {property: column, order: order}">
        <div *virtualItem="let book">
            <ion-item> 
              <ion-avatar>
                <ion-skeleton-text animated></ion-skeleton-text>
              </ion-avatar>
               <ion-label class="book-display">
                <ion-skeleton-text animated></ion-skeleton-text>
                <ion-skeleton-text animated></ion-skeleton-text>
                <ion-skeleton-text animated></ion-skeleton-text>
                <ion-skeleton-text animated></ion-skeleton-text>
                <ion-skeleton-text animated></ion-skeleton-text>
              </ion-label>
            </ion-item>
          </div>
        </ion-virtual-scroll>
    </ion-list>-->

  

 

  <!-- <ion-infinite-scroll (ionInfinite)="loadMoreBooks($event)">
    <ion-infinite-scroll-content loadingText="..loading">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>  -->


</ion-content>


