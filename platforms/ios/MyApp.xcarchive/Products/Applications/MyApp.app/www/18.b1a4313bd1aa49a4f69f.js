(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{W9vR:function(n,l,o){"use strict";o.r(l);var e=o("CcnG"),i=function(){return function(){}}(),t=o("pMnS"),r=o("oBZk"),u=o("ZZ/e"),s=o("Ip0R"),c=o("gIcY"),b=o("Pn9U"),a=["English","Hindi","Marathi","German","Tamil","Spanish","French","Telugu","Latin","Malyalam"],h=["None","Tel","Email"],d=o("lGQG"),g=o("d5rD"),p=o("JhVf"),k=o("fNyx"),v=o("S6gA"),f=o("F/XL"),m=o("9Z1F"),w=o("mI4i"),y=o("lUK6"),x=o("t/Na"),B=function(){function n(n,l,o){this.http=n,this.auth=l,this.processHTTPMsgService=o}return n.prototype.isBorrowed=function(n){var l=this;return this.auth.isLoggedIn()?this.http.get(w.a+"borrowed/"+n).pipe(Object(m.a)(function(n){return l.processHTTPMsgService.handleError(n)})):Object(f.a)({exists:!1,book:null})},n.ngInjectableDef=e.S({factory:function(){return new n(e.W(x.c),e.W(d.a),e.W(y.a))},token:n,providedIn:"root"}),n}(),S=function(){function n(n,l){this.http=n,this.processHTTPMsgService=l}return n.prototype.submitFeedback=function(n){var l={headers:new x.h({"Content-Type":"application/json"})};return this.http.post(w.a+"feedback/",n,l).pipe(Object(m.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeedback=function(){return this.http.get(w.a+"feedback").pipe(Object(m.a)(this.processHTTPMsgService.handleError))},n.prototype.getFeaturedFeedback=function(){return this.http.get(w.a+"feedback?rating=5").pipe(Object(m.a)(this.processHTTPMsgService.handleError))},n.ngInjectableDef=e.S({factory:function(){return new n(e.W(x.c),e.W(y.a))},token:n,providedIn:"root"}),n}(),I=o("LwiL"),T=function(){function n(n,l,o,e,i,t,r,u,s,b,d,g,p,k,v){this._camera=n,this._alertController=l,this.authService=o,this.navCtrl=e,this.readarsService=i,this.baseURL=t,this.router=r,this.searchedMyData=u,this.fb=s,this.feedbackservice=b,this.booksservice=d,this.reservedService=g,this.borrowedService=p,this.availableService=k,this.activatedRoute=v,this.searchTerm="",this.name="Angular",this.currentRouter=this.router.url,this.booklanguage=a,this.contactType=h,this.submitted=null,this.showForm=!0,this.panelOpenState=!1,this.searchControl=new c.c}return n.prototype.ngOnInit=function(){var n=this;this.setFilteredItems(),this.authService.loadUserCredentials(),this.booksservice.getBooks().subscribe(function(l){n.books=l},function(l){return n.errMess=l})},n.prototype.ngAfterViewInit=function(){},n.prototype.knowmore=function(n){var l=this;console.log("into know more"),console.log("Book ID:",n),this.booksservice.getBook(n).subscribe(function(n){l.router.navigate([l.currentRouter]),l.book=n},function(n){return l.errMess=n}),this.reservedService.isReserved(n).subscribe(function(n){console.log(n),l.reserved=n.exists},function(n){return console.log(n)}),this.availableService.isAvailable(n).subscribe(function(n){console.log(n),l.available=n.exists},function(n){return console.log(n)}),this.borrowedService.isBorrowed(n).subscribe(function(n){console.log(n),l.borrowed=n.exists},function(n){return console.log(n)}),console.log("Available",this.available),console.log("Reserved",this.reserved),console.log("Borrowed",this.borrowed)},n.prototype.setFilteredItems=function(){this.books=this.searchedMyData.filterItems(this.searchTerm),console.log("Searched my data",this.books)},n.prototype.deleteBook=function(n){var l=this;console.log("Deleting Book "+n),this.booksservice.deleteBook(n).subscribe(function(n){return l.removebook=n},function(n){return l.errMess=n}),this.delete=!1,this.reservedService.isReserved(this.book._id).subscribe(function(n){console.log(n),l.reserved=n.exists},function(n){return console.log(n)}),this.availableService.isAvailable(this.book._id).subscribe(function(n){console.log(n),l.available=n.exists},function(n){return console.log(n)}),this.borrowedService.isBorrowed(this.book._id).subscribe(function(n){console.log(n),l.borrowed=n.exists},function(n){return console.log(n)}),this.ngOnInit()},n.prototype.lendBook=function(n){var l=this;console.log("Lending Book "+n),this.booksservice.getBook(n).subscribe(function(o){l.router.navigate([l.currentRouter]),l.book=o,l.book.bookavailable=!1,l.book.bookreserved=!0,l.book.bookborrowed=!0,l.booksservice.lendBook(n,l.book).subscribe(function(n){console.log(n),l.borrowed=!0,l.reserved=!0}),l.reservedService.isReserved(l.book._id).subscribe(function(n){console.log(n),l.reserved=n.exists},function(n){return console.log(n)}),l.availableService.isAvailable(l.book._id).subscribe(function(n){console.log(n),l.available=n.exists},function(n){return console.log(n)}),l.borrowedService.isBorrowed(l.book._id).subscribe(function(n){console.log(n),l.borrowed=n.exists},function(n){return console.log(n)})},function(n){return l.errMess=n})},n.prototype.releaseBook=function(n){var l=this;console.log("Releasing Book "+n),this.booksservice.getBook(n).subscribe(function(n){l.router.navigate([l.currentRouter]),l.book=n,l.book.bookavailable=!0,l.book.bookreserved=!1,l.book.bookborrowed=!1,l.booksservice.releaseBook(l.book._id,l.book).subscribe(function(n){console.log(n),l.available=!0,l.reserved=!1})},function(n){return l.errMess=n}),this.reservedService.isReserved(this.book._id).subscribe(function(n){console.log(n),l.reserved=n.exists},function(n){return console.log(n)}),this.availableService.isAvailable(this.book._id).subscribe(function(n){console.log(n),l.available=n.exists},function(n){return console.log(n)}),this.borrowedService.isBorrowed(this.book._id).subscribe(function(n){console.log(n),l.borrowed=n.exists},function(n){return console.log(n)})},n.prototype.loadMoreBooks=function(n){setTimeout(function(){},3e3)},n}(),C=o("ZYCi"),M=e.nb({encapsulation:0,styles:[[".profile-pic[_ngcontent-%COMP%]{width:200px;height:200px;border:1px solid gray;margin:10px auto}"]],data:{}});function F(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/trash.svg"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.deleteBook(n.parent.context.$implicit._id)&&e),e},r.ab,r.o)),e.ob(1,49152,null,0,u.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/trash.svg")},null)}function _(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/book.svg"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.lendBook(n.parent.context.$implicit._id)&&e),e},r.ab,r.o)),e.ob(1,49152,null,0,u.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/book.svg")},null)}function R(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,1,"ion-icon",[["slot","icon-only"],["src","../assets/icon/make-available.svg"]],null,[[null,"click"]],function(n,l,o){var e=!0;return"click"===l&&(e=!1!==n.component.releaseBook(n.parent.context.$implicit._id)&&e),e},r.ab,r.o)),e.ob(1,49152,null,0,u.B,[e.h,e.k],{src:[0,"src"]},null)],function(n,l){n(l,1,0,"../assets/icon/make-available.svg")},null)}function L(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,27,"ion-item-sliding",[],null,null,null,r.hb,r.w)),e.ob(1,49152,null,0,u.L,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,9,"ion-item",[],null,null,null,r.ib,r.t)),e.ob(3,49152,null,0,u.G,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,7,"ion-label",[],null,null,null,r.jb,r.x)),e.ob(5,49152,null,0,u.M,[e.h,e.k],null,null),(n()(),e.pb(6,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),e.Fb(7,null,["",""])),(n()(),e.pb(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Fb(9,null,["",""])),(n()(),e.pb(10,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),e.Fb(11,null,["",""])),(n()(),e.pb(12,0,null,0,5,"ion-item-options",[["side","start"]],null,null,null,r.gb,r.v)),e.ob(13,49152,null,0,u.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.pb(14,0,null,0,3,"ion-item-option",[],null,null,null,r.fb,r.u)),e.ob(15,49152,null,0,u.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,F)),e.ob(17,16384,null,0,s.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(18,0,null,0,9,"ion-item-options",[["side","end"]],null,null,null,r.gb,r.v)),e.ob(19,49152,null,0,u.K,[e.h,e.k],{side:[0,"side"]},null),(n()(),e.pb(20,0,null,0,3,"ion-item-option",[],null,null,null,r.fb,r.u)),e.ob(21,49152,null,0,u.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,_)),e.ob(23,16384,null,0,s.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(24,0,null,0,3,"ion-item-option",[],null,null,null,r.fb,r.u)),e.ob(25,49152,null,0,u.J,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,R)),e.ob(27,16384,null,0,s.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,13,0,"start"),n(l,17,0,l.context.$implicit.isAvailable),n(l,19,0,"end"),n(l,23,0,l.context.$implicit.isReserved&&!l.context.$implicit.isBorrowed&&!l.context.$implicit.isAvailable),n(l,27,0,(l.context.$implicit.isBorrowed||l.context.$implicit.isRserved)&&!l.context.$implicit.isAvailable)},function(n,l){n(l,7,0,l.context.$implicit.bookname),n(l,9,0,l.context.$implicit.bookdescription),n(l,11,0,l.context.$implicit.booklanguage)})}function j(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,6,"ion-header",[],null,null,null,r.Z,r.n)),e.ob(1,49152,null,0,u.A,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,4,"ion-toolbar",[],null,null,null,r.xb,r.L)),e.ob(3,49152,null,0,u.Ab,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,2,"ion-title",[],null,null,null,r.wb,r.K)),e.ob(5,49152,null,0,u.yb,[e.h,e.k],null,null),(n()(),e.Fb(-1,0,[" My Books "])),(n()(),e.pb(7,0,null,null,16,"ion-content",[],null,null,null,r.V,r.j)),e.ob(8,49152,null,0,u.t,[e.h,e.k],null,null),(n()(),e.pb(9,0,null,0,6,"ion-searchbar",[["no-margin",""],["placeholder","Search by book title or language ..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,o){var i=!0,t=n.component;return"ionBlur"===l&&(i=!1!==e.yb(n,11)._handleBlurEvent()&&i),"ionChange"===l&&(i=!1!==e.yb(n,11)._handleInputEvent(o.target.value)&&i),"ngModelChange"===l&&(i=!1!==(t.searchTerm=o)&&i),"ionChange"===l&&(i=!1!==t.setFilteredItems()&&i),i},r.nb,r.B)),e.ob(10,49152,null,0,u.ib,[e.h,e.k],{placeholder:[0,"placeholder"]},null),e.ob(11,16384,null,0,u.Lb,[e.k],null,null),e.Cb(1024,null,c.g,function(n){return[n]},[u.Lb]),e.ob(13,671744,null,0,c.k,[[8,null],[8,null],[8,null],[6,c.g]],{model:[0,"model"]},{update:"ngModelChange"}),e.Cb(2048,null,c.h,null,[c.k]),e.ob(15,16384,null,0,c.i,[[4,c.h]],null,null),(n()(),e.pb(16,0,null,0,3,"ion-list",[],null,null,null,r.kb,r.y)),e.ob(17,49152,null,0,u.N,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,L)),e.ob(19,278528,null,0,s.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(20,0,null,0,3,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(n,l,o){var e=!0;return"ionInfinite"===l&&(e=!1!==n.component.loadMoreBooks(o)&&e),e},r.db,r.q)),e.ob(21,49152,null,0,u.D,[e.h,e.k],null,null),(n()(),e.pb(22,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","..loading"]],null,null,null,r.cb,r.r)),e.ob(23,49152,null,0,u.E,[e.h,e.k],{loadingText:[0,"loadingText"]},null)],function(n,l){var o=l.component;n(l,10,0,"Search by book title or language ..."),n(l,13,0,o.searchTerm),n(l,19,0,o.books),n(l,23,0,"..loading")},function(n,l){n(l,9,0,e.yb(l,15).ngClassUntouched,e.yb(l,15).ngClassTouched,e.yb(l,15).ngClassPristine,e.yb(l,15).ngClassDirty,e.yb(l,15).ngClassValid,e.yb(l,15).ngClassInvalid,e.yb(l,15).ngClassPending)})}function O(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,1,"app-tab3",[],null,null,null,j,M)),e.ob(1,4308992,null,0,T,[b.a,u.a,d.a,u.Fb,p.a,"baseURL",C.m,I.a,c.b,S,g.a,v.a,B,k.a,C.a],null,null)],function(n,l){n(l,1,0)},null)}var A=e.lb("app-tab3",T,O,{},{},[]);o.d(l,"Tab3PageModuleNgFactory",function(){return H});var H=e.mb(i,[],function(n){return e.vb([e.wb(512,e.j,e.bb,[[8,[t.a,A]],[3,e.j],e.x]),e.wb(4608,s.m,s.l,[e.u,[2,s.s]]),e.wb(4608,u.b,u.b,[e.z,e.g]),e.wb(4608,u.Eb,u.Eb,[u.b,e.j,e.q,s.d]),e.wb(4608,u.Ib,u.Ib,[u.b,e.j,e.q,s.d]),e.wb(4608,c.p,c.p,[]),e.wb(1073742336,s.c,s.c,[]),e.wb(1073742336,u.Cb,u.Cb,[]),e.wb(1073742336,c.n,c.n,[]),e.wb(1073742336,c.f,c.f,[]),e.wb(1073742336,C.o,C.o,[[2,C.u],[2,C.m]]),e.wb(1073742336,i,i,[]),e.wb(1024,C.k,function(){return[[{path:"",component:T}]]},[])])})}}]);