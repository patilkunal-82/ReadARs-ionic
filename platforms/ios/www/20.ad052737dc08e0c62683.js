(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Jwzq:function(n,o,e){"use strict";e.r(o);var l=e("CcnG"),t=e("mrSG"),i=e("gIcY"),s=e("azqb"),r=e("kUbd"),a=e("lGQG"),u=e("d5rD"),c=e("JhVf"),b=e("ZZ/e"),h=e("jjgk"),p=e("t8sF"),d=e("Yttj"),g=e("iWj2"),f=function(){function n(n,o,e,l,t,r,a,u,c,b,h,p,d,g,f,m,k,w,v,I){this.navCtrl=n,this.authService=o,this.booksService=e,this.readarsService=l,this.baseURL=t,this.router=r,this.searchedData=a,this.menu=u,this.favoriteService=c,this.fb=b,this.file=h,this.webview=p,this.plt=d,this.filePath=g,this.httpClient=f,this.imageLoaderService=m,this.toastCtrl=k,this.zone=w,this.loadingController=v,this.alertCtrl=I,this.sliderConfig={slidesPerView:4,coverflowEffect:{rotate:30,stretch:0,depth:100,modifier:1},on:{beforeInit:function(){this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0},setTranslate:function(){for(var n=this.width,o=this.height,e=this.slides,l=this.$wrapperEl,t=this.slidesSizesGrid,i=this.params.coverflowEffect,s=this.isHorizontal(),r=this.translate,a=s?n/2-r:o/2-r,u=s?i.rotate:-i.rotate,c=i.depth,b=0,h=e.length;b<h;b+=1){var p=e.eq(b),d=t[b],g=(a-p[0].swiperSlideOffset-d/2)/d*i.modifier,f=s?u*g:0,m=s?0:u*g,k=-c*Math.abs(g),w=s?0:i.stretch*g,v=s?i.stretch*g:0;if(Math.abs(v)<.001&&(v=0),Math.abs(w)<.001&&(w=0),Math.abs(k)<.001&&(k=0),Math.abs(f)<.001&&(f=0),Math.abs(m)<.001&&(m=0),p.transform("translate3d("+v+"px,"+w+"px,"+k+"px)  rotateX("+m+"deg) rotateY("+f+"deg)"),p[0].style.zIndex=1-Math.abs(Math.round(g)),i.slideShadows){var I=p.find(s?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),C=p.find(s?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===I.length&&(I=this.$('<div class="swiper-slide-shadow-'+(s?"left":"top")+'"></div>'),p.append(I)),0===C.length&&(C=this.$('<div class="swiper-slide-shadow-'+(s?"right":"bottom")+'"></div>'),p.append(C)),I.length&&(I[0].style.opacity=g>0?g:0),C.length&&(C[0].style.opacity=-g>0?-g:0)}}(this.support.pointerEvents||this.support.prefixedPointerEvents)&&(l[0].style.perspectiveOrigin=a+"px 50%")},setTransition:function(n){this.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n)}}},this.pages=[],this.images=[],this.books=[],this.recobooks=[],this.bookGenreCollection=[],this.bookLanguageCollection=[],this.favorites=[],this.favoriteBooks=[],this.bookgenre=s.c,this.booklanguage=s.d,this.collectonCategory=s.f,this.showSkeleton=!0,this.showSpinner=!0,this.bookIdsImages=new Map,this.bookIdImageMap=new Map,this.searchTerm="",this.descending=!1,this.column="bookgenre",this.searchControl=new i.c}return n.prototype.ngOnInit=function(){var n=this;this.createForm(),this.setFilteredItems(),setTimeout(function(){n.showSpinner=!1},3e3),this.readarsService.getRecommendedBooks().subscribe(function(o){n.recobooks=o,console.log("RECO BOOK COLLECTION IS ----------\x3e",n.recobooks),n.prepareBookIdsImagesMap()},function(o){return n.errMess=o})},n.prototype.ionViewDidEnter=function(){},n.prototype.presentLoading=function(){return t.a(this,void 0,void 0,function(){var n;return t.c(this,function(o){switch(o.label){case 0:return[4,this.loadingController.create({cssClass:"my-custom-class",message:"Loading...please wait",duration:2400})];case 1:return[4,(n=o.sent()).present()];case 2:return o.sent(),[4,n.onDidDismiss()];case 3:return o.sent(),console.log("Loading dismissed!"),[2]}})})},n.prototype.createForm=function(){this.selectCategoryFormGroup=this.fb.group({bookgenre:["",[i.o.required,i.o.minLength(2),i.o.maxLength(25)]]})},n.prototype.presentToast=function(n){return t.a(this,void 0,void 0,function(){return t.c(this,function(o){switch(o.label){case 0:return[4,this.toastCtrl.create({message:n,duration:4e3,position:"middle"})];case 1:return o.sent().present(),[2]}})})},n.prototype.ionViewWillEnter=function(){},n.prototype.clearCache=function(){this.imageLoaderService.clearCache()},n.prototype.onImageLoad=function(n){console.log("image ready")},n.prototype.prepareBookIdsImagesMap=function(){var n=this;this.readarsService.getBookIds().subscribe(function(o){n.bookIds=o,n.storeBookIds(n.bookIds),n.lbookIds=n.loadBookIds();for(var e=function(o){n.readarsService.getBookImage(n.lbookIds[o]).subscribe(function(e){n.url=e,console.log("this.url",n.url),n.bookIdImageMap.set(n.lbookIds[o],n.url),console.log("book image map",n.bookIdImageMap)},function(n){return console.log(n)})},l=0;l<n.lbookIds.length;l++)e(l)},function(o){return n.errMess=o})},n.prototype.storeBookIds=function(n){console.log("BookIds stored are :",n),localStorage.setItem("bookIds",JSON.stringify(n))},n.prototype.loadBookIds=function(){if(this.bookIds=JSON.parse(localStorage.getItem("bookIds")),console.log("bookIds ",this.bookIds),this.bookIds)return this.bookIds},n.prototype.ngAfterViewInit=function(){},n.prototype.selectCollectionCategory=function(n){this.showGenre=!1,this.showLanguage=!1,"Genre"===n.detail.value&&(this.showGenre=!0),"Language"===n.detail.value&&(this.showLanguage=!0)},n.prototype.showAllBooks=function(){console.log("Inside Show All Books")},n.prototype.alertManagement=function(n){return t.a(this,void 0,void 0,function(){var o,e;return t.c(this,function(l){switch(l.label){case 0:return[4,this.alertCtrl.create({message:n,header:"Please Note",buttons:["Ok"]})];case 1:return[4,(o=l.sent()).present()];case 2:return l.sent(),[4,o.onDidDismiss()];case 3:return e=l.sent().role,console.log("onDidDismiss resolved with role",e),[2]}})})},n.prototype.displayGenreCollection=function(n){this.bookGenreCollection=[],console.log("EVENT DETAIL VALUE",n.detail.value);for(var o=0,e=0;o<this.books.length;)this.books[o].bookgenre===n.detail.value&&(this.bookGenreCollection[e]=this.books[o],e++),o++;void 0!==this.bookGenreCollection&&0!=this.bookGenreCollection.length||this.alertManagement("Books of genre "+n.detail.value+" are NOT AVAILABLE in the bookshelf currently"),console.log("BOOK GENRE & COLLECTION",n.detail.value,this.bookGenreCollection.length)},n.prototype.displayLanguageCollection=function(n){this.bookLanguageCollection=[],console.log("EVENT DETAIL VALUE",n.detail.value);for(var o=0,e=0;o<this.books.length;)this.books[o].booklanguage===n.detail.value&&(this.bookLanguageCollection[e]=this.books[o],e++),o++;void 0!==this.bookLanguageCollection&&0!=this.bookLanguageCollection.length||this.alertManagement("Books in "+n.detail.value+" language are NOT AVAILABLE in the bookshelf currently"),console.log("BOOK LANGUAGE & COLLECTION",n.detail.value,this.bookLanguageCollection)},n.prototype.refreshPage=function(){console.log("inside refreshpage"),window.location.reload()},n.prototype.refreshBookList=function(n){var o=this;setTimeout(function(){o.readarsService.getBooks().subscribe(function(n){o.books=n},function(n){return o.errMess=n}),o.clearCache(),n.target.complete()},2e3)},n.prototype.setFilteredItems=function(){this.books=this.searchedData.filterItems(this.searchTerm),console.log("Searched data",this.books)},n.prototype.loadMoreBooks=function(n){setTimeout(function(){},3e3)},n}(),m=function(){return function(){}}(),k=e("pMnS"),w=e("oBZk"),v=e("ZYCi"),I=e("Ip0R"),C=e("0mKY"),y=e("5IZ8"),x=e("t/Na"),M=l.nb({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.displaycard[_ngcontent-%COMP%]{margin:5px;padding:5px}.displayinnercard[_ngcontent-%COMP%]{margin-top:auto;padding:5px}ion-select[_ngcontent-%COMP%]{width:100%;max-width:100%!important;padding-left:20px}ion-list-header[_ngcontent-%COMP%]{padding-left:0;display:block;text-align:center}ion-back-button[_ngcontent-%COMP%]{color:#fdfefe}.display_heading[_ngcontent-%COMP%]{margin-left:0;padding:0}.spinner-container[_ngcontent-%COMP%]{width:100%;text-align:center;padding:10px}.book-image[_ngcontent-%COMP%]{width:300px;height:300px;margin:10px auto}.bookimage[_ngcontent-%COMP%]{width:225%;height:auto;margin:10px auto}.bookcard[_ngcontent-%COMP%]{width:150px;height:150px;margin:10px;background:#e9f7ef;color:#145a32;text-align:center;justify-content:center}.bookimage1[_ngcontent-%COMP%]{width:50px;height:50px;box-shadow:grey}.bookimage2[_ngcontent-%COMP%]{width:90px;height:100px;box-shadow:grey}ion-label[_ngcontent-%COMP%]{margin-left:10px}.my-custom-menu[_ngcontent-%COMP%]{--width:500px}ion-toolbar[_ngcontent-%COMP%]{--background:#145A32}.my-custom-class[_ngcontent-%COMP%]{--background:#222;--spinner-color:#fff;color:#fff}.center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block!important}.spin[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}ion-spinner[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#444;fill:#222}"]],data:{}});function O(n){return l.Ib(0,[(n()(),l.pb(0,0,null,null,1,"ion-spinner",[["class","spin"]],null,null,null,w.Ib,w.M)),l.ob(1,49152,null,0,b.rb,[l.h,l.k],null,null)],null,null)}function L(n){return l.Ib(0,[(n()(),l.pb(0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),l.pb(1,0,null,null,14,"ion-list",[],null,null,null,w.vb,w.y)),l.ob(2,49152,null,0,b.O,[l.h,l.k],null,null),(n()(),l.pb(3,0,null,0,12,"ion-item",[],null,[[null,"click"]],function(n,o,e){var t=!0;return"click"===o&&(t=!1!==l.yb(n,5).onClick()&&t),"click"===o&&(t=!1!==l.yb(n,7).onClick(e)&&t),t},w.sb,w.v)),l.ob(4,49152,null,0,b.H,[l.h,l.k],null,null),l.ob(5,16384,null,0,v.n,[v.m,v.a,[8,null],l.D,l.k],{routerLink:[0,"routerLink"]},null),l.zb(6,2),l.ob(7,737280,null,0,b.Mb,[I.h,b.Ib,l.k,v.m,[2,v.n]],null,null),(n()(),l.pb(8,0,null,0,1,"img-loader",[["class","bookimage2"],["useImg",""]],null,[[null,"load"]],function(n,o,e){var l=!0;return"load"===o&&(l=!1!==n.component.onImageLoad(e)&&l),l},C.b,C.a)),l.ob(9,114688,null,0,y.c,[l.k,l.D,y.b,y.a],{useImg:[0,"useImg"],src:[1,"src"]},{load:"load"}),(n()(),l.pb(10,0,null,0,5,"ion-label",[],null,null,null,w.tb,w.x)),l.ob(11,49152,null,0,b.N,[l.h,l.k],null,null),(n()(),l.pb(12,0,null,0,1,"h3",[["class","ion-text-wrap"],["style","color: black; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n                "]],null,null,null,null,null)),(n()(),l.Gb(13,null,[" "," "])),(n()(),l.pb(14,0,null,0,1,"p",[["style","color:darkgrey; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n                  font-size: small;"]],null,null,null,null,null)),(n()(),l.Gb(15,null,[" Author : "," "]))],function(n,o){var e=o.component,l=n(o,6,0,"bookdetail",o.context.$implicit._id);n(o,5,0,l),n(o,7,0),n(o,9,0,"",e.bookIdImageMap.get(o.context.$implicit._id))},function(n,o){n(o,13,0,o.context.$implicit.bookname),n(o,15,0,o.context.$implicit.bookauthor)})}function S(n){return l.Ib(0,[(n()(),l.pb(0,0,null,null,8,"ion-list",[],null,null,null,w.vb,w.y)),l.ob(1,49152,null,0,b.O,[l.h,l.k],null,null),(n()(),l.pb(2,0,null,0,6,"ion-virtual-scroll",[],null,null,null,w.Rb,w.V)),l.ob(3,835584,null,3,b.Cb,[l.z,l.s,l.k],{items:[0,"items"]},null),l.Eb(335544320,2,{itmTmp:0}),l.Eb(335544320,3,{hdrTmp:0}),l.Eb(335544320,4,{ftrTmp:0}),(n()(),l.gb(16777216,null,0,1,null,L)),l.ob(8,16384,[[2,4]],0,b.Qb,[l.L,l.O],null,null)],function(n,o){n(o,3,0,o.component.recobooks)},null)}function P(n){return l.Ib(0,[l.Eb(402653184,1,{selectCategoryFormDirective:0}),(n()(),l.pb(1,0,null,null,10,"ion-header",[["collapse","condense"],["color","success"]],null,null,null,w.mb,w.q)),l.ob(2,49152,null,0,b.B,[l.h,l.k],{translucent:[0,"translucent"]},null),(n()(),l.pb(3,0,null,0,8,"ion-toolbar",[],null,null,null,w.Qb,w.U)),l.ob(4,49152,null,0,b.Bb,[l.h,l.k],null,null),(n()(),l.pb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,w.ab,w.e)),l.ob(6,49152,null,0,b.l,[l.h,l.k],null,null),(n()(),l.pb(7,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(n,o,e){var t=!0;return"click"===o&&(t=!1!==l.yb(n,9).onClick(e)&&t),t},w.Y,w.c)),l.ob(8,49152,null,0,b.g,[l.h,l.k],null,null),l.ob(9,16384,null,0,b.h,[[2,b.hb],b.Ib],null,null),(n()(),l.pb(10,0,null,0,1,"ion-title",[["size","large"],["style","font:xx-large; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n               color: white; font-weight: bolder;"]],null,null,null,w.Pb,w.T)),l.ob(11,49152,null,0,b.zb,[l.h,l.k],null,null),(n()(),l.pb(12,0,null,null,20,"ion-content",[],null,null,null,w.ib,w.m)),l.ob(13,49152,null,0,b.u,[l.h,l.k],null,null),(n()(),l.pb(14,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,o,e){var l=!0;return"ionRefresh"===o&&(l=!1!==n.component.refreshBookList(e)&&l),l},w.yb,w.B)),l.ob(15,49152,null,0,b.cb,[l.h,l.k],null,null),(n()(),l.pb(16,0,null,0,1,"ion-refresher-content",[["pullingText","pull for update"],["refreshingText","...updating"]],null,null,null,w.xb,w.C)),l.ob(17,49152,null,0,b.db,[l.h,l.k],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(n()(),l.pb(18,0,null,0,8,"ion-list-header",[["color",""],["style","margin-bottom: 10px;"]],null,null,null,w.ub,w.z)),l.ob(19,49152,null,0,b.P,[l.h,l.k],{color:[0,"color"]},null),(n()(),l.pb(20,0,null,0,6,"ion-item",[["class",""]],null,null,null,w.sb,w.v)),l.ob(21,49152,null,0,b.H,[l.h,l.k],null,null),(n()(),l.pb(22,0,null,0,1,"ion-icon",[["src","../assets/icon/list.svg"],["style","color: #145A32; margin-right: 5px;"]],null,null,null,w.nb,w.r)),l.ob(23,49152,null,0,b.C,[l.h,l.k],{src:[0,"src"]},null),(n()(),l.pb(24,0,null,0,2,"ion-label",[["style","color: #145A32; margin-left: 5px; "]],null,null,null,w.tb,w.x)),l.ob(25,49152,null,0,b.N,[l.h,l.k],null,null),(n()(),l.Gb(-1,0,[" Readers' recommendations "])),(n()(),l.gb(16777216,null,0,1,null,O)),l.ob(28,16384,null,0,I.j,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.gb(16777216,null,0,1,null,S)),l.ob(30,16384,null,0,I.j,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.pb(31,0,null,0,1,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(n,o,e){var l=!0;return"ionInfinite"===o&&(l=!1!==n.component.loadMoreBooks(e)&&l),l},w.pb,w.t)),l.ob(32,49152,null,0,b.E,[l.h,l.k],null,null)],function(n,o){var e=o.component;n(o,2,0,!0),n(o,17,0,"pull for update","...updating"),n(o,19,0,""),n(o,23,0,"../assets/icon/list.svg"),n(o,28,0,e.showSpinner),n(o,30,0,!e.showSpinner)},null)}function B(n){return l.Ib(0,[(n()(),l.pb(0,0,null,null,1,"app-showrecommendations",[],null,null,null,P,M)),l.ob(1,4308992,null,0,f,[b.Ib,a.a,u.a,c.a,"baseURL",v.m,h.a,b.Gb,r.a,i.b,p.a,d.a,b.Kb,g.a,x.c,y.b,b.Pb,l.z,b.Fb,b.b],null,null)],function(n,o){n(o,1,0)},null)}var E=l.lb("app-showrecommendations",f,B,{},{},[]);e.d(o,"ShowrecommendationsPageModuleNgFactory",function(){return T});var T=l.mb(m,[],function(n){return l.vb([l.wb(512,l.j,l.bb,[[8,[k.a,E]],[3,l.j],l.x]),l.wb(4608,I.l,I.k,[l.u,[2,I.r]]),l.wb(4608,i.r,i.r,[]),l.wb(4608,b.c,b.c,[l.z,l.g]),l.wb(4608,b.Hb,b.Hb,[b.c,l.j,l.q,I.c]),l.wb(4608,b.Lb,b.Lb,[b.c,l.j,l.q,I.c]),l.wb(4608,i.b,i.b,[]),l.wb(4608,x.j,x.p,[I.c,l.B,x.n]),l.wb(4608,x.q,x.q,[x.j,x.o]),l.wb(5120,x.a,function(n){return[n]},[x.q]),l.wb(4608,x.m,x.m,[]),l.wb(6144,x.k,null,[x.m]),l.wb(4608,x.i,x.i,[x.k]),l.wb(6144,x.b,null,[x.i]),l.wb(4608,x.g,x.l,[x.b,l.q]),l.wb(4608,x.c,x.c,[x.g]),l.wb(4608,p.a,p.a,[]),l.wb(4608,y.a,y.a,[]),l.wb(4608,y.b,y.b,[y.a,p.a,x.c,b.Kb,d.a]),l.wb(1073742336,I.b,I.b,[]),l.wb(1073742336,i.p,i.p,[]),l.wb(1073742336,i.f,i.f,[]),l.wb(1073742336,b.Db,b.Db,[]),l.wb(1073742336,i.m,i.m,[]),l.wb(1073742336,v.o,v.o,[[2,v.u],[2,v.m]]),l.wb(1073742336,x.e,x.e,[]),l.wb(1073742336,x.d,x.d,[]),l.wb(1073742336,y.d,y.d,[]),l.wb(1073742336,m,m,[]),l.wb(256,x.n,"XSRF-TOKEN",[]),l.wb(256,x.o,"X-XSRF-TOKEN",[]),l.wb(1024,v.k,function(){return[[{path:"",component:f}]]},[])])})}}]);