{"version":3,"sources":["webpack:///./src/app/addbook/addbook.module.ts","webpack:///./src/app/addbook/addbook.page.html","webpack:///./src/app/addbook/addbook.page.scss","webpack:///./src/app/addbook/addbook.page.ts","webpack:///./src/app/arbook/arbook.module.ts","webpack:///./src/app/arbook/arbook.page.html","webpack:///./src/app/arbook/arbook.page.scss","webpack:///./src/app/arbook/arbook.page.ts","webpack:///./src/app/services/feedback.service.ts","webpack:///./src/app/shared/feedback.ts","webpack:///./src/app/tab3/tab3.module.ts","webpack:///./src/app/tab3/tab3.page.html","webpack:///./src/app/tab3/tab3.page.scss","webpack:///./src/app/tab3/tab3.page.ts"],"names":[],"mappings":"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","file":"tab3-tab3-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddbookPage } from './addbook.page';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule\n\n  ],\n  entryComponents: [AddbookPage],\n  declarations: [AddbookPage]\n})\nexport class AddbookPageModule {}\n","module.exports = \"<ion-header color=\\\"success\\\" [translucent]=\\\"true\\\" collapse=\\\"condense\\\">\\n  <ion-toolbar >\\n    <ion-title size=\\\"large\\\" \\n               style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n               color: #FDFEFE  ; font-weight: bolder; font-size: 15px;\\\">\\n    Add 1 or more books..\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header> \\n\\n<ion-content>\\n\\n\\n    <form [formGroup]=\\\"addBookFormGroup\\\" #fform=\\\"ngForm\\\">\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Book Name:</ion-label>\\n        <ion-input formControlName=\\\"bookname\\\" type=\\\"text\\\"></ion-input>\\n      </ion-item>\\n\\n    <!--<ion-item>\\n        <ion-label color=\\\"medium\\\">Book Cover Image:</ion-label>\\n        <ion-input type=\\\"file\\\" (change)=\\\"onFileChanged($event)\\\" required></ion-input>\\n        <ion-thumbnail>\\n          <ion-img [src]=\\\"imgURL\\\" height=\\\"100\\\" *ngIf=\\\"imgURL\\\"></ion-img>\\n        </ion-thumbnail>\\n    </ion-item> -->\\n\\n     <ion-item>\\n          <ion-label color=\\\"medium\\\">Book Cover \\n            <ion-icon *ngIf=\\\"!capturedImage\\\" src=\\\"../assets/icon/camera-outline.svg\\\" (click)=\\\"selectImageSource()\\\"></ion-icon>:\\n          </ion-label>\\n    \\n          <ion-thumbnail>\\n            <ion-img formControlName=\\\"bookcoverimage\\\" [src]=\\\"capturedImage\\\" *ngIf=\\\"capturedImage\\\" height=\\\"100\\\"></ion-img>\\n          </ion-thumbnail>\\n      </ion-item> \\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Book Genre:</ion-label>\\n        <ion-select formControlName=\\\"bookgenre\\\">\\n          <ion-select-option *ngFor=\\\"let bgenre of bookgenre\\\" [value]=\\\"bgenre\\\">\\n                  {{bgenre}}\\n        </ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Book Language:</ion-label>\\n        <ion-select formControlName=\\\"booklanguage\\\">\\n          <ion-select-option *ngFor=\\\"let blanguage of booklanguage\\\" [value]=\\\"blanguage\\\">\\n                  {{blanguage}}\\n        </ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n\\n     <ion-item>\\n        <ion-label color=\\\"medium\\\">Book's Author:</ion-label>\\n        <ion-input formControlName=\\\"bookauthor\\\" type=\\\"text\\\"></ion-input>\\n      </ion-item>\\n\\n      <!--<ion-item>\\n        <ion-label color=\\\"medium\\\">Book Description:</ion-label>\\n        <ion-input formControlName=\\\"bookdescription\\\" type=\\\"text\\\"></ion-input>\\n      </ion-item> -->\\n\\n      <ion-item>\\n          <ion-text color=\\\"medium\\\">Your Rating for the book:</ion-text>\\n          <ion-range min=\\\"1\\\" max=\\\"5\\\" tickInterval=\\\"1\\\" value=\\\"5\\\" pin=\\\"true\\\" snaps name=\\\"rating\\\"\\n          formControlName=\\\"bookrating\\\" ></ion-range>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Your address:</ion-label>\\n        <ion-input formControlName=\\\"bookowneraddress\\\" type=\\\"text\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label color=\\\"medium\\\">Your contact number:</ion-label>\\n        <ion-input formControlName=\\\"bookownertelnum\\\" type=\\\"text\\\"></ion-input>\\n      </ion-item>\\n\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-button (click)=\\\"onSubmit()\\\" shape=\\\"round\\\"  style=\\\"color:#1B4F72\\\" \\n          [disabled]=\\\"addBookFormGroup.invalid\\\" margin-top expand=\\\"full\\\">Submit</ion-button>\\n        </ion-col>\\n        <ion-col>\\n          <ion-button (click)=\\\"closeModal()\\\" shape=\\\"round\\\" style=\\\"color: grey\\\" \\n          margin-top expand=\\\"full\\\">Cancel</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </form>\\n\\n</ion-content>\\n\"","module.exports = \".book-img {\\n  width: 50px;\\n  height: 50px;\\n  border: gray solid 1px;\\n  margin: 5px auto; }\\n\\n.displaycard {\\n  margin: 5px;\\n  padding: 5px; }\\n\\nion-button {\\n  --background: #F4F6F7 ; }\\n\\nion-toolbar {\\n  --background: #145A32; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC9hZGRib29rL2FkZGJvb2sucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBVztFQUNYLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsZ0JBQWdCLEVBQUE7O0FBR3BCO0VBSUssV0FBVztFQUNYLFlBQVksRUFBQTs7QUFJakI7RUFDSSxzQkFBYSxFQUFBOztBQUdmO0VBRUUscUJBQWEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FkZGJvb2svYWRkYm9vay5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9vay1pbWcge1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbiAgICBib3JkZXI6IGdyYXkgc29saWQgMXB4O1xuICAgIG1hcmdpbjogNXB4IGF1dG87XG59XG5cbi5kaXNwbGF5Y2FyZCB7XG4gICAgLy8gd2lkdGg6IDMwdnc7XG4gICAgIC8vaGVpZ2h0OjMwdmg7XG4gICAgLy8gYm9yZGVyOiBncmV5IHNvbGlkIDFweDtcbiAgICAgbWFyZ2luOiA1cHg7XG4gICAgIHBhZGRpbmc6IDVweDtcbiAgICAgLy9iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlO1xuICAgfVxuXG5pb24tYnV0dG9uIHtcbiAgICAtLWJhY2tncm91bmQ6ICNGNEY2RjcgO1xuICB9XG5cbiAgaW9uLXRvb2xiYXIge1xuICAgIC8vLS1iYWNrZ3JvdW5kOiAjMUI0RjcyO1xuICAgIC0tYmFja2dyb3VuZDogIzE0NUEzMjtcbn1cblxuXG5cbiJdfQ== */\"","import { Component, OnInit, Inject, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Location } from '@angular/common';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { Platform } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\n\nimport { Observable } from 'rxjs';\n\nimport { Book, BookLanguage, BookGenre } from '../shared/book';\nimport { Image } from '../shared/image';\nimport { BooksService } from '../services/books.service';\nimport { AuthService } from '../services/auth.service';\n\nimport { AlertController } from '@ionic/angular';\nimport { CameraOptions, Camera } from \"@ionic-native/camera/ngx\";\n\nimport { analyzeAndValidateNgModules } from '@angular/compiler';\n\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { File, FileEntry} from '@ionic-native/file/ngx';\nimport { FilePath } from '@ionic-native/file-path/ngx';\n//import { Storage } from '@ionic/storage';\n//const STORAGE_KEY = 'book_images';\n\n\n\n@Component({\n  selector: 'app-addbook',\n  templateUrl: './addbook.page.html',\n  styleUrls: ['./addbook.page.scss'],\n})\nexport class AddbookPage implements OnInit {\n\n\n \n  public selectedFile;\n  public uploadData;\n  public dataReader = new FileReader();\n  public event1;\n  imgURL: any;\n  receivedImageData: any;\n  capturedImage: any;\n  base64Data: any;\n  convertedImage: any;\n  newbookID: string;\n  i: number;\n  image;\n  imageData;\n\n\n  addBookFormGroup: FormGroup;\n  @ViewChild('fform') addbookDetailsFormDirective;\n  \n  bookCoverImage: any;\n \n  \n  errMess: string;\n\n  book: Book;\n  addbook: Book;\n  newbook: Book;\n  removebook: Book;\n  books: Book[];\n  images = [];\n\n  booklanguage = BookLanguage;\n  bookgenre = BookGenre;\n\n  submitted = null;\n  showForm = true;\n\n  borrowed: boolean;\n  reserved: boolean;\n  available: boolean;\n  panelOpenState = false;\n\n  username: string = undefined;\n  subscription: Subscription;\n\n  \n\n\n  formErrors = {\n    'bookname': '',\n    'booklanguage': '',\n    'bookgenre': '',\n    'bookowneraddress':'',\n    'bookownertelnum':'',\n    'bookrating':'',\n    'bookauthor':''\n  };\n\n  validationMessages = {\n    'bookname': {\n      'required':      'Book Name is required.',\n      'minlength':     'Book Name must be at least 1 character long.',\n      'maxlength':     'BookName cannot be more than 40 characters long.'\n    },\n    'booklanguage': {\n      'required':      'Book Language is required.',\n      'minlength':     'Book Language must be at least 2 characters long.',\n      'maxlength':     'Book Language cannot be more than 25 characters long.'\n    },\n    'bookgenre': {\n      'required':      'Book Language is required.',\n      'minlength':     'Book Language must be at least 2 characters long.',\n      'maxlength':     'Book Language cannot be more than 25 characters long.'\n    },\n    'bookowneraddress': {\n      'required':      'Address is required.',\n    },\n    'bookownertelnum': {\n      'required':      'Contact number is required.',\n      'pattern':       'Contact number must contain only numbers.'\n    },\n    'booauthor': {\n      'required':      'Author Name is required.',\n      'minlength':     'Author Name must be at least 1 character long.',\n      'maxlength':     'Author Name cannot be more than 40 characters long.'\n    }\n  };\n\n\n\n\n\n  constructor(private _modalController: ModalController,\n              private _alertController: AlertController,\n              private booksService: BooksService,\n              private fb: FormBuilder,\n              private _camera: Camera,\n              private _webview: WebView,\n              private file: File,\n              private plt: Platform,\n              private filePath: FilePath,\n              private authService: AuthService,\n              //private storage: Storage,\n              private webview: WebView,\n              //private ref: ChangeDetectorRef,\n              \n              ) { }\n\n  ngOnInit() {\n\n    this.createForm();\n    this.authService.loadUserCredentials();\n    this.subscription = this.authService.getUsername()\n      .subscribe(name => { console.log(name); this.username = name; });\n    this.booksService.getBooks()\n      .subscribe(books => {\n          this.books = books;\n      }, errmess => this.errMess = <any>errmess);\n\n      const button = document.querySelector('ion-button');\n      button.addEventListener('click', this.onSubmit);\n  }\n\n  onFileChanged(event) {\n    console.log(event);\n    this.selectedFile = event.target.files[0];\n    console.log(\"Event\", event);\n    console.log(\"Event target files\", event.target.files);\n    console.log(\"selected file contnets\", this.selectedFile);\n    console.log(\"selected file name\", this.selectedFile.name);\n    // Below part is used to display the selected image\n    //let reader = new FileReader();\n    //reader.readAsDataURL(event.target.files[0]);\n    //reader.onload = (event2) => {\n      //this.imgURL = reader.result;\n      //this.bookCoverImage = reader.result;\n    //};\n\n  this.uploadData = new FormData();\n  this.uploadData.append('imageFile', this.selectedFile, this.selectedFile.name);\n  \n  this.dataReader.readAsArrayBuffer(event.target.files[0]);\n\n }\n\n  createForm() {\n        this.addBookFormGroup = this.fb.group({\n          bookname: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(40)] ],\n          booklanguage: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(25)] ],\n          bookgenre: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(25)] ],\n          bookowneraddress: ['', [Validators.required]],\n          bookownertelnum:['', [Validators.required, Validators.pattern] ],\n          bookrating: '5',\n          bookauthor: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(200)] ],\n          bookcoverimage: ''\n          \n        });\n        this.addBookFormGroup.valueChanges\n        .subscribe(data => this.onValueChanged(data));\n\n        //this.onValueChanged(); // (re)set validation messages now\n      }\n\n      onValueChanged(data?: any) {\n        if (!this.addBookFormGroup) { return; }\n        const form = this.addBookFormGroup;\n        for (const field in this.formErrors) {\n          if (this.formErrors.hasOwnProperty(field)) {\n            // clear previous error message (if any)\n            this.formErrors[field] = '';\n            const control = form.get(field);\n            if (control && control.dirty && !control.valid) {\n              const messages = this.validationMessages[field];\n              for (const key in control.errors) {\n                if (control.errors.hasOwnProperty(key)) {\n                  this.formErrors[field] += messages[key] + ' ';\n                }\n              }\n            }\n          }\n        }\n      }\n\n      async onSubmit() {\n\n      \n        const alert = await this._alertController.create({\n          header: \"Add Book\",\n          message: \"Select your option..\",\n          buttons: [\n            {\n              text: \"Add this\",\n              handler: ()=> {\n                this.addbook = this.addBookFormGroup.value;\n                this.addbook.bookcurrentstatus = 'available';\n                \n                console.log(this.addbook);\n                this.showForm = false;\n\n                this.booksService.addBook(this.addbook)\n                .subscribe(addbook => {\n                  console.log(\"response received-BOOK ADDED\");\n                  this.submitted = addbook;\n\n                  this.booksService.uploadImage(this.submitted._id, this.uploadData)\n                  .subscribe(res => {\n                      console.log(res);\n                      this.receivedImageData = res;\n                      this.base64Data = this.receivedImageData.pic;\n                      this.convertedImage = 'data:image/jpeg;base64,' + this.base64Data;\n                    });\n\n                  this.addbook = null;\n                  setTimeout(() => { this.submitted = null; this.showForm = true; }, 5000);\n                },\n                error => console.log(error.status, error.message));\n                \n                this.addBookFormGroup.reset({\n                  bookname: '',\n                  booklanguage: '',\n                  bookgenre: '',\n                  bookowneraddress: '',\n                  bookownertelnum:'',\n                  bookrating: '5',\n                  bookcoverimage: ''\n                });\n                this.capturedImage = undefined;\n                this.addbookDetailsFormDirective.resetForm();\n\n                //this.ngOnInit();\n                this.closeModal();\n\n              }\n            },\n            {\n              text: \"Add this & 1 more\",\n              handler: ()=> {\n\n                this.addbook = this.addBookFormGroup.value;\n                this.addbook.bookcurrentstatus = 'available';\n                \n              //  this.feedback = this.bookDetailsForm.value;\n                console.log(this.addbook);\n                this.showForm = false;\n\n              this.booksService.addBook(this.addbook)\n                .subscribe(addbook => {\n                  console.log(\"response received\");\n                  this.submitted = addbook;\n                  console.log(this.submitted);\n\n                  this.booksService.uploadImage(this.submitted._id, this.uploadData)\n                  .subscribe(res => {\n                      console.log(res);\n                      this.receivedImageData = res;\n                      this.base64Data = this.receivedImageData.pic;\n                      this.convertedImage = 'data:image/jpeg;base64,' + this.base64Data;\n                    });\n                  \n                  \n                  this.addbook = null;\n                  setTimeout(() => { this.submitted = null; this.showForm = true; }, 5000);\n                },\n                error => console.log(error.status, error.message));\n                this.addBookFormGroup.reset({\n                  bookname: '',\n                  booklanguage: '',\n                  bookgenre:'',\n                  bookowneraddress: '',\n                  //bookdescription:'',\n                  bookownertelnum:'',\n                  bookrating: '5',\n                  bookcoverimage: ''\n                });\n                this.capturedImage = undefined;\n                this.addbookDetailsFormDirective.resetForm();\n\n              }\n            }\n          ]\n        });\n\n        await alert.present();\n\n    }\n\n\nasync selectImageSource() {\n      const cameraOptions: CameraOptions = {\n        quality: 100,\n        destinationType: this._camera.DestinationType.FILE_URI,\n        encodingType: this._camera.EncodingType.PNG,\n        mediaType: this._camera.MediaType.PICTURE,\n        targetHeight: 180,\n        targetWidth: 100,\n        correctOrientation: true,\n        sourceType: this._camera.PictureSourceType.CAMERA\n      };\n\n      const galleryOptions: CameraOptions = {\n        quality: 100,\n        destinationType: this._camera.DestinationType.FILE_URI,\n        encodingType: this._camera.EncodingType.PNG,\n        mediaType: this._camera.MediaType.PICTURE,\n        targetHeight: 180,\n        targetWidth: 100,\n        correctOrientation: true,\n        sourceType: this._camera.PictureSourceType.SAVEDPHOTOALBUM\n      };\n\n      const alert = await this._alertController.create({\n        header: \"Select Source\",\n        message: \"Pick a source for your image\",\n        buttons: [\n          {\n            text: \"Camera\",\n            handler: ()=> {\n              \n              this._camera.getPicture(cameraOptions)\n              .then(imageURI => {\n            \n                // display captured image\n                console.log(imageURI);\n                let imageName = imageURI.substring(imageURI.lastIndexOf('/')+1);\n                let imagePath =  imageURI.substring(0,imageURI.lastIndexOf('/')+1);\n                console.log(\"image name\", imageName);\n                console.log(\"image path\", imagePath);\n                console.log(\"before read as data url\");\n                this.file.readAsDataURL(imagePath, imageName).then(res => this.capturedImage = res);\n                console.log(\"after read as data url\");\n                \n                // resolve URI, get blob & file and POST\n                this.file.resolveLocalFilesystemUrl(imageURI)\n                .then(entry => {\n                    console.log(\"inside resolve local file system url\");\n                    (<FileEntry>entry).file(file => this.readFile(file))\n                 })\n                .catch(err => {\n                  console.log(\"error reading file\")\n                })\n              }, (err) => {\n                // Handle error\n                 console.log(err);\n           });\n              \n          }\n        },\n        {\n            text: \"Gallery\",\n            handler: ()=> {\n             \n              this._camera.getPicture(galleryOptions)\n              .then(imageURI => {\n                \n                // display captured image\n                let imageName = imageURI.substring(imageURI.lastIndexOf('/')+1);\n                let imagePath =  imageURI.substring(0,imageURI.lastIndexOf('/')+1);\n                this.file.readAsDataURL(imagePath, imageName).then(res => this.capturedImage = res);\n              //  this.copyFileToLocalDir(imagePath, imageName, this.createFileName());\n\n                // resolve URI, get blob & file and POST\n                this.file.resolveLocalFilesystemUrl(imageURI)\n                .then(entry => {\n                    console.log(\"inside resolve local file system url\");\n                    (<FileEntry>entry).file(file => this.readFile(file))\n                 })\n                .catch(err => {\n                  console.log(\"error reading file\")\n                })\n              }, (err) => {\n                // Handle error\n                 console.log(err);\n           });\n        }\n      }\n    ]\n   });\n\n      await alert.present();\n\n}\n\n  /*createFileName() {\n  var d = new Date(),\n      n = d.getTime(),\n      newFileName = n + \".jpg\";\n  return newFileName;\n    }\n\n    copyFileToLocalDir(namePath, currentName, newFileName) {\n      this.file.copyFile(namePath, currentName, this.file.dataDirectory, newFileName).then(success => {\n          this.updateStoredImages(newFileName);\n      }, error => {\n          console.log('Error while storing file.');\n      });\n  }\n\n  updateStoredImages(name) {\n    this.storage.get(STORAGE_KEY).then(images => {\n        let arr = JSON.parse(images);\n        if (!arr) {\n            let newImages = [name];\n            this.storage.set(STORAGE_KEY, JSON.stringify(newImages));\n        } else {\n            arr.push(name);\n            this.storage.set(STORAGE_KEY, JSON.stringify(arr));\n        }\n \n        let filePath = this.file.dataDirectory + name;\n        let resPath = this.pathForImage(filePath);\n \n        let newEntry = {\n            name: name,\n            path: resPath,\n            filePath: filePath\n        };\n \n        this.images = [newEntry, ...this.images];\n       \n        this.ref.detectChanges(); // trigger change detection cycle\n    });\n}\n\npathForImage(img) {\n  if (img === null) {\n    return '';\n  } else {\n    let converted = this.webview.convertFileSrc(img);\n    return converted;\n  }\n}*/\n\n    readFile(file: any) {\n\n      const reader = new FileReader();\n      console.log(\"file type\", file.type);\n      console.log(\"file type\", file.name);\n      reader.onloadend = () => {\n        this.uploadData = new FormData();\n        if (reader.result) {\n          const imgBlob = new Blob([reader.result], {type: file.type});\n          this.uploadData.append('imageFile', imgBlob, file.name);\n        }\n      };\n      reader.readAsArrayBuffer(file);\n    }\n\n\n  closeModal() {\n    console.log(\"inside close modal\");\n    this._modalController.dismiss();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ArbookPage } from './arbook.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule\n  ],\n  entryComponents:[ArbookPage],\n  declarations: [ArbookPage]\n})\nexport class ArbookPageModule {}\n\n","module.exports = \"<ion-header color=\\\"success\\\" [translucent]=\\\"true\\\" collapse=\\\"condense\\\">\\n  <ion-toolbar >\\n    <ion-title size=\\\"large\\\" \\n               style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n               color: #FDFEFE  ; font-weight: bolder; font-size: 15px;\\\">\\n    Enable {{bookCopy.bookname}} as AR Book\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header> \\n\\n<ion-content>\\n  \\n<ion-list>\\n  <ion-item>\\n    <ion-button fill=\\\"clear\\\" style=\\\"color: #7B7D7D\\\" (click)=\\\"selectImageSource()\\\">Capture Markers\\n      <span style=\\\"margin-right: 20px; \\\" class=\\\"ion-text-center\\\"></span>\\n      <ion-icon src=\\\"../assets/icon/camera-outline.svg\\\">\\n      </ion-icon>\\n    </ion-button>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label *ngIf=\\\"markerImagesLength\\\">No. of markers captured - {{markerImagesLength}}</ion-label>\\n  </ion-item>\\n  <ion-item>\\n    <ion-thumbnail *ngFor=\\\"let image of markerImages\\\">\\n      <ion-img src={{image}} *ngIf=\\\"markerImages\\\" height=\\\"50\\\"></ion-img>\\n  </ion-thumbnail>\\n  </ion-item>\\n  \\n  \\n    <ion-button fill=\\\"clear\\\" style=\\\"color: #7B7D7D\\\" name=\\\"create-markers\\\" (click)=\\\"createMarkers()\\\">Upload All Markers\\n      <span style=\\\"margin-right: 10px; \\\" class=\\\"ion-text-center\\\"></span>\\n      <ion-icon name=\\\"cloud-upload\\\">\\n      </ion-icon>\\n    </ion-button>\\n  \\n\\n    <ion-item>\\n      <ion-thumbnail *ngFor=\\\"let url of urls \\\">\\n        <ion-img src={{url}} height=\\\"50\\\"></ion-img>\\n      </ion-thumbnail>\\n    </ion-item>\\n    \\n\\n\\n</ion-list>\\n\\n\\n\\n    <!--<ion-button shape=\\\"round\\\" margin-top expand=\\\"block\\\">\\n          <ion-icon style=\\\"color: #145A32;\\\" src=\\\"../assets/icon/add-circle.svg\\\"></ion-icon>\\n          <span style=\\\"color:  #17202A; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">Upload Markers for  </span>\\n    </ion-button>\\n    <ion-thumbnail>\\n        <ion-img [src]=\\\"capturedImage\\\" *ngIf=\\\"capturedImage\\\" height=\\\"100\\\"></ion-img>\\n    </ion-thumbnail>-->\\n \\n\\n  <ion-col>\\n    <ion-button (click)=\\\"closeModal()\\\" shape=\\\"round\\\" style=\\\"color: grey\\\" \\n     margin-top expand=\\\"full\\\">Cancel</ion-button>\\n  </ion-col>\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n</ion-content>\\n\"","module.exports = \".book-img {\\n  width: 50px;\\n  height: 50px;\\n  border: gray solid 1px;\\n  margin: 5px auto; }\\n\\n.displaycard {\\n  margin: 5px;\\n  padding: 5px; }\\n\\nion-button {\\n  --background: #F4F6F7 ; }\\n\\nion-toolbar {\\n  --background: #145A32; }\\n\\n.image-container {\\n  min-height: 200px;\\n  background-size: cover; }\\n\\n@media (min-width: 0px) {\\n  .images {\\n    -webkit-column-count: 2;\\n       -moz-column-count: 2;\\n            column-count: 2; } }\\n\\n@media (min-width: 420px) {\\n  .images {\\n    -webkit-column-count: 3;\\n       -moz-column-count: 3;\\n            column-count: 3; } }\\n\\n@media (min-width: 720px) {\\n  .images {\\n    -webkit-column-count: 4;\\n       -moz-column-count: 4;\\n            column-count: 4; } }\\n\\n.one-image {\\n  margin: 2px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC9hcmJvb2svYXJib29rLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLGdCQUFnQixFQUFBOztBQUdwQjtFQUlLLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBSWpCO0VBQ0ksc0JBQWEsRUFBQTs7QUFHZjtFQUVFLHFCQUFhLEVBQUE7O0FBR2pCO0VBQ0ksaUJBQWlCO0VBQ2pCLHNCQUFzQixFQUFBOztBQUd4QjtFQUNFO0lBQ0UsdUJBQWU7T0FBZixvQkFBZTtZQUFmLGVBQWUsRUFBQSxFQUNoQjs7QUFHSDtFQUNFO0lBQ0UsdUJBQWU7T0FBZixvQkFBZTtZQUFmLGVBQWUsRUFBQSxFQUNoQjs7QUFHSDtFQUNFO0lBQ0UsdUJBQWU7T0FBZixvQkFBZTtZQUFmLGVBQWUsRUFBQSxFQUNoQjs7QUFHSDtFQUNFLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FyYm9vay9hcmJvb2sucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJvb2staW1nIHtcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgYm9yZGVyOiBncmF5IHNvbGlkIDFweDtcbiAgICBtYXJnaW46IDVweCBhdXRvO1xufVxuXG4uZGlzcGxheWNhcmQge1xuICAgIC8vIHdpZHRoOiAzMHZ3O1xuICAgICAvL2hlaWdodDozMHZoO1xuICAgIC8vIGJvcmRlcjogZ3JleSBzb2xpZCAxcHg7XG4gICAgIG1hcmdpbjogNXB4O1xuICAgICBwYWRkaW5nOiA1cHg7XG4gICAgIC8vYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcbiAgIH1cblxuaW9uLWJ1dHRvbiB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjRjRGNkY3IDtcbiAgfVxuXG4gIGlvbi10b29sYmFyIHtcbiAgICAvLy0tYmFja2dyb3VuZDogIzFCNEY3MjtcbiAgICAtLWJhY2tncm91bmQ6ICMxNDVBMzI7XG59XG5cbi5pbWFnZS1jb250YWluZXIge1xuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIH1cbiAgXG4gIEBtZWRpYSAobWluLXdpZHRoOiAwcHgpIHtcbiAgICAuaW1hZ2VzIHtcbiAgICAgIGNvbHVtbi1jb3VudDogMjtcbiAgICB9XG4gIH1cbiAgXG4gIEBtZWRpYSAobWluLXdpZHRoOiA0MjBweCkge1xuICAgIC5pbWFnZXMge1xuICAgICAgY29sdW1uLWNvdW50OiAzO1xuICAgIH1cbiAgfVxuICBcbiAgQG1lZGlhIChtaW4td2lkdGg6IDcyMHB4KSB7XG4gICAgLmltYWdlcyB7XG4gICAgICBjb2x1bW4tY291bnQ6IDQ7XG4gICAgfVxuICB9XG4gIFxuICAub25lLWltYWdlIHtcbiAgICBtYXJnaW46IDJweDtcbiAgfSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { BooksService } from '../services/books.service';\nimport { Book } from '../shared/book';\nimport { AlertController } from '@ionic/angular';\nimport { CameraOptions, Camera } from \"@ionic-native/camera/ngx\";\nimport { File, FileEntry} from '@ionic-native/file/ngx';\nimport { ImagePicker } from '@ionic-native/image-picker/ngx';\nimport { FileTransfer, FileUploadOptions} from '@ionic-native/file-transfer/ngx'\nimport { baseURL} from '../shared/baseurl';\nimport { DomSanitizer, SafeResourceUrl, SafeUrl} from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-arbook',\n  templateUrl: './arbook.page.html',\n  styleUrls: ['./arbook.page.scss'],\n})\nexport class ArbookPage implements OnInit {\n\n  bookId; // from tab3 as part of component props\n  bookCopy: Book;\n  errMess: string;\n  public selectedFile;\n  public uploadData;\n  public dataReader = new FileReader();\n  public event1;\n  imgURL: any;\n  receivedImageData: any;\n  capturedImage: any;\n  capturedImages: any[];\n  base64Data: any;\n  markerImages: any;\n  markerImagesLength: number;\n  uploadStatus: string = \"\";\n  counter: number;\n  public urls: SafeResourceUrl[];\n\n  constructor(private _modalController: ModalController,\n              private booksService: BooksService,\n              private _camera: Camera,\n              private file: File,\n              private _alertController: AlertController,\n              private imagePicker: ImagePicker,\n              public transfer: FileTransfer) { }\n\n  ngOnInit() {\n\n    this.booksService.getBook(this.bookId)\n      .subscribe(book => {\n          this.bookCopy = book;\n          console.log(\"Book Copy in AR Book\", this.bookCopy);\n      }, errmess => this.errMess = <any>errmess);\n\n      \n\n      this.booksService.getMarkerImages(this.bookId)\n      .subscribe(images => {\n        //console.log(\"X is\", images)\n        this.urls = images;\n        \n    }, errMess => {\n      console.log(\"inside err mess\");\n    });\n\n  }\n\n\n  async selectImageSource() {\n\n    const cameraOptions: CameraOptions = {\n      quality: 100,\n      destinationType: this._camera.DestinationType.FILE_URI,\n      encodingType: this._camera.EncodingType.JPEG,\n      mediaType: this._camera.MediaType.PICTURE,\n      targetHeight: 45,\n      targetWidth: 80,\n      correctOrientation: true,\n      sourceType: this._camera.PictureSourceType.CAMERA\n    };\n\n    const galleryOptions: CameraOptions = {\n      quality: 100,\n      destinationType: this._camera.DestinationType.FILE_URI,\n      encodingType: this._camera.EncodingType.JPEG,\n      mediaType: this._camera.MediaType.PICTURE,\n      targetHeight: 45,\n      targetWidth: 80,\n      correctOrientation: true,\n      sourceType: this._camera.PictureSourceType.SAVEDPHOTOALBUM\n    };\n\n    this.markerImages = [];\n    this.capturedImages = [];\n    this.markerImagesLength = 0;\n\n    const alert = await this._alertController.create({\n      header: \"Select Source\",\n      message: \"Pick a source for your image\",\n      buttons: [\n        {\n          text: \"Camera\",\n          handler: ()=> {\n\n\n            this._camera.getPicture(cameraOptions).then((result) => {\n              \n              //console.log(\"RESULTS\", results);\n              this.markerImages.push('file://'+ result);\n              console.log(\"Marker images length\", this.markerImages.length);\n              this.markerImagesLength = this.markerImages.length;\n    \n             }, (err) => {\n               \n               console.log(err);\n            });\n            \n           \n            /*this._camera.getPicture(cameraOptions)\n            .then(imageURI => {\n          \n              // display captured image\n              console.log(imageURI);\n              let imageName = imageURI.substring(imageURI.lastIndexOf('/')+1);\n              let imagePath =  imageURI.substring(0,imageURI.lastIndexOf('/')+1);\n              console.log(\"image name\", imageName);\n              console.log(\"image path\", imagePath);\n              console.log(\"before read as data url\");\n              this.file.readAsDataURL(imagePath, imageName).then(res => {\n                \n                console.log(\"RES\", res);\n                this.capturedImage = res\n\n              });\n              console.log(\"after read as data url\");\n             // this.markerImages.push('data:image/jpeg;base64,' + this.capturedImage);\n              \n              // resolve URI, get blob & file and POST\n              this.file.resolveLocalFilesystemUrl(imageURI)\n              .then(entry => {\n                  console.log(\"inside resolve local file system url\");\n                  (<FileEntry>entry).file(file => this.readFile(file))\n               })\n              .catch(err => {\n                console.log(\"error reading file\")\n              })\n            }, (err) => {\n              // Handle error\n               console.log(err);\n         });*/\n            \n        }\n      },\n      {\n          text: \"Gallery\",\n          handler: ()=> {\n           \n            /*this._camera.getPicture(galleryOptions)\n            .then(imageURI => {\n              \n              // display captured image\n              let imageName = imageURI.substring(imageURI.lastIndexOf('/')+1);\n              let imagePath =  imageURI.substring(0,imageURI.lastIndexOf('/')+1);\n              this.file.readAsDataURL(imagePath, imageName).then(res => this.capturedImage = res);\n            //  this.copyFileToLocalDir(imagePath, imageName, this.createFileName());\n\n              // resolve URI, get blob & file and POST\n              this.file.resolveLocalFilesystemUrl(imageURI)\n              .then(entry => {\n                  console.log(\"inside resolve local file system url\");\n                  (<FileEntry>entry).file(file => this.readFile(file))\n               })\n              .catch(err => {\n                console.log(\"error reading file\")\n              })\n            }, (err) => {\n              // Handle error\n               console.log(err);\n         });*/\n\n         this.imagePicker.getPictures(galleryOptions).then((results) => {\n          for (var i = 0; i < results.length; i++) {\n            console.log(\"RESULTS\", results[i]);\n            this.markerImages.push('file://'+ results[i]);\n          }\n          console.log(\"Marker images length\", this.markerImages.length);\n          this.markerImagesLength = this.markerImages.length;\n          \n          \n\n          /*for (var i=0; i < this.markerImages.length; i++) { \n          console.log(\"inside for loop\")\n          let imageName = this.markerImages[i].substring(this.markerImages[i].lastIndexOf('/')+1);\n          console.log(\"Image Name\", imageName);\n          let imagePath =  this.markerImages[i].substring(0,this.markerImages[i].lastIndexOf('/')+1);\n          console.log(\"Image Path\", imagePath);\n          this.file.readAsDataURL(imagePath, imageName).then(res => {\n            //console.log(\"RES\", res);\n            this.capturedImages[i] = res;\n            console.log(\"captured image\", this.capturedImages[i]);\n          });\n\n         }*/\n\n         }, (err) => {\n           // Handle error\n           console.log(err);\n        });\n\n        \n\n      }\n    }\n  ]\n });\n\n    await alert.present();\n\n}\n\n\n\nreadFile(file: any) {\n\n  const reader = new FileReader();\n  console.log(\"file type\", file.type);\n  console.log(\"file type\", file.name);\n  reader.onloadend = () => {\n    this.uploadData = new FormData();\n    if (reader.result) {\n      const imgBlob = new Blob([reader.result], {type: file.type});\n      this.uploadData.append('arMarkerImageFile', imgBlob, file.name);\n\n      this.booksService.uploadMarkerImage(this.bookId, this.uploadData)\n      .subscribe(res => {\n        console.log(\"Uploaded image details ----->\",res);\n      });\n   \n    }\n  };\n  reader.readAsArrayBuffer(file);\n}\n\ncreateMarkers() {\n\n  for (var i = 0; i < this.markerImages.length; i++) {\n    console.log(\"Selected image is \", this.markerImages[i]);\n  }\n  console.log(\"inside createMarkers\");\n  let counter = 0;\n  var ref = this;\n  function InnerFunc() {\n   \n    console.log(\"Beginning Counter\", counter);\n    console.log(\"inside InnerFunc\");\n    console.log(\"file system url\", ref.markerImages[counter]);\n\n    ref.file.resolveLocalFilesystemUrl(ref.markerImages[counter])\n    .then(entry => {\n       console.log(\"inside resolve local file system url\");\n       \n       (<FileEntry>entry).file(file => ref.readFile(file));\n\n       counter++;\n       console.log(\"Inside Counter is\", counter);\n       if (counter < ref.markerImages.length) {\n        InnerFunc();\n      }\n      else {\n        alert(\"successfully uploaded all images\");\n      }  \n     })\n    .catch(err => {\n       console.log(\"error reading file\")\n    })\n    \n  }\n  console.log(\"innerFunc getting called\");\n  InnerFunc();\n\n  \n}\n\ncloseModal() {\n    console.log(\"inside close modal\");\n    this._modalController.dismiss();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Feedback } from '../shared/feedback';\n\nimport { Observable } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { baseURL } from '../shared/baseurl';\nimport { ProcessHTTPMsgService } from './process-httpmsg.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedbackService {\n\n  constructor(private http: HttpClient,\n    private processHTTPMsgService: ProcessHTTPMsgService) { }\n\n  submitFeedback(feedback: Feedback): Observable<Feedback> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type':  'application/json'\n      })\n    };\n    return this.http.post<Feedback>(baseURL + 'feedback/', feedback, httpOptions)\n    .pipe(catchError(this.processHTTPMsgService.handleError));\n  }\n\n  getFeedback(): Observable<Feedback[]> {\n    return this.http.get<Feedback[]>(baseURL + 'feedback')\n      .pipe(catchError(this.processHTTPMsgService.handleError));\n  }\n\n  getFeaturedFeedback(): Observable<Feedback[]> {\n    return this.http.get<Feedback[]>(baseURL + 'feedback?rating=5')\n      .pipe(catchError(this.processHTTPMsgService.handleError));\n  }\n\n  /*getLeader(id: string): Observable<Leader> {\n    return this.http.get<Leader>(baseURL + 'leaders/' + id)\n      .pipe(catchError(this.processHTTPMsgService.handleError));\n  }*/\n\n\n}\n","export class Feedback {\n    firstname: string;\n    lastname: string;\n    telnum: number;\n    email: string;\n    agree: boolean;\n    contacttype: string;\n    message: string;\n    rating: number;\n}\n\nexport const ContactType = ['None', 'Tel', 'Email'];\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { Tab3Page } from './tab3.page';\nimport { SortPipe } from '../shared/sort.pipe';\nimport { SearchPipe } from '../shared/search.pipe';\nimport { AddbookPageModule } from '../addbook/addbook.module';\nimport { IonicImageLoaderModule } from 'ionic-image-loader-v5';\nimport { Tab4PageModule } from '../tab4/tab4.module';\nimport { ArbookPageModule } from '../arbook/arbook.module';\n\n@NgModule({\n  imports: [\n    AddbookPageModule,\n    ArbookPageModule,\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\n    IonicImageLoaderModule,\n   \n  ],\n  declarations: [Tab3Page]\n  //exports: [,  ]\n})\nexport class Tab3PageModule {}\n","module.exports = \"<ion-header color=\\\"success\\\" [translucent]=\\\"true\\\" collapse=\\\"condense\\\">\\n  <ion-toolbar >\\n    <ion-title *ngIf=\\\"username\\\" size=\\\"large\\\" \\n    style=\\\"font:xx-large; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n    color: #FDFEFE  ; font-weight: bolder; font-size: 25px;\\\">\\n     Manage\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header> \\n\\n<ion-content>\\n\\n  \\n    \\n    <ion-button shape=\\\"round\\\" (click)=\\\"addBookModal()\\\" margin-top expand=\\\"block\\\">\\n        <ion-icon style=\\\"color: #145A32;\\\" src=\\\"../assets/icon/add-circle.svg\\\"></ion-icon>\\n        <span style=\\\"color:  #17202A; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">Add New Book</span>\\n    </ion-button>\\n    \\n    <!--<ion-searchbar shape=\\\"round\\\" no-margin [(ngModel)]=\\\"searchTerm\\\"\\n      (ionChange)=\\\"setFilteredItems()\\\" placeholder=\\\"Search my books by status, title or language ...\\\">\\n    </ion-searchbar>-->\\n\\n  \\n    \\n  \\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshBookList($event)\\\">\\n      <ion-refresher-content pullingText=\\\"pull for update\\\" refreshingText= \\\"...updating\\\">\\n      </ion-refresher-content>\\n    </ion-refresher>\\n\\n  <!--<ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"clearCache($event)\\\">\\n    <ion-refresher-content pullingText=\\\"pull for update\\\" refreshingText= \\\"...updating\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>-->\\n\\n  <!--| sort: {property: column, order: order}-->\\n  <ion-list>\\n\\n    <ion-button shape=\\\"round\\\" margin-top expand=\\\"block\\\">\\n      <ion-icon style=\\\"color: #145A32; \\\" src=\\\"../assets/icon/book.svg\\\"></ion-icon>\\n      <span style=\\\"color:  #17202A; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">My books by status</span>\\n   </ion-button>\\n\\n    <ion-select (ionChange)=\\\"displayBooksByStatus($event)\\\" interface=\\\"popover\\\" placeholder=\\\"Select ..\\\">\\n      <ion-select-option *ngFor=\\\"let status of bookcurrentstatus\\\" [value]=\\\"status\\\"> {{status}}</ion-select-option>\\n   </ion-select>\\n   \\n  <ion-item-sliding *ngFor=\\\"let rBook of reservedBooks\\\">\\n    <ion-item *ngIf=\\\"showReserved\\\">\\n      <ion-card *ngIf=\\\"showReserved\\\">\\n       <ion-thumbnail *ngIf=\\\"showReserved\\\">\\n         <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n         <img-loader [src]=\\\"(bookIdImageMap.get(rBook._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n       </ion-thumbnail>\\n      </ion-card>\\n      <ion-label *ngIf=\\\"showReserved\\\" class=\\\"ion-text-wrap\\\">\\n           <strong>{{rBook.bookname}}</strong>\\n           <h3> in {{rBook.booklanguage}}. By - {{rBook.bookauthor}}.</h3>\\n           <p></p>\\n           <ion-note *ngIf=\\\"rBook.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{rBook.bookcurrentstatus}}</ion-note>\\n           <ion-note *ngIf=\\\"rBook.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{rBook.bookcurrentstatus}}</ion-note>\\n           <ion-note *ngIf=\\\"rBook.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{rBook.bookcurrentstatus}}</ion-note>       \\n       </ion-label>\\n    </ion-item>\\n   <ion-item-options side=\\\"start\\\">\\n     <ion-item-option *ngIf=\\\"showReserved\\\">\\n       <ion-icon style=\\\"color: red\\\" *ngIf=\\\"rBook.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n       (click)=\\\"deleteBook(rBook._id)\\\"></ion-icon>\\n     </ion-item-option>\\n   </ion-item-options>\\n  <ion-item-options side=\\\"end\\\">\\n   <ion-item-option *ngIf=\\\"showReserved\\\">\\n     <ion-icon style=\\\"color: darkgreen\\\" *ngIf=\\\"(rBook.isReserved || rBook.isBorrowed) && !rBook.isAvailable\\\" slot=\\\"icon-only\\\"\\n     src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(rBook._id)\\\"></ion-icon>\\n   </ion-item-option>\\n   <ion-item-option>\\n    <ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\"\\n    src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(rBook._id)\\\"></ion-icon>\\n  </ion-item-option>\\n  </ion-item-options>\\n</ion-item-sliding>\\n\\n<ion-item-sliding *ngFor=\\\"let aBook of availableBooks \\\">\\n  <ion-item *ngIf=\\\"showAvailable\\\">\\n    <ion-card *ngIf=\\\"showAvailable\\\">\\n     <ion-thumbnail *ngIf=\\\"showAvailable\\\">\\n       <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n       <img-loader [src]=\\\"(bookIdImageMap.get(aBook._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n     </ion-thumbnail>\\n    </ion-card>\\n    <ion-label *ngIf=\\\"showAvailable\\\"class=\\\"ion-text-wrap\\\">\\n         <strong>{{aBook.bookname}}</strong>\\n         <h3> in {{aBook.booklanguage}}. By - {{aBook.bookauthor}}.</h3>\\n         <p></p>\\n         <ion-note *ngIf=\\\"aBook.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{aBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"aBook.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{aBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"aBook.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{aBook.bookcurrentstatus}}</ion-note>       \\n     </ion-label>\\n  </ion-item>\\n  <ion-item-options side=\\\"start\\\">\\n    <ion-item-option *ngIf=\\\"showAvailable\\\">\\n      <ion-icon style=\\\"color: red\\\" *ngIf=\\\"aBook.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n      (click)=\\\"deleteBook(aBook._id)\\\"></ion-icon>\\n    </ion-item-option>\\n  </ion-item-options>\\n  <ion-item-options side=\\\"end\\\">\\n  <ion-item-option *ngIf=\\\"showAvailable\\\">\\n    <ion-icon style=\\\"color: darkgreen\\\" *ngIf=\\\"(aBook.isReserved || aBook.isBorrowed) && !aBook.isAvailable\\\" slot=\\\"icon-only\\\"\\n    src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(aBook._id)\\\"></ion-icon>\\n  </ion-item-option>   \\n  <ion-item-option>\\n    <ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\"\\n    src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(aBook._id)\\\"></ion-icon>\\n  </ion-item-option> \\n  </ion-item-options>\\n</ion-item-sliding>\\n\\n<ion-item-sliding *ngFor=\\\"let bBook of borrowedBooks\\\">\\n  <ion-item *ngIf=\\\"showBorrowed\\\">\\n    <ion-card *ngIf=\\\"showBorrowed\\\">\\n     <ion-thumbnail *ngIf=\\\"showBorrowed\\\">\\n       <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n       <img-loader [src]=\\\"(bookIdImageMap.get(bBook._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n     </ion-thumbnail>\\n    </ion-card>\\n    <ion-label *ngIf=\\\"showBorrowed\\\" class=\\\"ion-text-wrap\\\">\\n         <strong>{{bBook.bookname}}</strong>\\n         <h3> in {{bBook.booklanguage}}. By - {{bBook.bookauthor}}.</h3>\\n         <p></p>\\n         <ion-note *ngIf=\\\"bBook.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{bBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"bBook.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{bBook.bookcurrentstatus}}</ion-note>\\n         <ion-note *ngIf=\\\"bBook.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{bBook.bookcurrentstatus}}</ion-note>       \\n     </ion-label>\\n  </ion-item>\\n <ion-item-options side=\\\"start\\\">\\n   <ion-item-option *ngIf=\\\"showBorrowed\\\">\\n     <ion-icon style=\\\"color: red\\\" *ngIf=\\\"bBook.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n     (click)=\\\"deleteBook(bBook._id)\\\"></ion-icon>\\n   </ion-item-option>\\n</ion-item-options>\\n<ion-item-options side=\\\"end\\\">\\n    <ion-item-option *ngIf=\\\"showBorrowed\\\">\\n      <ion-icon style=\\\"color: darkgreen\\\" *ngIf=\\\"(bBook.isReserved || bBook.isBorrowed) && !bBook.isAvailable\\\" slot=\\\"icon-only\\\"\\n      src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(bBook._id)\\\"></ion-icon>\\n    </ion-item-option>\\n    <ion-item-option>\\n      <ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\"\\n      src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(bBook._id)\\\"></ion-icon>\\n    </ion-item-option>\\n</ion-item-options>\\n</ion-item-sliding>\\n\\n<ion-button shape=\\\"round\\\" margin-top expand=\\\"block\\\">\\n  <ion-icon style=\\\"color: #145A32; \\\" src=\\\"../assets/icon/book.svg\\\"></ion-icon>\\n  <span style=\\\"color:  #17202A; margin-left: 5px; \\\" class=\\\"ion-text-left\\\">All my books</span>\\n</ion-button>\\n\\n    <ion-item-sliding *ngFor=\\\"let book of allBooks \\\">\\n         <ion-item>\\n           <ion-card>\\n            <ion-thumbnail>\\n              <!--<ion-img [src]=\\\"(bookIdImageMap.get(book._id))\\\"></ion-img>-->\\n              <img-loader [src]=\\\"(bookIdImageMap.get(book._id))\\\" useImg (load)=\\\"onImageLoad($event)\\\"></img-loader>\\n            </ion-thumbnail>\\n           </ion-card>\\n           <ion-label class=\\\"ion-text-wrap\\\">\\n                <strong>{{book.bookname}}</strong>\\n                <h3> in {{book.booklanguage}}. By - {{book.bookauthor}}.</h3>\\n                <p></p>\\n                <ion-note *ngIf=\\\"book.bookcurrentstatus == 'available' \\\" style=\\\"color: green\\\">{{book.bookcurrentstatus}}</ion-note>\\n                <ion-note *ngIf=\\\"book.bookcurrentstatus == 'borrowed' \\\" style=\\\"color: red\\\">{{book.bookcurrentstatus}}</ion-note>\\n                <ion-note *ngIf=\\\"book.bookcurrentstatus == 'reserved' \\\" style=\\\"color: orange\\\">{{book.bookcurrentstatus}}</ion-note>       \\n            </ion-label>\\n         </ion-item>\\n        <ion-item-options side=\\\"start\\\">\\n          <ion-item-option >\\n            <ion-icon style=\\\"color: red\\\" *ngIf=\\\"book.isAvailable\\\" slot=\\\"icon-only\\\" src=\\\"../assets/icon/trash.svg\\\"\\n            (click)=\\\"deleteBook(book._id)\\\"></ion-icon>\\n          </ion-item-option>\\n       </ion-item-options>\\n       <ion-item-options side=\\\"end\\\">\\n        <ion-item-option>\\n          <ion-icon style=\\\"color: darkgreen\\\" *ngIf=\\\"(book.isReserved || book.isBorrowed) && !book.isAvailable\\\" slot=\\\"icon-only\\\"\\n          src=\\\"../assets/icon/scan.svg\\\" (click)=\\\"scanToLendOrRelease(book._id)\\\"></ion-icon>\\n         <ion-item-option>\\n            <ion-icon style=\\\"color: darkgreen\\\"  slot=\\\"icon-only\\\"\\n            src=\\\"../assets/icon/scan-circle-outline.svg\\\" (click)=\\\"arBookModal(book._id)\\\">\\n          </ion-icon>\\n          </ion-item-option>\\n        </ion-item-option>    \\n      </ion-item-options>\\n    </ion-item-sliding>\\n\\n\\n\\n\\n  </ion-list>\\n  <!--<ion-infinite-scroll (ionInfinite)=\\\"loadMoreBooks($event)\\\">\\n    <ion-infinite-scroll-content loadingText=\\\"..loading\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>-->\\n\\n\\n</ion-content>\\n\"","module.exports = \".profile-pic {\\n  width: 200px;\\n  height: 200px;\\n  border: gray solid 1px;\\n  margin: 10px auto; }\\n\\n.welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n.display_heading {\\n  margin: 10px auto;\\n  padding: 10px; }\\n\\n.spinner-container {\\n  width: 100%;\\n  text-align: center;\\n  padding: 10px; }\\n\\n.book-card {\\n  margin: 5px;\\n  padding: 10px; }\\n\\n.book-image {\\n  border: gray solid 1px;\\n  margin: 5px; }\\n\\n.displaycard {\\n  margin: 5px;\\n  padding: 5px;\\n  background-color: whitesmoke; }\\n\\n.displayinnercard {\\n  margin-top: auto;\\n  margin-left: 30px;\\n  padding: 5px;\\n  background-color: ghostwhite; }\\n\\n.display_heading {\\n  margin-left: 0px;\\n  padding: 0px; }\\n\\nion-button {\\n  --background: #E9F7EF; }\\n\\nion-button span {\\n    text-align: left; }\\n\\nion-toolbar {\\n  --background: #145A32; }\\n\\nion-item-option {\\n  --background: #F8F9F9; }\\n\\nion-list-header {\\n  padding-left: 0px;\\n  display: block;\\n  text-align: center; }\\n\\nspan.ion-text-left {\\n  margin-right: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC90YWIzL3RhYjMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksWUFBWTtFQUNaLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsaUJBQWlCLEVBQUE7O0FBR3JCO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBOztBQUdsQjtFQUNFLGlCQUFpQjtFQUNqQixhQUFhLEVBQUE7O0FBR2Y7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGFBQWEsRUFBQTs7QUFHZjtFQUlJLFdBQVc7RUFDWCxhQUFhLEVBQUE7O0FBR2pCO0VBR0ksc0JBQXNCO0VBQ3RCLFdBQVcsRUFBQTs7QUFHZjtFQUlHLFdBQVc7RUFDWCxZQUFZO0VBQ1osNEJBQTRCLEVBQUE7O0FBRzlCO0VBSUcsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osNEJBQTJCLEVBQUE7O0FBRzdCO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVksRUFBQTs7QUFHZDtFQUNFLHFCQUFhLEVBQUE7O0FBRGY7SUFHSSxnQkFBZSxFQUFBOztBQUtuQjtFQUVFLHFCQUFhLEVBQUE7O0FBR2Y7RUFDRSxxQkFBYSxFQUFBOztBQUdmO0VBRUUsaUJBQWdCO0VBQ2hCLGNBQWE7RUFDYixrQkFBa0IsRUFBQTs7QUFJcEI7RUFDRSxrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3RhYjMvdGFiMy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5wcm9maWxlLXBpYyB7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgYm9yZGVyOiBncmF5IHNvbGlkIDFweDtcbiAgICBtYXJnaW46IDEwcHggYXV0bztcbn1cblxuLndlbGNvbWUtY2FyZCBpb24taW1nIHtcbiAgbWF4LWhlaWdodDogMzV2aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmRpc3BsYXlfaGVhZGluZyB7XG4gIG1hcmdpbjogMTBweCBhdXRvO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uc3Bpbm5lci1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uYm9vay1jYXJkIHtcblxuICAgIC8vaGVpZ2h0OjUwcHg7XG4gICAgLy9ib3JkZXI6IGdyYXkgc29saWQgMXB4O1xuICAgIG1hcmdpbjogNXB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5ib29rLWltYWdlIHtcbiAgICAvL3dpZHRoOiAzMDBweDtcbiAgICAvL2hlaWdodDogMzAwcHg7XG4gICAgYm9yZGVyOiBncmF5IHNvbGlkIDFweDtcbiAgICBtYXJnaW46IDVweDtcbn1cblxuLmRpc3BsYXljYXJkIHtcbiAgLy8gd2lkdGg6IDMwdnc7XG4gICAvL2hlaWdodDozMHZoO1xuICAvLyBib3JkZXI6IGdyZXkgc29saWQgMXB4O1xuICAgbWFyZ2luOiA1cHg7XG4gICBwYWRkaW5nOiA1cHg7XG4gICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlO1xuIH1cbiBcbiAuZGlzcGxheWlubmVyY2FyZCB7XG4gICAvLyB3aWR0aDogMzB2dztcbiAgICAvL2hlaWdodDozMHZoO1xuICAgLy8gYm9yZGVyOiBncmV5IHNvbGlkIDFweDtcbiAgICBtYXJnaW4tdG9wOiBhdXRvO1xuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOmdob3N0d2hpdGU7XG4gIH1cblxuICAuZGlzcGxheV9oZWFkaW5nIHtcbiAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgIHBhZGRpbmc6IDBweDtcbiAgfVxuXG4gIGlvbi1idXR0b24ge1xuICAgIC0tYmFja2dyb3VuZDogI0U5RjdFRjtcbiAgICBzcGFue1xuICAgICAgdGV4dC1hbGlnbjpsZWZ0O1xuICAgICAgXG4gICAgfVxuICB9XG5cbiAgaW9uLXRvb2xiYXIge1xuICAgIC8vQGF0LXJvb3Q6ICMxQjRGNzI7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMTQ1QTMyO1xuICB9XG5cbiAgaW9uLWl0ZW0tb3B0aW9uIHtcbiAgICAtLWJhY2tncm91bmQ6ICNGOEY5Rjk7XG4gIH1cblxuICBpb24tbGlzdC1oZWFkZXIge1xuXG4gICAgcGFkZGluZy1sZWZ0OjBweDtcbiAgICBkaXNwbGF5OmJsb2NrO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgIFxuICB9XG5cbiAgc3Bhbi5pb24tdGV4dC1sZWZ0IHtcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4gXG4iXX0= */\"","import { Component, OnInit, Inject, AfterViewInit, ViewChild  } from '@angular/core';\nimport { FormControl, FormBuilder } from \"@angular/forms\";\nimport { Observable } from 'rxjs';\nimport { debounceTime } from \"rxjs/operators\";\nimport { Router, ActivatedRoute, Params} from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { switchMap } from 'rxjs/operators';\nimport { ModalController} from '@ionic/angular';\nimport { DomSanitizer, SafeResourceUrl, SafeUrl} from '@angular/platform-browser';\nimport { BarcodeScanner, BarcodeScannerOptions } from '@ionic-native/barcode-scanner/ngx';\nimport { SortPipe } from '../shared/sort.pipe'\nimport { AlertController } from '@ionic/angular';\nimport { CameraOptions, Camera } from \"@ionic-native/camera/ngx\";\n\nimport { Book, BookActions, BookLanguage, BookCurrentStatus} from '../shared/book';\nimport { Feedback, ContactType } from '../shared/feedback';\nimport { BookdetailService } from '../services/bookdetail.service';\nimport { AuthService } from '../services/auth.service';\nimport { BooksService } from '../services/books.service';\nimport { ReadarsService } from '../services/readars.service';\nimport { AvailableService} from '../services/available.service';\nimport { ReservedService } from '../services/reserved.service';\nimport { BorrowedService} from '../services/borrowed.service';\nimport { FeedbackService } from '../services/feedback.service';\nimport { SearchedMyData } from '../services/searchmybooks.service';\nimport { AddbookPage } from '../addbook/addbook.page';\nimport { ArbookPage} from '../arbook/arbook.page';\nimport { Subscription } from 'rxjs';\n\nimport { ImageLoaderService } from 'ionic-image-loader-v5';\n\n\nenum CodeOps {\n  getQrCode,\n  getScannedCode,\n  compareCodes\n}\n\n@Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss']\n})\n\n\n\nexport class Tab3Page implements OnInit, AfterViewInit {\n\n  qrCheckString: string;\n  scannedDataString: string;\n\n  myProfileImage;\n  scannedData: any;\n\n  username: string = undefined;\n  subscription: Subscription;\n  \n  bookcurrentUsername: string;\n  \n  books: Book[];\n  allBooks: Book[];\n  \n  \n  reservedBooks: Book[] = [];\n  availableBooks: Book[] = [];\n  borrowedBooks:Book[] = [];\n  bookList: Book[];\n  bookIds: Book[];\n  bookLendMakeCollection: Book[];\n  bookDeleteCollection: Book[];\n  errMess: string;\n \n\n  public items: any;\n  public searchTerm : string = \"\";\n  public searchControl: FormControl;\n\n  descending: boolean = false;\n  order: number;\n  column: string = 'booklanguage';\n\n  public bookIdsImages = new Map();\n  public bookIdImageMap = new Map();\n  public url: SafeResourceUrl;\n\n  name = 'Angular';\n  //favorites: Favorite;\n  delete: boolean;\n  currentRouter = this.router.url;\n\n\n  lbookIds: any[];\n  book: Book;\n  addbook: Book;\n  removebook: Book;\n  bookCopy: Book;\n\n  booklanguage = BookLanguage;\n  bookactions = BookActions;\n  bookcurrentstatus = BookCurrentStatus;\n  //feedback: Feedback;\n  contactType = ContactType;\n  submitted = null;\n  showForm = true;\n\n  borrowed: boolean;\n  reserved: boolean;\n  available: boolean;\n  lendmake: boolean;\n  remove: boolean;\n  showAvailable: boolean;\n  showReserved: boolean;\n  showBorrowed: boolean;\n  showAll: boolean;\n  collectionEmptyAV: boolean;\n  collectionEmptyLM: boolean;\n  panelOpenState = false;\n\n  constructor(\n    private _camera: Camera,\n    private _alertController: AlertController,\n    private _modalController: ModalController,\n    private authService: AuthService,\n    public navCtrl: NavController,\n    private readarsService: ReadarsService,\n    @Inject('baseURL') private baseURL,\n    private router: Router,\n    private route: ActivatedRoute,\n    private searchedMyData: SearchedMyData,\n    private fb: FormBuilder,\n    private feedbackservice: FeedbackService,\n    private booksService: BooksService,\n    private reservedService: ReservedService,\n    private borrowedService: BorrowedService,\n    private availableService: AvailableService,\n    private activatedRoute: ActivatedRoute,\n    private barCodeScanner: BarcodeScanner,\n    private imageLoaderService: ImageLoaderService) {\n        this.searchControl = new FormControl();\n  }\n\n  ngOnInit() {\n    this.setFilteredItems();\n\n    \n    this.authService.loadUserCredentials();\n    this.subscription = this.authService.getUsername()\n      .subscribe(name => { \n        \n        console.log(name); \n        this.username = name; \n        this.booksService.getBooks()\n         .subscribe(books => {\n          this.allBooks = books;\n          console.log(\"TAB3 BOOKS\", this.allBooks);\n      }, errmess => this.errMess = <any>errmess);\n\n      this.prepareBookIdsImagesMap();\n      \n      });\n\n     \n\n    \n    \n  }\n\n  ionViewWillEnter() {\n\n    this.prepareBookIdsImagesMap();\n    this.booksService.getBooks()\n      .subscribe(books => {\n          this.allBooks = books;\n          console.log(\"TAB3 BOOKS\", this.allBooks);\n      }, errmess => this.errMess = <any>errmess);\n\n  }\n\n  displayBooksByStatus(event) {\n\n    console.log(\"inside displayBooksBYStatus function\");\n    this.showAvailable = false;\n    this.showReserved = false;\n    this.showBorrowed = false;\n    this.showAll = false;\n\n    if (event.detail.value === 'Available') {\n        console.log(\"inside AVAILABLE condition\");\n        this.showAvailable = true;\n        this.availableBooks = [];\n        let i = 0;\n        let j = 0;\n        while (i < this.allBooks.length) {\n          \n          if (this.allBooks[i].bookcurrentstatus === 'available') {\n            this.availableBooks[j] = this.allBooks[i];\n            j++;\n          }\n          i++;\n        }\n        console.log(\"BOOK Status & COLLECTION\", event.detail.value, this.availableBooks.length)\n\n    }\n\n    if (event.detail.value === 'Reserved') {\n      console.log(\"inside RESERVED condition\");\n      this.showReserved = true;\n      this.reservedBooks = [];\n      let i = 0;\n      let j = 0;\n      while (i < this.allBooks.length) {\n        \n        if (this.allBooks[i].bookcurrentstatus === 'reserved') {\n          this.reservedBooks[j] = this.allBooks[i];\n          j++;\n        }\n        i++;\n      }\n      console.log(\"BOOK Status & COLLECTION\", event.detail.value, this.reservedBooks.length)\n    }\n\n    if (event.detail.value === 'Borrowed') {\n      console.log(\"inside BORROWED condition\");\n      this.showBorrowed = true;\n      this.borrowedBooks = [];\n      let i = 0;\n      let j = 0;\n      while (i < this.allBooks.length) {\n        \n        if (this.allBooks[i].bookcurrentstatus === 'borrowed') {\n          this.borrowedBooks[j] = this.allBooks[i];\n          j++;\n        }\n        i++;\n      }\n      console.log(\"BOOK Status & COLLECTION\", event.detail.value, this.borrowedBooks.length)\n     \n    }\n\n    if (event.detail.value === 'All') {\n      this.showAll = true;\n     \n    }\n  }\n\n\n  clearCache() {\n    this.imageLoaderService.clearCache();\n    \n    //refresher.complete();\n  }\n\n  onImageLoad(event) {\n    console.log(\"image ready\");\n  }\n\n  /*displayActionCollection(event) {\n\n\n    console.log(\"EVENT DETAIL VALUE\", event.detail.value);\n\n\n    if (event.detail.value === 'Lend Or Make Available') {\n        console.log(\"INSIDE LEND MAKE\");\n          \n          this.lendmake = true;\n          this.remove = false;\n          this.collectionEmptyAV = false;\n          let i=0;\n          let j=0;\n          console.log(\"--------\", this.books);\n          console.log(\"-----LENGTH-----\", this.books.length);\n\n          while (i<this.books.length) {\n              this.reservedService.isReserved(this.books[i]._id)\n              .subscribe(resp => { \n              console.log(resp); \n              this.reserved = <boolean>resp.exists;\n              if (this.reserved) {\n                console.log(\"BOOK\", resp.book);\n                this.reservedBooks[j] = resp.book;\n                console.log(\"RESERVED BOOK\", this.reservedBooks[j]);\n                j++;\n              }\n              if (this.reservedBooks.length == 0) {\n                this.collectionEmptyLM = true;\n              }\n            },err => console.log(err));\n            i++;          \n          }\n\n          i=0; j=0;\n\n          while (i<this.books.length) {\n            this.borrowedService.isBorrowed(this.books[i]._id)\n            .subscribe(resp => { \n            console.log(resp); \n            this.borrowed = <boolean>resp.exists;\n            if (this.borrowed) {\n              console.log(\"BOOK\", resp.book);\n              this.borrowedBooks[j] = resp.book;\n              console.log(\"BORROWED BOOK\", this.borrowedBooks[j]);\n              j++;\n            }\n            if (this.borrowedBooks.length == 0) {\n              this.collectionEmptyLM = true;\n            }\n          },err => console.log(err));\n          i++;          \n        }\n\n      this.bookLendMakeCollection = this.reservedBooks.concat(this.borrowedBooks);\n      console.log(\"bookLendMakeCollection\", this.bookLendMakeCollection);\n      if (this.bookLendMakeCollection.length == 0) {\n\n        this.collectionEmptyLM = true;\n        console.log(\"collectionEmptyLM\", this.collectionEmptyLM)\n      }\n\n    }\n\n    if (event.detail.value === 'Remove') {\n        //this.ngOnInit();\n        this.remove = true;\n        this.lendmake = false;\n        this.collectionEmptyLM = false;\n        console.log(\"COLLECTION EMPTY AV\", this.collectionEmptyAV);\n        console.log(\"INSIDE REMOVE\");\n        let i=0;\n        let j=0;\n        console.log(\"--------\", this.books);\n        console.log(\"-----LENGTH-----\", this.books.length);\n        while (i<this.books.length) {\n            this.availableService.isAvailable(this.books[i]._id)\n            .subscribe(resp => { \n            console.log(resp); \n            this.available = <boolean>resp.exists;\n            if (this.available) {\n              console.log(\"BOOK\", resp.book);\n              this.availableBooks[j] = resp.book;\n              console.log(\"AVAILABLE BOOK\", this.availableBooks[j]);\n              j++;\n            }\n           console.log(\"AVAILABLE BOOKSSSS\", this.availableBooks)\n           if (this.availableBooks.length == 0) {\n            this.collectionEmptyAV = true;\n          }\n          \n          },err => console.log(err));\n\n          i++;          \n        }\n\n      \n    }\n  }*/\n\n  prepareBookIdsImagesMap() {\n\n    // get all the  bookIds\n    // for every  bookID get the corresponding imageURL\n    // store image URL against the bookID in a map\n    // when displaying a view, for every book Id(key), get corresponding img url(value) from the map\n\n    this.booksService.getBookIds().subscribe(bookIds => {\n      this.bookIds = bookIds;\n      this.storeBookIds(this.bookIds);\n      this.lbookIds = this.loadBookIds();\n      for (let i=0; i < this.lbookIds.length; i++) {\n\n        this.booksService.getBookImage(this.lbookIds[i])\n        .subscribe(x => {\n            this.url = x;\n            console.log(\"this.url\", this.url);\n            this.bookIdImageMap.set(this.lbookIds[i], this.url);\n            console.log(\"book image map\", this.bookIdImageMap);\n        }, errMess => console.log(errMess));\n\n\n      }\n    }, errmess => this.errMess = <any>errmess);\n  }\n\n  storeBookIds(bookIds: any[]) {\n    console.log('BookIds stored are :', bookIds);\n    localStorage.setItem('bookIds', JSON.stringify(bookIds));\n  }\n\n  loadBookIds() {\n    this.bookIds = JSON.parse(localStorage.getItem('bookIds'));\n    console.log('bookIds ', this.bookIds);\n    if (this.bookIds) {\n      return this.bookIds;\n    }\n    return;\n  }\n\n\n  ngAfterViewInit() {\n\n  }\n\n  refreshBookList(event) {\n    setTimeout(() => {\n    this.booksService.getBooks()\n      .subscribe(books => {\n        this.books = books;\n      }, errmess => this.errMess = <any>errmess);\n\n      this.clearCache();\n      event.target.complete();\n\n    }, 2000);\n  }\n\n  setFilteredItems() {\n    this.books = this.searchedMyData.filterItems(this.searchTerm);\n    console.log(\"Searched my data\", this.books)\n   \n  }\n\n  deleteBook(id: string) {\n    console.log('Deleting Book ' + id);\n\n    this.booksService.deleteBook(id)\n    .subscribe(removebook => this.removebook = <Book>removebook,\n      errmess => this.errMess = <any>errmess);\n\n    this.booksService.deleteBookImage(id)\n    .subscribe(resp => console.log(resp), errmess => this.errMess = <any>errmess);\n\n      this.delete = false;\n      this.ngOnInit();\n  }\n\n  getCodeValue(codeOpsName: string): CodeOps {\n\n    if (codeOpsName === 'xyz') {\n      return CodeOps.getQrCode;\n    }\n\n    if (codeOpsName === 'abc') {\n      return CodeOps.getScannedCode;\n    }\n    \n  }\n\n  \n\n  async scanToLendOrRelease(id: string) {\n\n    const alert = await this._alertController.create({\n      header: \"Choose your action\",\n      message: \"Lend or Make Book Available\",\n      buttons: [\n        {\n          text: \"Lend\",\n          handler: ()=> {\n           this.scanForLend(id); \n          }\n        },\n        {\n          text: \"Make Available\",\n          handler: ()=> {\n           this.scanForRelease(id);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  getQRCheckString(id: string) {\n\n    //this.ngOnInit();\n    console.log(\"INSIDE GET CHECK QR STRING\")\n\n    for (let i=0; i < this.books.length; i++) {\n\n      if (this.books[i]._id === id) {\n        \n        \n         this.qrCheckString = this.books[i]._id +\n                              this.books[i].bookowner.username +\n                              this.books[i].bookcurrentuser;\n          console.log(\"QR CHECK STRING\", this.qrCheckString);\n          return this.qrCheckString;\n      }\n      //break;\n    }\n    \n  }\n\n  scanForLend(id) {\n\n    console.log(\"INSIDE LEND\");\n    \n    this.booksService.getBook(id)\n                  .subscribe(book => {\n                  \n                   this.bookcurrentUsername = book.bookcurrentuser;\n                   this.qrCheckString = book._id +\n                                        book.bookowner.username +\n                                        book.bookcurrentuser;\n      \n                  console.log(\"QR CHECK STRING IS\", this.qrCheckString);\n\n                  const options: BarcodeScannerOptions = {\n                    preferFrontCamera: false,\n                    showFlipCameraButton: true,\n                    showTorchButton: true,\n                    torchOn: false,\n                    prompt: 'Place a barcode inside the scan area',\n                    resultDisplayDuration: 500,\n                    formats: 'EAN_13,EAN_8,QR_CODE,PDF_417 ',\n                    orientation: 'portrait',\n                  };\n              \n                  this.barCodeScanner.scan(options).then(barcodeData => {\n                   \n                    console.log(\"CHECK STRING IS ------>\", this.qrCheckString);\n                    this.scannedData = barcodeData;\n                    console.log(\"SCANNED DATA IS ------> \", this.scannedData[\"text\"]);\n\n                    if(this.qrCheckString === this.scannedData[\"text\"]) {\n\n                      console.log(\"MATCH SUCCESS\")\n                      console.log('LENDING BOOK ' + id);\n                       \n                          this.router.navigate([this.currentRouter]);\n                          this.book = book;\n                          this.book.bookavailable = false;\n                          this.book.bookreserved = true;\n                          this.book.bookborrowed = true;\n                          this.book.bookcurrentuser = this.bookcurrentUsername;\n                          this.book.bookcurrentstatus = 'borrowed';\n                          this.booksService.lendBook(id, this.book)\n                          .subscribe(book => {\n                            console.log(book); \n                            this.borrowed = true; \n                            this.reserved = true;\n                            this.qrCheckString = \"\";\n                          });\n              \n                          \n                          this.ngOnInit();\n              \n                         \n                      \n                    }\n                    else {\n                      console.log(\"QR CODES DON'T MATCH\");\n                    }\n                    \n                  })\n                  .catch(err => {console.log('Error', err);});\n\n\n      \n                  },  errmess => this.errMess = <any>errmess);\n        \n  }\n\n  scanForRelease(id) {\n\n    console.log(\"INSIDE MAKE AVAILABLE\");\n    \n    this.booksService.getBook(id)\n                  .subscribe(book => {\n                  \n                   this.bookcurrentUsername = book.bookcurrentuser;\n                   this.qrCheckString = book._id +\n                                        book.bookowner.username +\n                                        book.bookcurrentuser;\n      \n                  console.log(\"QR CHECK STRING IS\", this.qrCheckString);\n\n                  const options: BarcodeScannerOptions = {\n                    preferFrontCamera: false,\n                    showFlipCameraButton: true,\n                    showTorchButton: true,\n                    torchOn: false,\n                    prompt: 'Place a barcode inside the scan area',\n                    resultDisplayDuration: 500,\n                    formats: 'EAN_13,EAN_8,QR_CODE,PDF_417 ',\n                    orientation: 'portrait',\n                  };\n              \n                  this.barCodeScanner.scan(options).then(barcodeData => {\n                   \n                    console.log(\"CHECK STRING IS ------>\", this.qrCheckString);\n                    this.scannedData = barcodeData;\n                    console.log(\"SCANNED DATA IS ------> \", this.scannedData[\"text\"]);\n\n                    if(this.qrCheckString === this.scannedData[\"text\"]) {\n\n                      console.log(\"MATCH SUCCESS\")\n                      console.log('RELEASING BOOK ' + id);\n                       \n                      this.router.navigate([this.currentRouter]);\n                     \n                      //this.book.bookcurrentuser = \"\";\n\n\n                      this.booksService.deleteQRBookImage(id, this.bookcurrentUsername)\n                          .subscribe(resp => {\n                            console.log(resp)\n                            console.log(\"QR IMAGE DELETED\");\n\n                            this.book = book;\n                            this.book.bookavailable = true;\n                            this.book.bookreserved = false;\n                            this.book.bookborrowed = false;\n                            this.book.bookcurrentuser = \"\";\n                            this.book.bookcurrentstatus = 'available';\n                            this.booksService.releaseBook(this.book._id, this.book)\n                            .subscribe(book => {\n                                console.log(book); \n                                this.available = true; \n                                this.reserved = false;\n                                this.qrCheckString = \"\";\n                              \n                              });\n\n\n                          }, errmess => this.errMess = <any>errmess);\n\n                     \n                          \n                      this.ngOnInit();\n              \n                    }\n                    else {\n                      console.log(\"QR CODES DON'T MATCH\");\n                    }\n                    \n                  })\n                  .catch(err => {console.log('Error', err);});\n\n\n      \n                  },  errmess => this.errMess = <any>errmess);\n        \n  }\n\n\n\n\n  /*scanForRelease1(id) {\n\n    console.log(\"INSIDE SCAN FOR RELEASE\");\n\n    this.qrCheckString = this.getQRCheckString(id);\n\n    if (this.qrCheckString) {\n        console.log(\"QR CHECK STRING IS\", this.qrCheckString);\n\n\n        const options: BarcodeScannerOptions = {\n          preferFrontCamera: false,\n          showFlipCameraButton: true,\n          showTorchButton: true,\n          torchOn: false,\n          prompt: 'Place a barcode inside the scan area',\n          resultDisplayDuration: 500,\n          formats: 'EAN_13,EAN_8,QR_CODE,PDF_417 ',\n          orientation: 'portrait',\n        };\n\n        this.barCodeScanner.scan(options).then(barcodeData => {\n          //console.log('Barcode data', barcodeData);\n          console.log(\"CHECK STRING IS ------>\", this.qrCheckString);\n          this.scannedData = barcodeData;\n          console.log(\"SCANNED DATA IS ------> \", this.scannedData[\"text\"]);\n          \n          if(this.qrCheckString === this.scannedData[\"text\"]) {\n            console.log(\"MATCH SUCCESS\")\n            console.log('RELEASING BOOK ' + id);\n\n            this.booksService.getBook(id)\n            .subscribe(book => {\n              this.router.navigate([this.currentRouter]);\n              this.book = book;\n              this.book.bookavailable = true;\n              this.book.bookreserved = false;\n              this.book.bookborrowed = false;\n              this.book.bookcurrentuser = \"\";\n              this.booksService.releaseBook(this.book._id, this.book)\n              .subscribe(book => {\n                  console.log(book); \n                  this.available = true; \n                  this.reserved = false;\n                  this.qrCheckString = '';\n                  console.log(\"ABOUT TO DELETE QR IMAGE FOR THIS BOOK ID\", id);\n                  this.booksService.deleteQRBookImage(id)\n                  .subscribe(resp => console.log(resp), errmess => this.errMess = <any>errmess);\n        \n                });\n              },  errmess => this.errMess = <any>errmess);\n            this.ngOnInit();\n          }\n          else {\n            console.log(\"QR CODES DON'T MATCH\");\n          }\n          \n        })\n        .catch(err => {console.log('Error', err);});\n                \n    } \n    else {\n      console.log(\"QR CHECK STRING NOT FOUND\");\n    }\n\n  }*/\n\n \n\n  /*\n\n  this.reservedService.isReserved(this.book._id)\n  .subscribe(resp => { console.log(resp); this.reserved = <boolean>resp.exists; },\n      err => console.log(err));\n\n   this.availableService.isAvailable(this.book._id)\n   .subscribe(resp => { console.log(resp); this.available = <boolean>resp.exists; },\n      err => console.log(err));\n\n\n          */\n\n  \n\n  loadMoreBooks(event) {\n    setTimeout(() => {\n    /*  this.bookList = this.books;\n      const newBooks = [...this.bookList];\n      this.books = this.bookList.concat(newBooks);*/\n    }, 3000);\n  }\n\n  async addBookModal() {\n\n    const addbookModal = await this._modalController.create({\n      component: AddbookPage\n    });\n\n    return addbookModal.present();\n  }\n\n  async arBookModal(id: string) {\n\n    const arbookModal = await this._modalController.create({\n      component: ArbookPage,\n      componentProps: {\n        bookId: id\n      }\n    });\n\n    return arbookModal.present();\n  }\n\n\n\n}\n"],"sourceRoot":""}