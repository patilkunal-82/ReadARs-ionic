{"version":3,"sources":["webpack:///./src/app/bookdetail/bookdetail.module.ts","webpack:///./src/app/bookdetail/bookdetail.page.html","webpack:///./src/app/bookdetail/bookdetail.page.scss","webpack:///./src/app/bookdetail/bookdetail.page.ts","webpack:///./src/app/bookvideo/bookvideo.module.ts","webpack:///./src/app/bookvideo/bookvideo.page.html","webpack:///./src/app/bookvideo/bookvideo.page.scss","webpack:///./src/app/bookvideo/bookvideo.page.ts","webpack:///./src/app/services/reserved.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEM;AACiB;AAEpE,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAc;KAC1B;CAEF,CAAC;AAYF;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QAVhC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,+EAAmB;gBACnB,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,+DAAc,CAAC;SAC/B,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;;;;AC5BjC,2bAA2b,gBAAgB,2GAA2G,uBAAuB,0CAA0C,2BAA2B,GAAG,0BAA0B,mDAAmD,kBAAkB,oDAAoD,wBAAwB,gDAAgD,uBAAuB,oDAAoD,uBAAuB,mIAAmI,qFAAqF,gBAAgB,gJAAgJ,mFAAmF,gBAAgB,24BAA24B,sBAAsB,4JAA4J,sBAAsB,mPAAmP,gCAAgC,mJAAmJ,gCAAgC,mKAAmK,kCAAkC,2iB;;;;;;;;;;;ACA3oG,+DAA+D,mJ;;;;;;;;;;;;;;;;;;;;;;;;;;ACA+B;AAGnD;AAIwB;AACF;AAChB;AACgB;AAEA;AACN;AAME;AAEE;AAO/D;IA8BE,wBACU,YAA2B,EAC3B,gBAAiC,EACzC,iBAAoC,EACpC,cAA8B,EACtB,cAA8B,EAC9B,eAAgC,EAChC,KAAqB,EACrB,MAAc,EACd,aAA4B,EAC5B,UAAsB;QATtB,iBAAY,GAAZ,YAAY,CAAe;QAC3B,qBAAgB,GAAhB,gBAAgB,CAAiB;QAGjC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,kBAAa,GAAb,aAAa,CAAe;QAC5B,eAAU,GAAV,UAAU,CAAY;QAlBhC,eAAU,GAAG,OAAO,CAAC;QACrB,aAAQ,GAAG,KAAK,CAAC;QACjB,aAAQ,GAAG,KAAK,CAAC;QAEjB,oBAAoB;QACpB,mBAAc,GAAG,KAAK,CAAC;QAerB;;;;yDAIiD;IACjD,CAAC;IAEH,iCAAQ,GAAR;QAAA,iBAyBC;QAvBC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,iBAAO;YAChD,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QAClC,CAAC,EAAE,iBAAO,IAAI,YAAI,CAAC,OAAO,GAAQ,OAAO,EAA3B,CAA2B,CAAC,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,yBAAyB,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,yBAAyB,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QACrD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,gEAAS,CAAC,UAAC,MAAc;YAC9C,KAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;YAC3B,OAAO,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC;aAC1D,SAAS,CAAC,cAAI;YACb,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,oBAAoB,GAAE,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACjD,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAChC,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC;YAC1B;;2CAE+B;YAC/B,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;iBAC7C,SAAS,CAAC,cAAI,IAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,GAAY,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAC3E,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;QAC/B,CAAC,EACD,iBAAO,IAAI,YAAI,CAAC,OAAO,GAAQ,OAAO,EAA3B,CAA2B,CAAC,CAAC;IAC3C,CAAC;IAED,oCAAW,GAAX,UAAY,MAAc;QAExB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAE/B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnC,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7C,OAAO,CAAC,GAAG,CAAC,sBAAsB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC3D,OAAO,CAAC,GAAG,CAAC,iBAAiB,GAAG,MAAM,CAAC,CAAC;QACxC,6CAA6C;QAC7C,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAG5C,OAAO,CAAC,GAAG,CAAC,iCAAiC,GAAG,MAAM,CAAC,CAAC;QACxD,6CAA6C;QAC/C;;8FAEsF;QAEpF,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,GAAE,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACpF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,GAAE,CAAC,CAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACrF,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAID,+BAAM,GAAN;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;IACxD,CAAC;IAED,+BAAM,GAAN;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;IACxD,CAAC;IAED,+BAAM,GAAN;QACE,uBAAuB;QACvB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAED;;;;;;;;;;OAUG;IAEH,iCAAQ,GAAR;QACE;;;;;;aAMK;QACL;;;;;;aAMK;IACP,CAAC;IAED,uCAAc,GAAd,UAAe,IAAU;QACzB;;;;;;;;;;;;;;;;aAgBK;IACL,CAAC;IAED;;;;;OAKG;IAEH,oCAAW,GAAX;QAAA,iBASC;QARC,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;QAC5D,KAAK,CAAC,wHAAwH,CAAC,CAAC;QAChI,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC;aACtD,SAAS,CAAC,cAAI,IAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAC,CAAC,CAAC;QACpE,kBAAkB;IAClB,CAAC;IAED,qCAAY,GAAZ,UAAa,OAAc;QACzB,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,OAAO,CAAC,CAAC;QAC7C,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED,oCAAW,GAAX;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3D,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACtC,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,OAAO,IAAI,CAAC,OAAO,CAAC;SACrB;QACD,OAAO;IACT,CAAC;IAED,mCAAU,GAAV;QACE,IAAI,KAAK,GAAG;YACV,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK;YAC7B,MAAM,EAAE,IAAI;SACX,CAAC;QAEJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,kCAAS,GAAT;QACE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC;aACxD,IAAI,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,GAAG,CAAC,EAApC,CAAoC,CAAC;aACjD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,GAAG,CAAC,EAA1C,CAA0C,CAAC,CAAC;IAC9D,CAAC;IAED,8BAAK,GAAL;QACA;;eAEO;IAEP,CAAC;IAGK,kCAAS,GAAf;;;;;;KAcC;IA3OU,cAAc;QAL1B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,wGAAqC;;SAEtC,CAAC;+EAgCwB,8EAAa;YACT,8DAAe;YACtB,8EAAiB;YACpB,8DAAc;YACN,wEAAc;YACb,2EAAe;YACzB,8DAAc;YACb,sDAAM;YACC,8EAAa;YAChB,wEAAU;OAxCrB,cAAc,CA6O1B;IAAD,qBAAC;CAAA;AA7O0B;;;;;;;;;;;;;;;;;;;;;;AC5Bc;AACM;AACF;AAEA;AAEI;AAYjD;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAT/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;aACZ;YACD,eAAe,EAAE,CAAC,6DAAa,CAAC;YAChC,YAAY,EAAE,CAAC,6DAAa,CAAC;SAC9B,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;AClBhC,wX;;;;;;;;;;;ACAA,8BAA8B,gBAAgB,iBAAiB,qBAAqB,EAAE,+CAA+C,me;;;;;;;;;;;;;;;;;;ACAnF;AACU;AAO5D;IAGE,uBACE,SAAoB,EACZ,gBAAiC;QAAjC,qBAAgB,GAAhB,gBAAgB,CAAiB;QACvC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC3C,CAAC;IAEJ,gCAAQ,GAAR;IACA,CAAC;IAED,kCAAU,GAAV;QACE,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;IAClC,CAAC;IAdU,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,eAAe;YACzB,qGAAoC;;SAErC,CAAC;+EAKa,wDAAS;YACM,8DAAe;OALhC,aAAa,CAgBzB;IAAD,oBAAC;CAAA;AAhByB;;;;;;;;;;;;;;;;;;;;;;;;ACRiB;AAKO;AACZ;AACM;AAEA;AACsB;AACrB;AAK7C;IAGE,yBAAoB,IAAgB,EAC3B,IAAiB,EAChB,qBAA4C;QAFlC,SAAI,GAAJ,IAAI,CAAY;QAC3B,SAAI,GAAJ,IAAI,CAAa;QAChB,0BAAqB,GAArB,qBAAqB,CAAuB;IAAI,CAAC;IAEzD,0CAAgB,GAAhB;QACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;YAC3B,OAAO,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAS,uDAAO,GAAG,0BAA0B,CAAC;aAC/D,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,oCAAU,GAAV,UAAW,EAAU;QAArB,iBAMC;QALC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;YAC3B,OAAO,+CAAE,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAiB,uDAAO,GAAG,WAAW,GAAG,EAAE,CAAC;aAC/D,IAAI,CAAC,iEAAU,CAAC,eAAK,IAAI,YAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,KAAK,CAAC,EAA7C,CAA6C,CAAC,CAAC,CAAC;IAC5E,CAAC;IArBQ,eAAe;QAH3B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;+EAI0B,+DAAU;YACrB,yDAAW;YACO,8EAAqB;OAL3C,eAAe,CAwB3B;IAAD,sBAAC;CAAA;AAxB2B","file":"bookdetail-bookdetail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BookdetailPage } from './bookdetail.page';\nimport { BookvideoPageModule } from '../bookvideo/bookvideo.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BookdetailPage,\n  }\n\n];\n\n@NgModule({\n  imports: [\n    BookvideoPageModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BookdetailPage]\n})\nexport class BookdetailPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title></ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<!--  <ion-img [src]=\\\"(bookDetail | async)?.image\\\"></ion-img> -->\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-icon src=\\\"../assets/icon/book.svg\\\" size=\\\"large\\\"></ion-icon>\\n      <ion-card-title>\\n        {{book?.bookname}}\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n        <p> Book Description: {{book?.bookdescription}}\\n        </p>\\n        <p> Book Owner: {{book?.bookowner.firstname}} {{book?.bookowner.lastname}}\\n        </p>\\n        <p> Book Owner's rating: {{book?.bookrating}}\\n        </p>\\n        <p> Book Owner's address: {{book?.bookowneraddress}}\\n        </p>\\n        <p> Book Owner Email: {{book?.bookowner.email}}\\n        </p>\\n        <p> Book Owner Telephone: {{book?.bookownertelnum}}\\n        </p>\\n    </ion-card-content>\\n\\n    <ion-card no-margin>\\n      <ion-card-content *ngIf=\\\"reserved\\\" style=\\\"color: red;\\\">\\n        <ion-icon src=\\\"../assets/icon/lock-closed.svg\\\"></ion-icon>\\n        {{book?.bookname}} is currently not available ! Please check later..\\n      </ion-card-content>\\n      <ion-card-content *ngIf=\\\"!reserved\\\" style=\\\"color: green;\\\">\\n        <ion-icon src=\\\"../assets/icon/lock-open.svg\\\"></ion-icon>\\n        {{book?.bookname}} is available !\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-fab *ngIf=\\\"!reserved\\\" vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n      <ion-fab-button>\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-list side=\\\"bottom\\\">\\n        <ion-fab-button (click)=\\\"reserveBook()\\\">\\n          <ion-icon color=\\\"success\\\" src=\\\"../assets/icon/lock-closed.svg\\\"></ion-icon>\\n        </ion-fab-button>\\n        <ion-fab-button>\\n            <ion-icon color=\\\"success\\\" src=\\\"../assets/icon/call.svg\\\" (click)=\\\"callOwner()\\\"></ion-icon>\\n        </ion-fab-button>\\n          <ion-fab-button>\\n            <ion-icon  color=\\\"success\\\" src=\\\"../assets/icon/mail.svg\\\" (click)=\\\"emailOwner()\\\"></ion-icon>\\n        </ion-fab-button>\\n      </ion-fab-list>\\n    </ion-fab>\\n\\n  <!--  <button mat-button>\\n      <a mat-icon-button class=\\\"btn-mail\\\" href=\\\"mailto:{{book.bookowner.email}}\\\"><i class=\\\"fa fa-envelope-o fa-lg\\\" title=\\\"Contact Book Owner\\\"></i></a>\\n    </button>\\n    <button mat-button>\\n      <a mat-icon-button href=\\\"tel:{{book.bookownertelnum}}\\\"><i class=\\\"fa fa-phone\\\"></i></a>\\n    </button> -->\\n\\n  </ion-card>\\n\\n</ion-content>\\n\\n\\n<!-- <ion-card>\\n  <ion-list lines=\\\"none\\\">\\n    <ion-item>\\n      <ion-label>Duration</ion-label>\\n      <ion-chip color=\\\"primary\\\">\\n        {{(bookDetail | async)?.duration}}\\n      </ion-chip>\\n    </ion-item>\\n    <ion-item>\\n        <ion-label>Category</ion-label>\\n        <ion-chip color=\\\"primary\\\">\\n            {{(bookDetail | async)?.category}}\\n          </ion-chip>\\n      </ion-item>\\n      <ion-item>\\n          <ion-label>Popularity</ion-label>\\n          <ion-chip color=\\\"primary\\\">\\n              {{(bookDetail | async)?.popularity}}\\n            </ion-chip>\\n        </ion-item>\\n  </ion-list>\\n</ion-card>\\n<ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n  <ion-fab-button>\\n    <ion-icon name=\\\"add\\\"></ion-icon>\\n  </ion-fab-button>\\n  <ion-fab-list side=\\\"bottom\\\">\\n      <ion-fab-button (click)=\\\"openModal()\\\">\\n        <ion-icon color=\\\"success\\\" name=\\\"play\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-button (click)=\\\"share()\\\">\\n        <ion-icon color=\\\"dark\\\" name=\\\"share\\\"></ion-icon>\\n      </ion-fab-button>\\n  </ion-fab-list>\\n</ion-fab> -->\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jvb2tkZXRhaWwvYm9va2RldGFpbC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, ViewChild, Inject, ChangeDetectionStrategy } from '@angular/core';\n\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\nimport { Book } from '../shared/book';\nimport { Comment } from '../shared/comment';\nimport { BookdetailService } from '../services/bookdetail.service';\nimport { Router, Params, ActivatedRoute } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport { SocialSharing } from \"@ionic-native/social-sharing/ngx\";\nimport { Location } from '@angular/common';\nimport { EmailComposer } from '@ionic-native/email-composer/ngx';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\n//import { VERSION} from '@angular/material';\n//import { ScrollDispatchModule } from '@angular/cdk/scrolling';\n\nimport { BookvideoPage } from '../bookvideo/bookvideo.page';\nimport { BooksService } from '../services/books.service';\nimport { ReadarsService } from '../services/readars.service';\nimport { FavoriteService } from '../services/favorite.service';\nimport { ReservedService } from '../services/reserved.service';\n\n@Component({\n  selector: 'app-bookdetail',\n  templateUrl: './bookdetail.page.html',\n  styleUrls: ['./bookdetail.page.scss'],\n})\nexport class BookdetailPage implements OnInit {\n\n\n  book: Book;\n  clientBook: Book;\n  books: Book[];\n  bookDetail: Observable<Book>;\n\n\n  bookcopy: Book;\n\n\n  bookIds: string[];\n  lbookIds: string[];\n\n  prev: string;\n  next: string;\n\n  comment: Comment;\n\n  errMess: string;\n\n  visibility = 'shown';\n  favorite = false;\n  reserved = false;\n\n  //version = VERSION;\n  panelOpenState = false;\n\n\n  constructor(\n    private _socialShare: SocialSharing,\n    private _modalController: ModalController,\n    bookdetailService: BookdetailService,\n    activatedRoute: ActivatedRoute,\n    private readarsService: ReadarsService,\n    private reservedService: ReservedService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private emailComposer: EmailComposer,\n    private callNumber: CallNumber\n    ) {\n    /* const bookID = activatedRoute.snapshot.params[\"bookID\"];\n      console.log(bookID);\n      //this.bookDetail = bookdetailService.getBook(bookID);\n      this.bookDetail = readarsService.getBook(bookID);\n      console.log(\"Book Details\", this.bookDetail);*/\n    }\n\n  ngOnInit() {\n\n    this.readarsService.getBookIds().subscribe(bookIds => {\n      this.bookIds = bookIds;\n      this.storeBookIds(this.bookIds);\n    }, errmess => this.errMess = <any>errmess);\n    this.lbookIds = this.loadBookIds();\n    console.log(\"BookIds from getBookIds\" + this.bookIds);\n    console.log(\"BookIds from getBookIds\" + this.bookIds);\n     this.route.params.pipe(switchMap((params: Params) => {\n       this.visibility = 'hidden';\n       return this.readarsService.getBook(params['bookID']); }))\n     .subscribe(book => {\n       this.book = book;\n       console.log(\"Book found for id:\"+ this.book._id);\n       this.setPrevNext(this.book._id);\n       this.visibility = 'shown';\n       /*this.favoriteService.isFavorite(this.dish._id)\n       .subscribe(resp => { console.log(resp); this.favorite = <boolean>resp.exists; },\n           err => console.log(err));*/\n       this.reservedService.isReserved(this.book._id)\n       .subscribe(resp => { console.log(resp); this.reserved = <boolean>resp.exists; },\n           err => console.log(err));\n     },\n     errmess => this.errMess = <any>errmess);\n  }\n\n  setPrevNext(bookId: string) {\n\n    console.log(\"Into setPreNext\");\n\n    this.lbookIds = this.loadBookIds();\n\n    console.log(\"BookIds array\" + this.lbookIds);\n    console.log(\"BookIds array length\" + this.lbookIds.length);\n    console.log(\"Specifc BookId:\" + bookId);\n    //const index = this.bookIds.indexOf(bookId);\n    const index = this.lbookIds.indexOf(bookId);\n\n\n    console.log(\"Specific BookId after try catch\" + bookId);\n    //const index = this.bookIds.indexOf(bookId);\n  /*  console.log(\"Array index\" + index);\n    this.prev = this.bookIds[(this.bookIds.length + index -1) % this.bookIds.length];\n    this.next = this.bookIds[(this.bookIds.length + index +1 ) % this.bookIds.length];*/\n\n    console.log(\"Array index\" + index);\n      this.prev = this.lbookIds[(this.lbookIds.length + index -1) % this.lbookIds.length];\n      this.next = this.lbookIds[(this.lbookIds.length + index +1 ) % this.lbookIds.length];\n      console.log(\"Previous\", this.prev);\n      console.log(\"Next\", this.next);\n  }\n\n\n\n  goPrev(): void {\n    this.router.navigateByUrl('/bookdetail/' + this.prev);\n  }\n\n  goNext(): void {\n    this.router.navigateByUrl('/bookdetail/' + this.next);\n  }\n\n  goBack(): void {\n    //this.location.back();\n    this.router.navigateByUrl('/booklist');\n  }\n\n  /*createForm() {\n    this.commentForm = this.fb.group({\n      rating: '5',\n      comment: ['', Validators.required]\n    });\n\n    this.commentForm.valueChanges\n      .subscribe(data => this.onValueChanged(data));\n\n    this.onValueChanged(); // (re)set validation messages now\n  }*/\n\n  onSubmit() {\n    /*this.dishservice.postComment(this.dish._id, this.commentForm.value)\n      .subscribe(dish => this.dish = <Dish>dish);\n    this.commentFormDirective.resetForm();\n    this.commentForm.reset({\n      rating: 5,\n      comment: ''\n    });*/\n    /*this.readarsService.postComment(this.book._id, this.commentForm.value)\n      .subscribe(book => this.book = <Book>book);\n    this.commentFormDirective.resetForm();\n    this.commentForm.reset({\n      rating: '5',\n      comment: ''\n    });*/\n  }\n\n  onValueChanged(data?: any) {\n  /*  if (!this.commentForm) { return; }\n    const form = this.commentForm;\n    for (const field in this.formErrors) {\n      if (this.formErrors.hasOwnProperty(field)) {\n        // clear previous error message (if any)\n        this.formErrors[field] = '';\n        const control = form.get(field);\n        if (control && control.dirty && !control.valid) {\n          const messages = this.validationMessages[field];\n          for (const key in control.errors) {\n            if (control.errors.hasOwnProperty(key)) {\n              this.formErrors[field] += messages[key] + ' ';\n            }\n          }\n        }\n      }\n    }*/\n  }\n\n  /*addToFavorites() {\n    if (!this.favorite) {\n      this.favoriteService.postFavorite(this.dish._id)\n        .subscribe(favorites => { console.log(favorites); this.favorite = true; });\n    }\n  }*/\n\n  reserveBook() {\n    console.log(\"inside reserveBook of BookdetailComponent.ts\");\n    alert(\"Contact & collect the book from the owner in next 48 hours. Failing which, the book will be made available to others !\");\n    this.book.bookavailable = false;\n    this.book.bookreserved = true;\n    this.book.bookborrowed = false;\n    this.readarsService.reserveBook(this.book._id, this.book)\n      .subscribe(book => { console.log(book); this.reserved = true;});\n  //  this.goBack();\n  }\n\n  storeBookIds(bookIds: any[]) {\n    console.log('BookIds stored are :', bookIds);\n    localStorage.setItem('bookIds', JSON.stringify(bookIds));\n  }\n\n  loadBookIds() {\n    this.bookIds = JSON.parse(localStorage.getItem('bookIds'));\n    console.log('bookIds ', this.bookIds);\n    if (this.bookIds) {\n      return this.bookIds;\n    }\n    return;\n  }\n\n  emailOwner() {\n    let email = {\n      to: this.book.bookowner.email,\n      isHtml: true\n      };\n\n    this.emailComposer.open(email);\n  }\n\n  callOwner() {\n    this.callNumber.callNumber(this.book.bookownertelnum, true)\n      .then(res => console.log('Launched dialer!', res))\n      .catch(err => console.log('Error launching dialer', err));\n  }\n\n  share(){\n  /*  this.bookDetail.subscribe((book)=> {\n      this._socialShare.share(\"Look What I Found On This App Called ReadARs\", book.name, \"\", book.cropped);\n    });*/\n\n  }\n\n\n  async openModal(){\n\n    /*const videoModal = await this._modalController.create({\n      component: BookvideoPage\n    });\n\n  return await this.bookDetail.subscribe((book)=> {\n      videoModal.componentProps = {\n        videoURL: book.video_url\n      };\n\n      return videoModal.present();\n    }); */\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BookvideoPage } from './bookvideo.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  entryComponents: [BookvideoPage],\n  declarations: [BookvideoPage]\n})\nexport class BookvideoPageModule {}\n","module.exports = \"\\n<ion-content color=\\\"dark\\\">\\n\\n  <video autoplay class=\\\"bookvideo\\\">\\n    <source [src]=\\\"videoURL\\\">\\n  </video>\\n\\n  <ion-fab\\n  vertical=\\\"bottom\\\"\\n  horizontal=\\\"center\\\"\\n  slot=\\\"fixed\\\">\\n  <ion-fab-button (click)=\\\"closeModal()\\\" color=\\\"danger\\\">\\n    <ion-icon name=\\\"close\\\"></ion-icon>\\n  </ion-fab-button>\\n\\n</ion-fab>\\n\\n</ion-content>\\n\"","module.exports = \".bookvideo {\\n  width: 100%;\\n  height: auto;\\n  margin-top: 25vh; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rdW5hbHBhdGlsL1BlcnNvbmFsRmFtaWx5L1dvcmtSZWxhdGVkL1Byb2dyYW1taW5nL0lvbmljL1JlYWRBUnNfSW9uaWMvc3JjL2FwcC9ib29rdmlkZW8vYm9va3ZpZGVvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9ib29rdmlkZW8vYm9va3ZpZGVvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib29rdmlkZW8ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBtYXJnaW4tdG9wOiAyNXZoO1xufVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController, NavParams } from '@ionic/angular';\n\n@Component({\n  selector: 'app-bookvideo',\n  templateUrl: './bookvideo.page.html',\n  styleUrls: ['./bookvideo.page.scss'],\n})\nexport class BookvideoPage implements OnInit {\n  videoURL: string;\n\n  constructor(\n    navParams: NavParams,\n    private _modalController: ModalController) {\n      this.videoURL = navParams.get(\"videoURL\");\n     }\n\n  ngOnInit() {\n  }\n\n  closeModal(){\n    this._modalController.dismiss();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Book } from '../shared/book';\n\nimport { Favorite } from '../shared/favorite';\nimport { ReservedExists } from '../shared/reservedExists';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nimport { baseURL } from '../shared/baseurl';\nimport { ProcessHTTPMsgService } from './process-httpmsg.service';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReservedService {\n\n\n  constructor(private http: HttpClient,\n    public auth: AuthService,\n    private processHTTPMsgService: ProcessHTTPMsgService) { }\n\n    getReservedBooks(): Observable<Book[]> {\n      if (!this.auth.isLoggedIn()) {\n        return null;\n      }\n      return this.http.get<Book[]>(baseURL + 'reserved?isReserved=true')\n        .pipe(catchError(this.processHTTPMsgService.handleError));\n    }\n\n    isReserved(id: string): Observable<ReservedExists> {\n      if (!this.auth.isLoggedIn()) {\n        return of({ exists: false, book: null });\n      }\n      return this.http.get<ReservedExists>(baseURL + 'reserved/' + id)\n      .pipe(catchError(error => this.processHTTPMsgService.handleError(error)));\n    }\n\n\n}\n"],"sourceRoot":""}